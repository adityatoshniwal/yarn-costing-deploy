{"version":3,"sources":["utils.js","helpers/Theme.jsx","store/reducers/settings.js","store/reducers/notification.js","components/NavButton.jsx","components/FormElements.jsx","api.js","License.jsx","components/DataGrid.jsx","components/TabPanel.jsx","Settings.jsx","MyMath.js","helpers/CommonDialog.jsx","fonts/mplus-1m-regular-webfont.ttf","fonts/mplus-1m-bold-webfont.ttf","components/PDFRenderComponents.jsx","FabricCosting/SizingSetReport.jsx","FabricCosting/SizingSets.jsx","FabricCosting/AddToSet.jsx","FabricCosting/Calculator.jsx","helpers/ConfirmDialog.jsx","FabricCosting/index.jsx","Master/Agents.jsx","Master/Parties.jsx","Master/Sizings.jsx","Master/CountChart.jsx","Master/index.jsx","Dashboard.jsx","App.jsx","store/index.js","reportWebVitals.js","index.js"],"names":["crypto","require","Buffer","_","iv","padEnd","finalizeKey","key","substr","module","exports","encrypt","text","cipher","createCipheriv","from","encrypted","update","concat","final","toString","decrypt","div","encryptedText","decipher","createDecipheriv","decrypted","getEpoch","inp_date","reset_at","date_obj","Date","setHours","parseInt","getTime","getDateFromEpoch","inp_epoch","in_string","toLocaleDateString","toLocaleTimeString","epochDiffDays","epoch1","epoch2","diff","Math","round","getAxiosErr","err","response","isString","data","message","statusText","request","defaultTheme","createMuiTheme","globalTheme","palette","primary","main","secondary","light","info","background","default","typography","fontSize","body1","theme","transitions","create","mixins","border","grey","borderDark","props","MuiTextField","size","variant","MuiButton","disableTouchRipple","MuiToggleButton","MuiIconButton","MuiPaper","MuiMenuItem","overrides","MuiTabs","root","minHeight","flexContainer","padding","spacing","MuiTab","breakpoints","up","minWidth","textColorInherit","textTransform","opacity","sizeSmall","MuiToggleButtonGroup","margin","color","borderColor","backgroundColor","contrastText","dark","MuiFormLabel","asterisk","error","MuiToolbar","dense","MuiOutlinedInput","input","borderRadius","inputMarginDense","adornedEnd","paddingRight","MuiAutocomplete","inputRoot","MuiDialogTitle","MuiDialogContent","dividers","MuiFormControlLabel","marginLeft","PrivateSwitchBase","PrivateTabIndicator","height","otherVars","reactSelect","Theme","ThemeProvider","children","state","action","type","payload","setSettings","settings","getSettings","NOTIFICATION_TYPE","setNotification","withRouter","path","useTheme","otherProps","match","useRouteMatch","Button","component","RouteLink","to","disableElevation","useStyles","makeStyles","formRoot","formRow","formInput","marginTop","formInputHighlight","fontWeight","inputProfit","success","borderWidth","inputLoss","inputCell","inputWarn","warning","autoComplete","img","maxWidth","formDate","FormRow","print","classes","sizingProps","xs","items","React","Children","count","factor","1","2","4","3","5","6","Grid","container","className","map","child","cloneElement","FormRowItem","item","style","display","alignItems","FormInfo","useState","anchorEl","setAnchorEl","handlePopoverClose","onMouseEnter","event","currentTarget","onMouseLeave","Popover","pointerEvents","open","Boolean","anchorOrigin","vertical","horizontal","transformOrigin","onClose","disableRestoreFocus","FormInput","Box","width","label","marginBottom","FormLabel","required","bottomLabel","FormInputText","InputIcon","errorMsg","onChange","readOnly","hasCopy","inputProps","highlight","profit","warn","grid","value","extraProps","finalInpProps","e","val","target","validity","valid","pattern","finalClassNames","FormControl","fullWidth","OutlinedInput","startAdornment","InputAdornment","position","endAdornment","IconButton","clsx","data-label","data-required","onBlur","isUndefined","isNull","FormHelperText","customReactSelectStyles","readonly","provided","control","inputDisabledBg","isFocused","boxShadow","dropdownIndicator","indicatorsContainer","clearIndicator","valueContainer","isMulti","menuPortal","zIndex","option","multiValue","multiValueLabel","multiValueRemove","FormInputSelectSearch","firstEmpty","loading","hasSearch","labelKey","valueKey","creatable","commonProps","menuPortalTarget","document","body","isSearchable","isClearable","openMenuOnClick","styles","FormInputSelect","options","multiple","noOptions","length","Select","MenuItem","opt","BASE_URL","getApi","axios","connect","dispatch","args","apply","clearNotification","activation","onActivate","activationid","setActivationid","api","useMemo","onKeyChange","useCallback","onActivateClick","post","activation_key","then","res","activation_date","catch","Typography","Link","href","Divider","is_trial","usage_days_left","system_id","onClick","borderSpacing","overflow","fixedLayout","tableLayout","tableCell","textAlign","verticalAlign","borderRight","borderBottom","th","tr","actionCell","tableCellLessPad","noRows","noPadding","noBorder","noCellBorder","middle","DataGrid","columns","filterObj","showFooter","tdClassName","noRowsMessage","onExpand","useTable","useFilters","useExpanded","getTableProps","getTableBodyProps","headerGroups","footerGroups","rows","prepareRow","setAllFilters","useEffect","JSON","stringify","headerGroup","getHeaderGroupProps","headers","filter","column","Print","getHeaderProps","render","row","i","getRowProps","cells","cell","actionBtn","id","startsWith","getCellProps","isExpanded","colSpan","group","getFooterGroupProps","getFooterProps","TableLayout","TableLayoutRow","TableLayoutCell","TabPanel","index","other","role","hidden","aria-labelledby","flexGrow","flexDirection","searchbar","gridarea","LASSA_UNIT_OPTIONS","apiObj","useRef","formData","setFormData","onTextChange","name","prevData","p","Paper","lassa_unit","yarn_rate_gst","sizing_rate_gst","method","url","MyMath","num","wrapper","onum","_num","add","calcVal","this","sub","mul","floor","Decimal","toFixed","ROUND_DOWN","toDecimals","decimals","isInteger","greaterThanOrEqualTo","CommonDialog","title","isSaving","onSave","Dialog","aria-describedby","disableEscapeKeyDown","DialogTitle","DialogContent","DialogActions","disabled","useReportTableStyles","StyleSheet","table","boxSizing","header","borderBottomColor","wordBreak","noBorderBottom","noBorderRight","ReportTable","headerCols","flatMap","ReportTableRow","col","ci","ReportTableCell","last","ri","wrap","lastRow","sCol","pivotCols","pivot","pivotValue","otherCols","slice","dummyLen","pivotDataLength","pi","push","Array","fill","ocol","Cell","finalStyle","align","ReportField","marginRight","ReportViewer","reportName","getReportDetails","withHeader","orientation","showPageNo","compHeaders","setCompHeaders","get","c","find","fontFamily","paddingBottom","bottom","left","right","pageNumber","totalPages","fixed","CommonHeader","biding","flexBasis","textDecoration","letterSpacing","LeftSide","Footer","cone","grossWt","netWt","RightSide","cones","SizingSetReport","SizingSets","qid","sizingOpts","sizingData","setSizingData","selectedSet","setSelectedSet","Header","original","accessor","a","fetchSets","PaperProps","qualityName","setNo","setSetNo","sizingId","setSizingId","onAddClick","console","log","parse","isNaN","ret","Number","isFinite","inputGridTd","gridCell","page","borderTop","alignRight","mtPerct","summaryReducer","total_weight_glm","warp_weight","weft_weight","total_weight_glm_wastage","warp_weight_wastage","weft_weight_wastage","total_weight_gsm","warp_panna","prod_cost","breakup","weaving_charges","cost","sizing_cost","getProdCostWithBreakup","breakups","margin_table","getCalcReducer","warp_lassa_meter","warp_lassa","length_per_count","newState","cloneDeep","processPostReducer","postReducer","rowsChange","warp_total_ends","warp_reed","warp_reed_space","warp_cramp","warp_ltol","gridValue","perct","fabric_type","weight","weight_wastage","wastage","rate","warp_rate_wgst","sizing_rate","warp_sizing_wgst","warp_iron_wt","warpReducer","weft_pick","weft_job_rate","weft_meter","weft_panna","weft_reed_space","weft_rate_wgst","weftReducer","entries","warps","kg_per_cone","bag_wt","bag_pack","cone_measure","bottom_cone","tara","part","sizing_measure","multipart","fabric_measure","total_warp_kg","warp_bags","per_beam","beams","wp_fabric_meter","packingWarpReducer","wefts","total_weft_kg","weft_bags","packingWeftReducer","set","depPath","depValue","depPostReducer","splice","fin_prod_elongshrink","fin_elongshrink","fin_gray_elongshrink","fin_gray_price","fin_prod_wastage","fin_process_charge","fin_wastage","fin_gray_wastage","elongshrink","fin_elongshrink_opt","fin_prod_total","fin_packing","fin_others","fin_gray_total","fin_prod_profit","fin_market_price","fin_gray_profit","fin_rev_gray_price","finishFabricReducer","gray_brokerage_calc","gray_market_price","gray_brokerage","gray_interest_calc","gray_interest","gray_cashdisc_calc","gray_cashdisc","gray_others_calc","gray_others","gray_total","gray_profit","totalWarpCost","totalWarpSizCost","totalWeftCost","gray_revjobrate","grayFabricReducer","getGridCols","basePath","fieldsDispatch","cellClassName","depDetails","canDelete","baseCols","PrintFooter","paddingLeft","preventDefault","showTotal","total","reduce","sum","values","CellValue","SectionHead","useReportStyles","PrintPage","printRef","fieldsData","warpCols","weftCols","ref","PrintField","flexWrap","rs","rate_local_rs","rate_out_rs","selId","agentOpts","partyOpts","savedOtherData","otherData","setOtherData","useReducer","formDataErr","editMode","wpWarps","getDefaultRow","wpWarpCols","wpWefts","wpWeftCols","weft_insertion","copy","close","current","dispReed","dispPick","dispProdCost","onOtherChange","onWarpTextChange","onWeftTextChange","onWpWeftTextChange","onRateChange","FormControlLabel","Checkbox","checked","GST","cols","forEach","reportRef","marginTableRows","ceil","tabvalue","setTabvalue","fullScreen","scroll","TransitionProps","enter","exit","autoFocus","agentId","partyId","notes","paddingTop","ToggleButtonGroup","exclusive","newValue","ToggleButton","sm","md","lg","xl","o","panna","reed_space","Object","keys","b","v","irow","mt","justifyContent","ConfirmDialog","content","onConfirm","DialogContentText","expandTd","expandTdTitle","ExpandedRows","exrows","setExrows","fetchExrows","skipColumns","openCalc","setOpenCalc","setSelId","setAgentOpts","setPartyOpts","setSizingOpts","qualities","setQualities","confirmOpen","setConfirmOpen","homeRef","licExpired","toggleRowExpanded","setFilter","onFilterChange","trim","startIcon","AddRounded","prevQualities","qIndx","findIndex","q","delete","AgentForm","selData","defaults","setIsSaving","onSaveClick","put","agents","setAgents","search","setSearch","openForm","setOpenForm","setSelData","placeholder","filterText","prevAgents","indx","PartyForm","parties","setParties","prevParties","SizingForm","sizings","setSizings","prevSizings","chartReducer","clone","rates","CountChart","chartRanges","setChartRanges","chartData","chartDataDispatch","chartCols","range","prev","rangeFrom","rangeTo","prevRanges","dashboardRoot","subMenu","top","bottomMenuContent","rightContent","navItems","FabricCosting","Master","Settings","License","NavBar","SubMenu","Toolbar","AppBar","elevation","submenu","notify","location","setActivation","navSubItems","tmp","install_date","disableGutters","exact","redirect","Snackbar","autoHideDuration","reason","Alert","severity","reduxStore","createStore","combineReducers","settingsReducer","notifyReducer","App","StylesProvider","injectFirst","CssBaseline","store","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Font","register","family","src","m1reg","fontStyle","m1bold","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3e3ef303.chunk.js","sourcesContent":["const crypto = require('crypto');\nconst Buffer = require('buffer').Buffer;\nconst _ = require('lodash');\nconst iv = 'yantra'.padEnd(16, 'a');\nfunction finalizeKey(key) {\n    return  key.substr(0, 32).padEnd(32, 'X');\n}\n\nmodule.exports = {\n    encrypt: function(text, key) {\n        key = finalizeKey(key);\n        let cipher = crypto.createCipheriv('aes-256-cbc', Buffer.from(key), iv);\n        let encrypted = cipher.update(text);\n        encrypted = Buffer.concat([encrypted, cipher.final()]);\n\n        return encrypted.toString('hex');\n    },\n    decrypt: function(text, key) {\n        key = finalizeKey(key);\n        let div = Buffer.from(iv);\n        let encryptedText = Buffer.from(text, 'hex');\n        let decipher = crypto.createDecipheriv('aes-256-cbc', Buffer.from(key), div);\n        let decrypted = decipher.update(encryptedText);\n        decrypted = Buffer.concat([decrypted, decipher.final()]);\n\n        return decrypted.toString();\n    },\n    getEpoch: function(inp_date, reset_at=0) {\n        let date_obj = inp_date ? inp_date : new Date();\n\n        if(reset_at === -1) {\n            date_obj.setHours(0, 0, 0, 0);\n        } else if (reset_at === -1){\n            date_obj.setHours(23, 59, 59, 999);\n        }\n        return parseInt(date_obj.getTime()/1000);\n    },\n    getDateFromEpoch: function(inp_epoch, in_string=false) {\n        let date_obj = new Date(inp_epoch*1000);\n\n        if(in_string) {\n            return date_obj.toLocaleDateString() + ' ' + date_obj.toLocaleTimeString();\n        }\n        return date_obj;\n    },\n    epochDiffDays: function(epoch1, epoch2) {\n      let diff = epoch1 - epoch2;\n      return Math.round(diff/84600);\n    },\n    getAxiosErr: function(err) {\n      let message = '';\n      if (err.response) {\n        // client received an error response (5xx, 4xx)\n        if(_.isString(err.response.data.message)) {\n          message = err.response.data.message;\n        } else {\n          message = err.response.statusText + '. Contact administrator.';\n        }\n      } else if (err.request) {\n        // client never received a response, or request never left\n        message = 'Not able to send the request. Contact administrator.';\n      } else {\n        message = 'Some error occurred. Contact administrator.';\n      }\n      return message;\n    }\n}","import React from 'react';\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\n\nconst defaultTheme = createMuiTheme();\n\nconst globalTheme = createMuiTheme({\n    palette: {\n        primary: {\n            main: '#016FB9',\n            main: '#2364AA',\n            light: '#d0ebff',\n            dark: '#064879',\n        },\n        secondary: {\n            main: '#B0413E',\n            light: '#ffd8d7',\n        },\n        info: {\n            main: '#f18009'\n        },\n        background: {\n            default: '#fff',\n        },\n    },\n    typography: {\n        fontSize: 14,\n        body1: {\n            fontSize: 14,\n        }\n    }\n});\n\nexport const theme = createMuiTheme({\n    transitions: {\n        // So we have `transition: none;` everywhere\n        create: () => 'none',\n    },\n    mixins: {\n        ...globalTheme.mixins,\n        border: '1px solid '+globalTheme.palette.grey[300],\n        borderDark: '1px solid '+globalTheme.palette.grey[400],\n    },\n    props: {\n        MuiTextField: {\n            size: 'small',\n            variant: 'outlined',\n        },\n        MuiButton: {\n            size: 'small',\n            disableTouchRipple: true,\n        },\n        MuiToggleButton: {\n            disableTouchRipple: true,\n        },\n        MuiIconButton: {\n            size: 'small',\n            disableTouchRipple: true,\n        },\n        MuiPaper: {\n            variant: \"outlined\"\n        },\n        MuiMenuItem: {\n            disableTouchRipple: true,\n        }\n    },\n    overrides: {\n        MuiTabs: {\n            root: {\n                minHeight: 0,\n            },\n            flexContainer: {\n                padding: defaultTheme.spacing(0.5),\n            }\n        },\n        MuiTab: {\n            root: {\n                minHeight: '40px',\n                [defaultTheme.breakpoints.up('sm')]: {\n                    minWidth: '80px',\n                },\n            },\n            textColorInherit: {\n                textTransform: 'none',\n                opacity: 1,\n            },\n        },\n        MuiButton: {\n            root: {\n                textTransform: 'none'\n            }\n        },\n        MuiIconButton: {\n            sizeSmall: {\n                padding: 0,\n            }\n        },\n        MuiToggleButtonGroup: {\n            root: {\n                margin: globalTheme.spacing(0.5, 0),\n            }\n        },\n        MuiToggleButton: {\n            root: {\n                textTransform: 'none',\n                color: globalTheme.palette.primary.main,\n                borderColor: globalTheme.palette.primary.main,\n                '&$selected': {\n                    backgroundColor: globalTheme.palette.primary.main,\n                    color: globalTheme.palette.primary.contrastText,\n                    '&:hover': {\n                        backgroundColor: globalTheme.palette.primary.dark,\n                    }\n                },\n            },\n            sizeSmall: {\n                padding: '3px 16px',\n            },\n        },\n        MuiFormLabel: {\n            root: {\n                color: globalTheme.palette.text.primary,\n                fontSize: globalTheme.typography.fontSize,\n            },\n            asterisk: {\n                color: globalTheme.palette.error.main,\n            }\n        },\n        MuiToolbar: {\n            dense: {\n                minHeight: '34px',\n            }\n        },\n        MuiOutlinedInput: {\n            input: {\n                padding: defaultTheme.spacing(0.75, 1),\n                '&[readonly]':{\n                    backgroundColor: defaultTheme.palette.grey[200],\n                    opacity: 0.75\n                },\n                borderRadius: 'inherit',\n            },\n            inputMarginDense: {\n                padding: defaultTheme.spacing(1, 1.5),\n            },\n            adornedEnd: {\n                paddingRight: defaultTheme.spacing(0.5),\n            }\n        },\n        MuiAutocomplete: {\n            inputRoot: {\n                padding: '0px',\n            }\n        },\n        MuiDialogTitle: {\n            root: {\n                padding: defaultTheme.spacing(0.5, 1),\n            }\n        },\n        MuiDialogContent: {\n            dividers: {\n                padding: defaultTheme.spacing(1, 0.5),\n            }\n        },\n        MuiFormControlLabel: {\n            root: {\n                marginLeft: 0,\n            }\n        },\n        PrivateSwitchBase: {\n            root: {\n                padding: defaultTheme.spacing(0.5),\n            }\n        },\n        PrivateTabIndicator: {\n            root: {\n                height: '3px',\n            }\n        },\n    },\n    otherVars: {\n        reactSelect: {\n            padding: '5px 8px',\n        }\n    }\n}, globalTheme);\n\nexport default function Theme(props) {\n    return (\n        <ThemeProvider theme={theme}>\n            {props.children}\n        </ThemeProvider>\n    )\n}","export default (state={}, action) => {\n  switch(action.type) {\n    case 'SET_SETTINGS': {\n      return action.payload;\n    }\n    default:\n      return state;\n  }\n}\n\nconst setSettings = (settings)=>({\n  type: 'SET_SETTINGS',\n  payload: settings,\n});\n\nconst getSettings = (state)=>state.settings;\n\nexport {setSettings, getSettings};","const NOTIFICATION_TYPE = {\n  ERROR: 'error',\n  SUCCESS: 'success',\n  INFO: 'info',\n}\n\nexport default (state={}, action) => {\n  switch(action.type) {\n    case 'SET_NOTIFICATION': {\n      return {\n        ...state,\n        message: action.payload.message,\n        type: action.payload.type,\n      };\n    }\n    default:\n      return state;\n  }\n}\n\nconst setNotification = (type, message)=>({\n  type: 'SET_NOTIFICATION',\n  payload: {\n    type: type ? type : 'info',\n    message: message ? message : '',\n  }\n});\n\nexport {NOTIFICATION_TYPE, setNotification};","import { Button, ButtonBase, useTheme } from '@material-ui/core';\nimport React from 'react';\nimport { useRouteMatch, Link as RouteLink, withRouter } from 'react-router-dom';\n\nconst NavButton = ({path, ...props}) => {\n  let theme = useTheme();\n  let {children, ...otherProps} = props;\n  let match = useRouteMatch({\n    path: path,\n  });\n\n  return (\n    <Button\n      color={match ? \"secondary\" : \"primary\"} variant=\"contained\" component={RouteLink}\n      to={path} disableElevation {...otherProps}>{children}</Button>\n  )\n}\n\nexport default withRouter(NavButton);","import React, { useMemo, useState } from 'react';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport { Box, OutlinedInput, CircularProgress, Divider, FormControl, FormHelperText, FormLabel, Grid, InputAdornment, MenuItem, Popover, Select, TextField, Typography, IconButton, RadioGroup, FormControlLabel, Radio } from '@material-ui/core';\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline';\nimport FileCopyOutlinedIcon from '@material-ui/icons/FileCopyOutlined';\nimport clsx from 'clsx';\nimport ReactSelect, { components as RSComponents } from 'react-select';\nimport CreatableSelect from 'react-select/creatable';\nimport _ from 'lodash';\n\nconst useStyles = makeStyles((theme) => ({\n  formRoot: {\n    padding: '1rem'\n  },\n  formRow: {\n    // paddingTop: '1rem',\n  },\n  formInput: {\n    marginTop: '0.25rem'\n  },\n  formInputHighlight: {\n    fontWeight: 'bold',\n    '& .MuiOutlinedInput-notchedOutline': {\n      borderColor: theme.palette.grey[600],\n    }\n  },\n  inputProfit: {\n    '& .MuiOutlinedInput-notchedOutline': {\n      borderColor: theme.palette.success.main,\n      borderWidth: '2px',\n    }\n  },\n  inputLoss: {\n    '& .MuiOutlinedInput-notchedOutline': {\n      borderColor: theme.palette.error.main,\n      borderWidth: '2px',\n    }\n  },\n  inputCell: {\n    '&:not(.Mui-focused)': {\n      '& .MuiOutlinedInput-notchedOutline': {\n        borderColor: 'transparent',\n      }\n    }\n  },\n  inputWarn: {\n    '&:not(.Mui-focused)': {\n      '& .MuiOutlinedInput-notchedOutline': {\n        borderColor: theme.palette.warning.main,\n        borderWidth: '2px',\n      }\n    }\n  },\n  autoComplete: {\n    padding: theme.spacing(0.25),\n  },\n  img: {\n    maxWidth: '100%',\n    height: 'auto'\n  },\n  info: {\n    color: theme.palette.info.main,\n    marginLeft: '0.25rem',\n    fontSize: '1rem',\n  },\n  formDate: {\n\n  }\n}));\n\n\nexport function Form({children}) {\n  return (\n    <form noValidate autoComplete=\"off\">\n      {children}\n    </form>\n  );\n}\n\nexport function FormRow({print, children}) {\n  const classes = useStyles();\n  let sizingProps = {xs: 12};\n  let items = React.Children.count(children);\n  let factor =  {\n    1: 12,\n    2: 6,\n    4: 3,\n    3: 4,\n    5: 2,\n    6: 2,\n  }\n  sizingProps['md'] = sizingProps['sm'] = sizingProps['lg'] = factor[items] || true;\n\n  if(print) {\n    sizingProps['xs'] = factor;\n  }\n\n  return(\n    <Grid container spacing={1} className={classes.formRow}>\n      {React.Children.map(children, (child) => {\n        return React.cloneElement(child, sizingProps);\n      })}\n    </Grid>\n  );\n}\n\nexport function FormRowItem({children, ...props}) {\n  return (\n    <Grid item {...props} style={{display: 'flex', alignItems: 'flex-end'}}>\n      {children}\n    </Grid>\n  );\n}\n\nexport function FormInfo({children}) {\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = useState(null);\n  const handlePopoverOpen = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handlePopoverClose = () => {\n    setAnchorEl(null);\n  };\n  return (\n    <>\n    <HelpOutlineIcon className={classes.info} onMouseEnter={handlePopoverOpen} onMouseLeave={handlePopoverClose}/>\n    <Popover\n      style={{pointerEvents: 'none'}}\n      open={Boolean(anchorEl)}\n      anchorEl={anchorEl}\n      anchorOrigin={{\n        vertical: 'center',\n        horizontal: 'right',\n      }}\n      transformOrigin={{\n        vertical: 'center',\n        horizontal: 'left',\n      }}\n      onClose={handlePopoverClose}\n      disableRestoreFocus\n    >\n      {children}\n    </Popover>\n    </>\n  )\n}\n\nexport function FormInput({children, info, ...props}) {\n  return (\n    <Box width=\"100%\">\n      {props.label &&\n      <Box display=\"flex\" style={{alignItems: 'flex-end', marginBottom: '4px'}}>\n        <FormLabel component={Box} required={props.required}>\n          {props.label}\n        </FormLabel>\n        {info && <FormInfo>{info}</FormInfo>}\n      </Box>}\n      {children}\n      {props.bottomLabel && <Box display=\"flex\" style={{alignItems: 'flex-end'}}>\n        <FormLabel component={Box} required={props.required}>\n          {props.bottomLabel}\n        </FormLabel>\n      </Box>}\n    </Box>\n  );\n}\n\nexport class FormFieldValidator {\n  constructor(formValidators, setFieldError) {\n    this.formValidators = formValidators || {};\n    this.setFieldError = setFieldError || (()=>{});\n  }\n\n  getDefaultValidator(name) {\n    const VALIDATORS = {\n      'required': (value)=>{\n        return (value != null && value != '' && typeof(value) != 'undefined');\n      },\n      'email': (value)=>{\n        return /(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/.test(value);\n      },\n      'password': (value)=>{\n        return /((?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%]).{8,40})/.test(value);\n      },\n      'regex': (value, exp)=>{\n        const checker = new RegExp(exp);\n        return checker.test(value);\n      }\n    }\n\n    return VALIDATORS[name] || (()=>true);\n  }\n\n  doValidation(value, validators, errorMessages) {\n    let errMsg = '';\n    let validatorParam = null;\n    validators = validators || [];\n    errorMessages = errorMessages || [];\n\n    for(let i=0; i<validators.length; i++) {\n      let validator = validators[i];\n      if(typeof(validator) === 'string') {\n        validator = this.getDefaultValidator(validator);\n      } else if(typeof(validator) === 'object') {\n        validatorParam = validator.param;\n        validator = this.getDefaultValidator(validator.type);\n      }\n\n      if(!validator(value, validatorParam)) {\n        errMsg = errorMessages[i] || 'Invalid';\n        break;\n      }\n    }\n    return errMsg;\n  }\n\n  validateField(name, formData) {\n    let errMsg = '';\n    let fieldValidators = this.formValidators[name];\n    if(fieldValidators) {\n      errMsg = this.doValidation(formData[name], fieldValidators.validators, fieldValidators.messages);\n      this.setFieldError(name, errMsg);\n    }\n    return errMsg;\n  }\n\n  validateAll(formData) {\n    let isAllValid = true;\n    Object.keys(this.formValidators).forEach(name => {\n      let errMsg = this.validateField(name, formData);\n      if(Boolean(errMsg)) {\n        isAllValid = false;\n      }\n    });\n    return isAllValid;\n  }\n}\n\nexport function FormInputText({\n    InputIcon, errorMsg, required, onChange, label, bottomLabel, readOnly, info, hasCopy,\n    type, inputProps, highlight, profit, warn, grid, value, className, ...props}) {\n  const classes = useStyles();\n  let extraProps = {};\n  let finalInpProps = {\n    ...inputProps,\n  }\n  if(type == 'number') {\n    /* Convert to tel and add pattern */\n    extraProps = {\n      type: 'tel',\n      onChange: (e)=>{\n        let val = e.target.value;\n        if(e.target.validity.valid || val === '' || val === '-') {\n          onChange(e);\n        };\n      }\n    };\n    finalInpProps.pattern = '^-?[0-9]\\\\d*\\\\.?\\\\d*$';\n  }\n\n  let finalClassNames = [\n    !grid && classes.formInput,\n    highlight && classes.formInputHighlight,\n    grid && classes.inputCell,\n    profit && value && (value > 0 ? classes.inputProfit : classes.inputLoss),\n    warn && classes.inputWarn,\n  ];\n\n  return (\n    <FormInput required={required} label={label} bottomLabel={bottomLabel} info={info}>\n      <FormControl error={Boolean(errorMsg)} fullWidth>\n        <OutlinedInput\n          variant=\"outlined\"\n          startAdornment={InputIcon &&\n            <InputAdornment position=\"start\">{typeof(InputIcon) === 'string'\n              ? <span>{InputIcon}</span> : <InputIcon fontSize='small' />}</InputAdornment>}\n          endAdornment={hasCopy ?\n            <IconButton><FileCopyOutlinedIcon /></IconButton> : null\n          }\n          fullWidth\n          className={clsx(finalClassNames)}\n          error={Boolean(errorMsg)}\n          data-label={label}\n          data-required={required}\n          inputProps={{\n            'data-label': label,\n            'data-required': required,\n            readOnly: Boolean(readOnly),\n            ...finalInpProps,\n            autoComplete: \"off\",\n          }}\n          onChange={onChange}\n          onBlur={onChange}\n          value={(_.isUndefined(value) || _.isNull(value)) ? '' : value}\n          {...props}\n          {...extraProps}\n        />\n        {errorMsg && <FormHelperText>{errorMsg}</FormHelperText>}\n      </FormControl>\n    </FormInput>\n  );\n}\n\nexport function FormInputRadio({label, options}) {\n  return (\n    <FormInput label={label}>\n      <FormControl component=\"fieldset\">\n        <RadioGroup row aria-label=\"position\" name=\"position\" defaultValue=\"meter\">\n          {(options||[]).map((o)=>{\n            return <FormControlLabel value={o.value} control={<Radio color=\"primary\" />} label={o.label} />;\n          })}\n        </RadioGroup>\n      </FormControl>\n    </FormInput>\n  );\n}\n\nconst customReactSelectStyles = (theme, readonly)=>({\n  input: (provided) => {\n    return {...provided, padding: 0, margin: 0};\n  },\n  control: (provided, state) => ({\n    ...provided,\n    minHeight: '32px',\n    backgroundColor: readonly ? theme.otherVars.inputDisabledBg : theme.palette.background.default,\n    ...(state.isFocused ? {\n      borderColor: theme.palette.primary.main,\n      boxShadow: 'inset 0 0 0 1px '+theme.palette.primary.main,\n      '&:hover': {\n        borderColor: theme.palette.primary.main,\n      }\n    } : {}),\n  }),\n  dropdownIndicator: (provided)=>({\n    ...provided,\n    padding: '0rem 0.25rem',\n  }),\n  indicatorsContainer: (provided)=>({\n    ...provided,\n    ...(readonly ? {display: 'none'} : {})\n  }),\n  clearIndicator: (provided)=>({\n    ...provided,\n    padding: '0rem 0.25rem',\n  }),\n  valueContainer: (provided, state)=>({\n    ...provided,\n    padding: state.isMulti ? '2px' : theme.otherVars.reactSelect.padding,\n  }),\n  menuPortal: (provided)=>({ ...provided, zIndex: 9999 }),\n  option: (provided)=>({\n    ...provided,\n    padding: '0.5rem',\n  }),\n  multiValue: (provided)=>({\n    ...provided,\n    padding: '2px'\n  }),\n  multiValueLabel: (provided)=>({\n    ...provided,\n    fontSize: '1em',\n    padding: 0,\n    // zIndex: 9999\n  }),\n  multiValueRemove: (provided)=>({\n    ...provided,\n    '&:hover': {\n      backgroundColor: 'unset',\n      color: theme.palette.error.main,\n    },\n    ...(readonly ? {display: 'none'} : {})\n  }),\n  menuPortal: (provided) => ({\n    ...provided,\n    zIndex: '1400',\n  }),\n});\n\nexport function FormInputSelectSearch({\n  errorMsg, required, label, firstEmpty=false, loading, hasSearch=false,\n    labelKey='label', valueKey='value', readonly, creatable, ...props}) {\n\n  const theme = useTheme();\n  let commonProps = {\n    menuPortalTarget: document.body,\n    ...props,\n    isSearchable: !readonly,\n    isClearable: props.isClearable && !readonly,\n    openMenuOnClick: !readonly,\n    error: Boolean(errorMsg),\n    styles: customReactSelectStyles(theme, readonly),\n  };\n\n  if(creatable) {\n    return (\n      <FormInput required={required} label={label}>\n        <FormControl error={Boolean(errorMsg)} fullWidth>\n          <CreatableSelect\n            {...commonProps}\n          />\n        </FormControl>\n      </FormInput>\n    );\n  }\n  return (\n    <FormInput required={required} label={label}>\n      <FormControl error={Boolean(errorMsg)} fullWidth>\n        <ReactSelect\n          {...commonProps}\n        />\n      </FormControl>\n    </FormInput>\n  );\n}\n\nexport function FormInputSelect({\n    errorMsg, required, onChange, label, options, firstEmpty=false, loading, multiple, hasSearch=false,\n    labelKey='label', valueKey='value', grid, value, ...props}) {\n  const classes = useStyles();\n  options = options || [];\n\n  const noOptions = (options.length == 0);\n\n  let finalClassNames = [\n    !grid && classes.formInput,\n    grid && classes.inputCell,\n  ];\n\n  return (\n    <FormInput required={required} label={label}>\n      <FormControl error={Boolean(errorMsg)} fullWidth>\n        <Select\n          onChange={onChange}\n          onBlur={onChange}\n          variant=\"outlined\"\n          className={clsx(finalClassNames)}\n          value={_.isUndefined(value) ? '' : value}\n          fullWidth\n          {...props}\n        >\n          {noOptions && <MenuItem value=''><em>{loading ? 'Loading...' : 'None'}</em></MenuItem>}\n          {!noOptions && firstEmpty && <MenuItem value=\"\"><em>None</em></MenuItem>}\n          {options.map((opt)=>{\n            let label = '', value = '';\n\n            if(typeof(opt) === 'string') {\n              label = value = opt;\n            } else {\n              label = opt[labelKey];\n              value = opt[valueKey];\n            }\n            return  <MenuItem key={value} value={value}>{label}</MenuItem>\n          })}\n        </Select>\n        {!grid && <FormHelperText>{errorMsg}</FormHelperText>}\n      </FormControl>\n    </FormInput>\n  );\n}\n\nexport function FormHeader({title, hasTopDivider, loadingText}) {\n  return (\n    <>\n      {hasTopDivider && <Divider style={{marginTop: '1rem', marginBottom: '1rem'}} variant=\"middle\" />}\n      <Box display=\"flex\">\n      <Typography variant=\"h6\" color=\"primary\">{title}</Typography>\n      {loadingText &&\n      <>\n      <CircularProgress size={24} style={{marginLeft: 15, position: 'relative', top: 4}} />\n      <Typography style={{alignSelf:'center'}}>&nbsp;{loadingText}</Typography>\n      </>}\n      </Box>\n    </>\n  );\n}\n\nexport function PasswordPolicy() {\n  return (\n    <Box style={{padding: '0.5rem'}}>\n      <Typography>\n      * Must contain one digit from 0-9<br/>\n      * Must contain one lowercase characters<br/>\n      * Must contain one uppercase characters<br/>\n      * Must contain one special symbols in the list \"@#$%\"<br/>\n      * Length at least 8 characters and maximum of 40<br/>\n      </Typography>\n    </Box>\n  )\n}","import axios from 'axios';\n\nexport const BASE_URL = {\n  SETTINGS: '/api/settings',\n  QUALITIES: '/api/qualities',\n  QUALITY_DATA: '/api/qualities/data',\n  QUALITY_HIST: '/api/qualities/hist',\n  MISC: '/api/misc',\n  AGENTS: '/api/agents',\n  PARTIES: '/api/parties',\n  SIZINGS: '/api/sizings',\n  SIZINGS_SET: '/api/sizings/set',\n}\n\nexport function getApi() {\n  return axios.create({});\n}","import { Box, Button, Divider, Link, Paper, Typography } from '@material-ui/core';\nimport React, { useCallback, useMemo, useState } from 'react';\nimport { FormInputText, FormRow, FormRowItem } from './components/FormElements';\nimport {epochDiffDays, getAxiosErr, getEpoch} from './utils';\nimport { BASE_URL, getApi } from './api';\nimport { NOTIFICATION_TYPE, setNotification } from './store/reducers/notification';\nimport { connect } from 'react-redux';\n\nfunction License({activation, onActivate, ...props}) {\n  const [activationid, setActivationid] = useState('');\n  const api = useMemo(()=>getApi());\n  const onKeyChange = useCallback((e)=>{\n    setActivationid(e.target.value);\n  });\n\n  const onActivateClick = useCallback(()=>{\n    api.post(BASE_URL.MISC + '/activate', {\n      activation_key: activationid,\n    })\n    .then((res)=>{\n      let data = res.data;\n      props.setNotification(NOTIFICATION_TYPE.SUCCESS, 'Product activated to full version !!');\n      onActivate(data.activation_date, activationid);\n    })\n    .catch((err)=>{\n      props.setNotification(NOTIFICATION_TYPE.ERROR, getAxiosErr(err));\n    });\n  });\n\n  return (\n  <Box style={{padding: '0.5rem'}}>\n    <Typography>\n      <Typography>This software is made by team at <Typography component=\"span\" color=\"primary\" style={{fontWeight: \"bold\"}}>Yantra</Typography> with a lot of R&D and user feedbacks. We believe that a software should be very easy to use and should not be boring.</Typography>\n      <Typography>If you want a custom software for your needs and do not want to use the same old crap, then mail us at <Link href = \"mailto: yantra.contact@gmail.com\">yantra.contact@gmail.com</Link></Typography>\n      <Typography>We'll reach out soon !!</Typography>\n    </Typography>\n    <Divider style={{margin: '0.5rem'}} />\n    {activation.is_trial &&\n    <>\n    <Typography variant=\"h5\" color=\"error\">\n      {activation.usage_days_left > 0 ?\n        <span>You're using the trial version. Remaining days for the trial are {activation.usage_days_left} days only.</span>:\n        <span>You're trial is expired. Share the system id and get the activation key to activate full version.</span>}\n    </Typography>\n    <FormRow>\n      <FormRowItem>\n        <FormInputText label=\"System ID\" value={activation.system_id} readOnly></FormInputText>\n      </FormRowItem>\n      <FormRowItem></FormRowItem>\n    </FormRow>\n    <FormRow>\n      <FormRowItem>\n        <FormInputText label=\"Activation key (Contact team Yantra)\" onChange={onKeyChange} value={activationid}></FormInputText>\n      </FormRowItem>\n      <FormRowItem></FormRowItem>\n    </FormRow>\n    <FormRow>\n      <FormRowItem>\n        <Button variant=\"contained\" color=\"primary\" onClick={onActivateClick}>Activate</Button>\n      </FormRowItem>\n      <FormRowItem></FormRowItem>\n    </FormRow>\n    </>\n    }\n    {!activation.is_trial &&\n    <>\n    <Typography variant=\"h5\" color=\"error\">\n      You are running full license software. Thank you for choosing us.\n    </Typography>\n    </>\n    }\n  </Box>\n  );\n}\n\nexport default connect(()=>({}), (dispatch)=>({\n  setNotification: (...args)=>{dispatch(setNotification.apply(this, args))},\n  clearNotification: ()=>{dispatch(setNotification(null, null))},\n}))(License);","import { Box, makeStyles } from '@material-ui/core'\nimport React, { useEffect } from 'react'\nimport { useExpanded, useFilters, useFlexLayout, useGlobalFilter, useTable } from 'react-table';\nimport clsx from 'clsx';\nimport { Children } from 'react';\n\nconst useStyles = makeStyles((theme)=>({\n  grid: {\n    borderSpacing: 0,\n    width: '100%',\n    overflow: 'auto',\n    border: theme.mixins.border,\n    borderRadius: theme.spacing(0.5),\n  },\n\n  fixedLayout: {\n    tableLayout: 'fixed',\n  },\n  tableCell: {\n    margin: 0,\n    textAlign: 'left',\n    verticalAlign: 'top',\n    fontWeight: 'initial',\n    padding: theme.spacing(0.5, 1),\n    borderRight: theme.mixins.border,\n    borderBottom: theme.mixins.border,\n  },\n  th: {\n    borderBottom: theme.mixins.borderDark,\n  },\n  tr: {\n    '&:hover': {\n      '& td': {\n        backgroundColor: theme.palette.primary.light,\n      }\n    }\n  },\n  actionCell: {\n    padding: theme.spacing(0.25, 0),\n    textAlign: 'center',\n  },\n  tableCellLessPad: {\n    padding: theme.spacing(0.5),\n  },\n  noRows: {\n    textAlign: 'center',\n  },\n  noPadding: {\n    padding: '0px',\n  },\n  noBorder: {\n    border: 0,\n  },\n  noCellBorder: {\n    borderRight: 0,\n    borderBottom: 0,\n  },\n  middle: {\n    verticalAlign: 'middle',\n  }\n}));\n\nexport default function DataGrid({\n    columns, data, filterObj=[], showFooter=false, tdClassName, fixedLayout=false,\n    print=false, noRowsMessage=\"No rows found\", className, onExpand }) {\n  const classes = useStyles();\n  // Use the state and functions returned from useTable to build your UI\n  const {\n    getTableProps,\n    getTableBodyProps,\n    headerGroups,\n    footerGroups,\n    rows,\n    prepareRow,\n    setAllFilters\n  } = useTable({\n    columns,\n    data: data,\n  }, useFilters, useExpanded);\n\n  useEffect(()=>{\n    setAllFilters(filterObj);\n  }, [JSON.stringify(filterObj)]);\n\n  // Render the UI for your table\n  return (\n    <table {...getTableProps()} className={clsx(classes.grid, fixedLayout ? classes.fixedLayout : null, className)}>\n      <thead>\n        {headerGroups.map(headerGroup => (\n          <tr {...headerGroup.getHeaderGroupProps()}>\n            {headerGroup.headers.filter((column)=>print ? Boolean(column.Print) : true).map(column => (\n              <th {...column.getHeaderProps()} className={clsx(classes.tableCell, classes.th)}\n                style={fixedLayout ? {width: column.width} : {}}>{column.render('Header')}</th>\n            ))}\n          </tr>\n        ))}\n      </thead>\n      <tbody {...getTableBodyProps()}>\n        {rows.map((row, i) => {\n          prepareRow(row)\n          return (\n            <>\n            <tr {...row.getRowProps()} className={classes.tr}>\n              {row.cells.filter((cell)=>print ? Boolean(cell.column.Print) : true).map(cell => {\n                let actionBtn = cell.column?.id.startsWith('btn-');\n                return <td {...cell.getCellProps()} className={clsx(classes.tableCell, actionBtn?classes.actionCell:null, tdClassName)}>{cell.render(print ? 'Print' : 'Cell')}</td>\n              })}\n            </tr>\n            {row.isExpanded && onExpand &&\n              <tr>\n                <td colSpan=\"100%\" className={clsx(classes.tableCell, tdClassName)}>\n                  {onExpand(row)}\n                </td>\n              </tr>\n            }\n            </>\n          )\n        })}\n        {rows.length == 0 &&\n          <tr>\n            <td className={clsx(classes.tableCell, classes.noRows)} colSpan=\"100%\">{noRowsMessage}</td>\n          </tr>\n        }\n      </tbody>\n      {showFooter &&\n      <tfoot>\n        {footerGroups.map(group => (\n          <tr {...group.getFooterGroupProps()}>\n            {group.headers.filter((column)=>print ? Boolean(column.Print) : true).map(column => (\n              <td {...column.getFooterProps()} className={clsx(classes.tableCell, tdClassName)}>{column.render(print ? 'PrintFooter' : 'Footer')}</td>\n            ))}\n          </tr>\n        ))}\n      </tfoot>}\n    </table>\n  )\n}\n\nexport function TableLayout({children, className, fixedLayout}) {\n  const classes = useStyles();\n  return (\n    <table className={clsx(classes.grid, classes.noBorder, fixedLayout ? classes.fixedLayout : null, className)}>\n      <tbody>\n        {children}\n      </tbody>\n    </table>\n  )\n}\n\nexport function TableLayoutRow({children}) {\n  return (\n    <tr>{children}</tr>\n  );\n}\n\nexport function TableLayoutCell({children, className, ...props}) {\n  const classes = useStyles();\n  return (\n    <td className={clsx(classes.tableCell, classes.tableCellLessPad, classes.noCellBorder, classes.middle, className)} {...props}>{children}</td>\n  )\n}","import { Button, Tab, useTheme } from \"@material-ui/core\";\nimport React from \"react\";\n\nexport default function TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n      style={{flexGrow: 1, minHeight: 0}}\n    >\n      {value === index && (\n        <>{children}</>\n      )}\n    </div>\n  );\n}\n\nexport function ButtonTab(btnProps) {\n  const theme = useTheme();\n  return <Tab\n    component={(props)=>{\n      return <Button color=\"primary\" variant={props['aria-selected'] ? \"contained\" : \"outlined\"} {...props}>{btnProps.label}</Button>\n    }}\n    {...btnProps}\n    />;\n}\n","import { Accordion, AccordionDetails, AccordionSummary, Box, Button, Card, Divider, FormControl, FormControlLabel, IconButton, Link, makeStyles, Modal, OutlinedInput, Paper, Radio, RadioGroup, Typography, useTheme } from '@material-ui/core';\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { NOTIFICATION_TYPE, setNotification } from './store/reducers/notification';\nimport { BASE_URL, getApi } from './api';\nimport _ from 'lodash';\nimport { FormInputRadio, FormInputSelect, FormInputText, FormRow, FormRowItem } from './components/FormElements';\nimport { getSettings, setSettings } from './store/reducers/settings';\n\nconst useStyles = makeStyles((theme)=>({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    height: '100%'\n  },\n  searchbar: {\n    padding: theme.spacing(1),\n    display: 'flex',\n  },\n  gridarea: {\n    flexGrow: 1,\n  }\n}));\n\nexport const LASSA_UNIT_OPTIONS = [\n  {label:'Yard', value: 'yard'},\n  {label:'Meter', value: 'meter'},\n];\n\n\nfunction getAxiosErr(err) {\n  let message = '';\n  if (err.response) {\n    // client received an error response (5xx, 4xx)\n    if(_.isString(err.response.data.message)) {\n      message = err.response.data.message;\n    } else {\n      message = err.response.statusText + '. Contact administrator.';\n    }\n  } else if (err.request) {\n    // client never received a response, or request never left\n    message = 'Not able to send the request. Contact administrator.';\n  } else {\n    message = 'Some error occurred. Contact administrator.';\n  }\n  return message;\n}\n\nfunction Settings(props) {\n  const classes = useStyles();\n  const [openCalc, setOpenCalc] = useState(false);\n  const [selId, setSelId] = useState({});\n  const [qualities, setQualities] = useState([]);\n  const homeRef = useRef();\n  const apiObj = useMemo(()=>getApi(), []);\n  const licExpired = props.activation.is_trial && props.activation.usage_days_left <= 0;\n  const [formData, setFormData] = useState(props.settings);\n\n  useEffect(()=>{\n    setFormData(props.settings);\n  }, [props.settings]);\n\n  const onTextChange = useCallback((e, name) => {\n    let value = e;\n    if(e && e.target) {\n      name = e.target.name;\n      value = e.target.value;\n    }\n    setFormData((prevData)=>({\n      ...prevData,\n      [name]: value,\n    }));\n  });\n\n  const onSave = ()=>{\n    apiObj({\n      method: 'PUT',\n      url: BASE_URL.SETTINGS,\n      data: formData,\n    }).then((res)=>{\n      props.setSettings(formData);\n      props.setNotification(NOTIFICATION_TYPE.SUCCESS, 'Settings saved successfully');\n    }).catch((err)=>{\n      props.setNotification(NOTIFICATION_TYPE.ERROR, getAxiosErr(err));\n    });\n  }\n\n  return (\n    <Box p={1} display=\"flex\" flexDirection=\"column\" height=\"100%\">\n      <Box flexGrow={1} overflow=\"auto\">\n        <Paper>\n          <Typography style={{padding: '0.5rem'}}>Fabric Costing</Typography>\n          <Divider />\n          <Box p={1}>\n            <FormRow>\n              <FormRowItem>\n                <FormInputSelect label=\"Warp Cut Mark/Lassa Unit\" name='lassa_unit'\n                  value={formData.lassa_unit} options={LASSA_UNIT_OPTIONS} onChange={onTextChange} />\n              </FormRowItem>\n              <FormRowItem>\n                <FormInputText type=\"number\" label=\"Yarn Rate GST(%)\" name='yarn_rate_gst' value={formData.yarn_rate_gst}\n                  onChange={onTextChange} />\n              </FormRowItem>\n              <FormRowItem>\n                <FormInputText type=\"number\" label=\"Warp Sizing Rate GST(%)\" name='sizing_rate_gst' value={formData.sizing_rate_gst}\n                  onChange={onTextChange} />\n              </FormRowItem>\n              <FormRowItem></FormRowItem>\n            </FormRow>\n          </Box>\n        </Paper>\n      </Box>\n      <Box>\n        <Button variant=\"contained\" onClick={onSave} color=\"primary\">Save</Button>\n      </Box>\n    </Box>\n  )\n}\n\nexport default connect((state)=>({settings: getSettings(state)}), (dispatch)=>({\n  setNotification: (...args)=>{dispatch(setNotification.apply(this, args))},\n  clearNotification: ()=>{dispatch(setNotification(null, null))},\n  setSettings: (payload)=>{dispatch(setSettings(payload))},\n}))(Settings);","import Decimal from 'decimal.js';\n\nconst ROUND_DECIMAL = 5;\nexport default function MyMath(num) {\n  const wrapper = (onum) => ({\n    _num: onum,\n    add: function(num) {\n      let calcVal = this._num.add(num || '0');\n      return wrapper(calcVal);\n    },\n    sub: function(num) {\n      let calcVal = this._num.sub(num || '0');\n      return wrapper(calcVal);\n    },\n    mul: function(num) {\n      let calcVal = this._num.mul(num || '0');\n      return wrapper(calcVal);\n    },\n    div: function(num) {\n      let calcVal = this._num.div(num || '0');\n      return wrapper(calcVal);\n    },\n    floor: function() {\n      let calcVal = new Decimal(this._num.toFixed(ROUND_DECIMAL, Decimal.ROUND_DOWN));\n      return wrapper(calcVal);\n    },\n    toString: function(toDecimals=false, decimals=ROUND_DECIMAL) {\n      if(this._num.isInteger() && !toDecimals){\n        return this._num.toString();\n      }\n      return this._num.toFixed(decimals);\n    },\n    greaterThanOrEqualTo: function(num) {\n      return this._num.greaterThanOrEqualTo(num);\n    }\n  });\n  return wrapper(new Decimal(num || '0'));\n}","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { Box, IconButton } from '@material-ui/core';\n\nexport default function CommonDialog({open, onClose, title, isSaving, onSave, children, showFooter=true, noPadding=false, ...props}) {\n  return (\n    <Dialog\n      open={open}\n      onClose={onClose}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n      fullWidth\n      disableEscapeKeyDown\n      {...props}\n    >\n      <DialogTitle id=\"alert-dialog-title\">\n        <Box display=\"flex\">\n          {title}<Box marginLeft=\"auto\"><IconButton size='small' onClick={onClose}><CloseIcon /></IconButton></Box>\n        </Box>\n      </DialogTitle>\n      <DialogContent dividers style={noPadding ? {} : {padding: '0.5rem'}}>\n        {children}\n      </DialogContent>\n      {showFooter &&\n      <DialogActions>\n        <Button onClick={onClose} color=\"secondary\" variant=\"outlined\">\n          Cancel\n        </Button>\n        {onSave &&\n        <Button onClick={onSave} color=\"primary\" variant=\"contained\" disabled={isSaving}>\n          {isSaving ? 'Saving...' : 'Save'}\n        </Button>}\n      </DialogActions>}\n    </Dialog>\n  );\n}","export default __webpack_public_path__ + \"static/media/mplus-1m-regular-webfont.dfebd5f4.ttf\";","export default __webpack_public_path__ + \"static/media/mplus-1m-bold-webfont.ced7832f.ttf\";","import { useTheme } from '@material-ui/core';\nimport { Page, Text, View, Document, StyleSheet, PDFViewer, Font } from '@react-pdf/renderer';\nimport _ from 'lodash';\nimport axios from 'axios';\nimport { useEffect, useState } from 'react';\nimport Moment from 'moment';\nimport m1reg from '../fonts/mplus-1m-regular-webfont.ttf';\nimport m1bold from '../fonts/mplus-1m-bold-webfont.ttf';\n\n\nconst useReportTableStyles = (theme)=>StyleSheet.create({\n  table: {\n    flexDirection: 'column',\n    border: '1px solid #999999',\n    boxSizing: 'border-box',\n    width: 'auto'\n  },\n  header: {\n    fontWeight: 'bold',\n    boxSizing: 'border-box',\n    textAlign: 'center',\n  },\n  row: {\n    // flexDirection: 'row'\n    flexDirection: 'row',\n    borderBottomColor: '#bff0fd',\n    boxSizing: 'border-box',\n  },\n  cell: {\n    padding: '0.5mm',\n    borderRight: '1px solid #999999',\n    wordBreak: 'break-all',\n    verticalAlign: 'top',\n    borderBottom: '1px dotted #999999',\n    boxSizing: 'border-box',\n  },\n  noBorderBottom: {\n    borderBottom: 0,\n  },\n  noBorderRight: {\n    borderRight: 0,\n  },\n});\n\nexport function RegisterFonts() {\n  Font.register({ family: 'm1', src: m1reg, fontStyle: 'normal', fontWeight: 'normal'});\n  Font.register({ family: 'm1', src: m1bold, fontStyle: 'normal', fontWeight: 'bold'});\n}\n\nexport function ReportTable({columns=[], rows=[], style}) {\n  const theme = useTheme();\n  const styles = useReportTableStyles(theme);\n  const headerCols = _.flatMap(columns, (column)=>{\n    if(column.columns) {\n      return column.columns;\n    } else {\n      return column;\n    }\n  });\n  return (\n    <View style={style}>\n      <View style={[styles.table]}>\n        <ReportTableRow>\n          {headerCols.map((col, ci)=>{\n            return <ReportTableCell column={col} header last={ci===headerCols.length-1} />\n          })}\n        </ReportTableRow>\n        {(rows||[]).map((row, ri)=>{\n          return (\n            <ReportTableRow wrap={false}>\n            {columns.map((col, ci)=>{\n              return <ReportTableCell column={col} row={row} last={ci===columns.length-1} lastRow={ri==rows.length-1} />\n            })}\n            </ReportTableRow>\n          );\n        })}\n      </View>\n    </View>\n  );\n}\n\nfunction ReportTableRow({children, wrap=true}) {\n  const theme = useTheme();\n  const styles = useReportTableStyles(theme);\n  return <View style={styles.row} wrap={wrap}>\n    {children}\n  </View>\n}\n\nfunction ReportTableCell({column=null, row=null, header=false, last=false, lastRow=false}) {\n  /* Spanned */\n  if(column.columns) {\n    if(header) {\n      return <ReportTableRow>\n        {column.columns.map((sCol, ci)=><Cell column={sCol} value={sCol.name} header={header}\n          last={last && ci==column.columns.length-1}/>)}\n      </ReportTableRow>\n    } else {\n      let pivotCols = column.pivot;\n      let pivotValue = row[column.columns[0].key];\n      let otherCols = column.columns.slice(1);\n      let dummyLen = column.columns[0].pivotDataLength - pivotValue.length;\n      return <View>\n        {pivotCols.map((col, pi)=>{\n          let cells = [];\n          cells.push([col, col.name]);\n          pivotValue?.map((row, ri)=>{\n            cells.push([col, row[col.key]]);\n          });\n          (new Array(dummyLen).fill(0)).map(()=>{\n            cells.push([col, '']);\n          })\n          otherCols.map((ocol)=>{\n            cells.push([ocol, row?.[ocol.key]?.[col.key]]);\n          });\n          return <ReportTableRow>\n            {cells.map((cell, ci)=>{\n              return <Cell header={ci==0} column={cell[0]} value={cell[1]}\n                last={last && ci==cells.length-1} lastRow={lastRow && pi==pivotCols.length-1}/>\n            })}\n          </ReportTableRow>\n        })}\n      </View>\n    }\n  }\n\n  let value = column.name;\n  if(!header) {\n    value = row[column.key];\n  }\n  return <Cell header={header} last={last} lastRow={lastRow} column={column} value={value}/>\n}\n\nfunction Cell({header=false, last=false, lastRow=false, column, value=''}) {\n  const theme = useTheme();\n  const styles = useReportTableStyles(theme);\n  const finalStyle = [styles.cell];\n  last && finalStyle.push(styles.noBorderRight);\n  lastRow && finalStyle.push(styles.noBorderBottom);\n  header && finalStyle.push(styles.header);\n  column.width && finalStyle.push({width: column.width});\n  column.align && !header && finalStyle.push({textAlign: column.align});\n  return <View style={finalStyle}>\n    <Text style={{marginTop: 'auto', marginBottom: 'auto'}}>\n      {value ?? ''}\n    </Text>\n  </View>;\n}\n\nexport function ReportField({name, value, margin, style, vertical=false}) {\n  let styles = [];\n  if(vertical) {\n    // styles = [{alignItems: 'center'}];\n    style && styles.push(style);\n    return (\n      <View style={styles}>\n        <Text style={{fontWeight: 'bold'}}>{name}</Text><Text>{value}</Text>\n      </View>\n    );\n  }\n  styles = [{flexDirection: 'row'}];\n  style && styles.push(style);\n  margin && styles.push({marginRight: '0.5rem'});\n  return (\n    <View style={styles}>\n      <Text style={{fontWeight: 'bold'}}>{name}: </Text><Text>{value}</Text>\n    </View>\n  );\n}\n\nexport function DashedDivider() {\n  return (\n    <View style={{borderBottom: '1px dashed #999999', margin: '2mm'}}></View>\n  );\n}\n\nexport function NoData() {\n  return (\n    <Text style={{textAlign: 'center'}}>--- No data ---</Text>\n  );\n}\n\nexport function ReportSection({text}) {\n  return <Text style={{fontWeight: 'bold', textAlign: 'center', textDecoration: 'underline', margin: '2mm'}}>{text}</Text>\n}\n\nfunction ReportHeader({reportName, getReportDetails, compHeader}) {\n  let reportDetails = getReportDetails && getReportDetails();\n\n  return (\n    <>\n    <Text style={{fontWeight:\"bold\", textAlign:\"center\"}}>\n      {reportName}\n    </Text>\n    <View style={{border: '1px solid #999999', borderRight: 0, borderLeft: 0, paddingTop: 1, paddingBottom: 1, marginBottom: 5, flexDirection: 'row'}}>\n      <View style={{flexBasis: '50%'}}>\n        <Text style={{fontWeight: 'bold'}}>{compHeader.name}</Text>\n        <Text>{compHeader.address}</Text>\n        <Text style={{fontWeight: 'bold'}} variant=\"subtitle2\">GSTIN: {compHeader.gst}</Text>\n        <Text>{compHeader.contact}, {compHeader.email}</Text>\n      </View>\n      <View style={{flexBasis: '50%'}}>\n        <ReportField name=\"Generated On\" value={Moment(new Date()).format('DD/MM/YYYY')} />\n        {reportDetails}\n      </View>\n    </View>\n    </>\n  );\n}\n\nexport function ReportViewer({reportName, getReportDetails, withHeader=true, orientation=\"potrait\", showPageNo=true, children}) {\n  const [compHeaders, setCompHeaders] = useState([]);\n\n  useEffect(()=>{\n    axios.get(`/api/companies`).then((res) => {\n      setCompHeaders(res.data.map((c)=>({label: c.name, value: c.id, data: c})));\n    });\n  }, []);\n\n  const compHeader = _.find(compHeaders, (c) => c.value === 1)?.data || {};\n\n  return(\n    <PDFViewer style={{height: '99%', width: '99%'}}>\n      <Document title={reportName}>\n        <Page size=\"A4\" orientation={orientation} style={{fontSize: '10px', fontFamily: 'm1', padding: '5mm', paddingBottom: '10mm'}}>\n          {children}\n          {showPageNo &&\n            <Text style={{\n              position: 'absolute',\n              bottom: '5mm',\n              left: 0,\n              right: 0,\n              textAlign: 'center',\n              color: 'grey',\n            }} render={({ pageNumber, totalPages }) => (\n              `${pageNumber} / ${totalPages}`\n            )} fixed />\n          }\n        </Page>\n      </Document>\n    </PDFViewer>\n  );\n}","import { Text, View } from \"@react-pdf/renderer\";\nimport { ReportField, ReportTable } from \"../components/PDFRenderComponents\";\n\nfunction CommonHeader({biding=true}) {\n  return (\n    <>\n    <View style={{borderBottom: '1px solid #999999', padding: '4px 0px'}}>\n      <Text>The address will come here 416115</Text>\n    </View>\n    <View style={{flexDirection: 'row', padding: '4px 0px'}}>\n      <View style={{flexBasis: '50%'}}><ReportField name=\"Date\" value=\"\" /></View>\n      <View style={{flexBasis: '50%'}}><ReportField name=\"Set No\" value={\"1\"} /></View>\n    </View>\n    <View style={{padding: '4px 0px'}}>\n      <ReportField name=\"Party\" value=\"Sample party\" />\n    </View>\n    <View style={{flexDirection: 'row', padding: '4px 0px'}}>\n      <Text style={{textDecoration: 'underline', fontWeight: 'bold', margin: 'auto', letterSpacing: '2px'}}>\n        {biding ? 'Biding Details' : 'Warping & Sizing details'}\n      </Text>\n    </View>\n    </>\n  )\n}\n\nfunction LeftSide() {\n  return (\n    <>\n    <CommonHeader biding={true}/>\n    <View style={{flexDirection: 'row', padding: '4px 0px'}}>\n      <View style={{flexBasis: '50%'}}><ReportField name=\"Yarn No.\" value=\"\" /></View>\n      <View style={{flexBasis: '50%'}}><ReportField name=\"Mill Name\" value=\"\" /></View>\n    </View>\n    <ReportTable columns={[\n      {name: 'Sr No', key: 'srNo', width: '10mm'},\n      {\n        name: 'Cone',\n        key: 'cone',\n        width: '30mm',\n        align: 'right',\n        Footer: (info)=>{\n          // let total = info.rows.reduce((sum, row) => {\n          //     return (parse(row.values[info.column.id]) || 0) + sum\n          //   }, 0\n          // );\n          // total = round(total, true);\n          return <span style={{fontWeight: 'bold'}}>{0}</span>\n        }\n      },\n      {\n        name: 'Gross Wt.',\n        key: 'grossWt',\n        width: '50mm',\n        align: 'right',\n        Footer: (info)=>{\n          // let total = info.rows.reduce((sum, row) => {\n          //     return (parse(row.values[info.column.id]) || 0) + sum\n          //   }, 0\n          // );\n          // total = round(total, true);\n          return <span style={{fontWeight: 'bold'}}>{0}</span>\n        }\n      },\n      {\n        name: 'Net Wt.',\n        key: 'netWt',\n        width: '50mm',\n        align: 'right',\n        Footer: (info)=>{\n          // let total = info.rows.reduce((sum, row) => {\n          //     return (parse(row.values[info.column.id]) || 0) + sum\n          //   }, 0\n          // );\n          // total = round(total, true);\n          return <span style={{fontWeight: 'bold'}}>{0}</span>\n        }\n      },\n    ]} rows={[\n      {cone: '123', grossWt: '123', netWt: 123},\n      {cone: '123', grossWt: '123', netWt: 123},\n      {cone: '123', grossWt: '123', netWt: 123},\n    ]}/>\n    </>\n  )\n}\n\nfunction RightSide() {\n  return (\n    <>\n    <CommonHeader biding={false}/>\n    <View style={{flexDirection: 'row', padding: '4px 0px'}}>\n      <View style={{flexBasis: '33.33%'}}><ReportField name=\"Yarn No.\" value=\"\" /></View>\n      <View style={{flexBasis: '40%'}}><ReportField name=\"Mill Name\" value=\"\" /></View>\n      <View style={{flexBasis: '27.17%'}}><ReportField name=\"Bag Count\" value=\"\" /></View>\n    </View>\n    <View style={{flexDirection: 'row', padding: '4px 0px'}}>\n      <View style={{flexBasis: '25%'}}><ReportField name=\"Tara\" value={123212123123} vertical/></View>\n      <View style={{flexBasis: '25%'}}><ReportField name=\"Rule\" value={123212123123} vertical/></View>\n      <View style={{flexBasis: '25%'}}><ReportField name=\"Measure\" value={123212123123} vertical/></View>\n      <View style={{flexBasis: '25%'}}><ReportField name=\"Quality\" value={123212123123} vertical/></View>\n    </View>\n    <ReportTable columns={[\n      {name: 'Sr No', key: 'srNo', width: '10mm'},\n      {name: '', key: 'type', width: '30mm'},\n      {name: 'Bags', key: 'bags', width: '22mm', align: 'right',},\n      {name: 'Cones', key: 'cones', width: '22mm', align: 'right',},\n      {\n        name: 'Gross Wt.',\n        key: 'grossWt',\n        width: '40mm',\n        align: 'right',\n      },\n      {\n        name: 'Net Wt.',\n        key: 'netWt',\n        width: '40mm',\n        align: 'right',\n      }\n    ]} rows={[\n      {type: 'Gatepass', cones: '123', grossWt: '123', netWt: 123},\n      {type: 'From Sizing', cones: 435, grossWt: '123', netWt: 123},\n      {cones: '123', grossWt: '123', netWt: 123},\n    ]}/>\n    </>\n  )\n}\n\nexport default function SizingSetReport() {\n  return (\n    <View style={{flexDirection: 'row'}}>\n      <View style={{flexBasis: '49%'}}>\n        <LeftSide />\n      </View>\n      <View style={{flexBasis: '2%', display: 'flex'}}>\n        <View style={{width: '1px', height: '100%', border: '0.5px dashed #dbdada', margin: 'auto'}} />\n      </View>\n      <View style={{flexBasis: '49%'}}>\n        <RightSide />\n      </View>\n    </View>\n  );\n}","import { Grid, IconButton, Link } from \"@material-ui/core\";\nimport _ from \"lodash\";\nimport { useEffect } from \"react\";\nimport { useState, useMemo } from \"react\";\nimport { BASE_URL } from \"../api\";\nimport DataGrid from \"../components/DataGrid\";\nimport DescriptionOutlinedIcon from '@material-ui/icons/DescriptionOutlined';\nimport CommonDialog from \"../helpers/CommonDialog\";\nimport { ReportField, ReportViewer } from \"../components/PDFRenderComponents\";\nimport SizingSetReport from \"./SizingSetReport\";\n\nexport default function SizingSets({apiObj, qid, sizingOpts}) {\n  const [sizingData, setSizingData] = useState([]);\n  const [selectedSet, setSelectedSet] = useState();\n  const columns = useMemo(()=>[\n    {\n      Header: '',\n      id: 'btn-report',\n      width: '30px',\n      Cell: ({value, row})=>{\n        return <IconButton onClick={()=>{setSelectedSet(row.original)}} ><DescriptionOutlinedIcon /></IconButton>;\n      }\n    },\n    {\n      Header: 'Set No',\n      accessor: 'setNo',\n      width: '20%',\n    },\n    {\n      Header: 'Sizing Name',\n      accessor: 'sizingId',\n      width: '40%',\n      Cell: ({value})=>{\n        return <span>{(_.find(sizingOpts, (e)=>e.value==value)||{}).label}</span>;\n      },\n    },\n    {\n      Header: 'Quality Name',\n      accessor: 'name',\n      width: '40%',\n    }\n  ], [sizingOpts]);\n\n  useEffect(()=>{\n    if(qid) {\n      const fetchSets = async ()=>{\n        let res = await apiObj.get(BASE_URL.SIZINGS_SET + '/' + qid);\n        setSizingData(res.data);\n      }\n      fetchSets();\n    }\n  }, [qid]);\n\n  return <>\n    <DataGrid columns={columns} data={sizingData} fixedLayout={true} noRowsMessage=\"No sets\" />\n    <CommonDialog title={'Tippan'} onClose={()=>{setSelectedSet(null)}} open={Boolean(selectedSet)} showFooter={false} maxWidth=\"xl\" noPadding={true} PaperProps={{style: {height: '100%'}}}>\n      <ReportViewer orientation=\"landscape\" showPageNo={false}>\n        <SizingSetReport />\n      </ReportViewer>\n    </CommonDialog>\n  </>\n}","import { Button, Link } from \"@material-ui/core\";\nimport _ from \"lodash\";\nimport { useEffect } from \"react\";\nimport { useState, useMemo } from \"react\";\nimport { connect } from \"react-redux\";\nimport { BASE_URL } from \"../api\";\nimport DataGrid from \"../components/DataGrid\";\nimport { FormInputSelectSearch, FormInputText, FormRow, FormRowItem } from \"../components/FormElements\";\nimport { NOTIFICATION_TYPE, setNotification } from \"../store/reducers/notification\";\nimport { getAxiosErr } from \"../utils\";\n\nfunction AddToSet({apiObj, qid, sizingOpts, data, qualityName, ...props}) {\n  const [setNo, setSetNo] = useState();\n  const [sizingId, setSizingId] = useState();\n  useEffect(()=>{\n  }, [qid]);\n\n  const onAddClick = async ()=>{\n    try {\n      await apiObj.post(BASE_URL.SIZINGS_SET, {\n        setNo: setNo,\n        sizingId: sizingId,\n        name: qualityName,\n        data: data,\n        qid: qid\n      })\n    } catch (err) {\n      console.log(err);\n      props.setNotification(NOTIFICATION_TYPE.ERROR, getAxiosErr(err));\n    }\n  }\n\n  return (\n    <FormRow>\n      <FormRowItem>\n        <FormInputText type=\"number\" label=\"Set No\" value={setNo} onChange={(e)=>setSetNo(e.target.value)} />\n      </FormRowItem>\n      <FormRowItem>\n        <FormInputSelectSearch label=\"Sizing\" options={sizingOpts} isClearable={true}\n          value={_.find(sizingOpts, (e)=>e.value == sizingId)}\n          onChange={(value)=>{\n            setSizingId(value?.value);\n          }}\n        />\n      </FormRowItem>\n      <FormRowItem>\n        <Button color=\"primary\" variant=\"outlined\" onClick={onAddClick} disabled={\n          !setNo || !sizingId || !qid || !qualityName\n        }>Add</Button>\n      </FormRowItem>\n      <FormRowItem></FormRowItem>\n      <FormRowItem></FormRowItem>\n      <FormRowItem></FormRowItem>\n    </FormRow>\n  )\n}\n\nexport default connect(()=>{}, (dispatch)=>({\n  setNotification: (...args)=>{dispatch(setNotification.apply(this, args))},\n  clearNotification: ()=>{dispatch(setNotification(null, null))},\n}))(AddToSet);","import { Accordion, AccordionDetails, AccordionSummary, Box, Button, Card, CardContent, CardHeader, Checkbox, Dialog, DialogActions, DialogContent, DialogTitle, Divider, FormControlLabel, Grid, IconButton, makeStyles, OutlinedInput, Paper, Slide, Tab, Tabs, Typography, useTheme } from '@material-ui/core';\nimport ToggleButton from '@material-ui/lab/ToggleButton';\nimport ToggleButtonGroup from '@material-ui/lab/ToggleButtonGroup';\nimport React, { useCallback, useEffect, useMemo, useReducer, useRef, useState } from 'react';\nimport { connect } from 'react-redux';\nimport DataGrid, { TableLayout, TableLayoutCell, TableLayoutRow } from '../components/DataGrid';\nimport { NOTIFICATION_TYPE, setNotification } from '../store/reducers/notification';\nimport _ from 'lodash';\nimport { FormRowItem, FormInputText, FormRow, FormInputSelect, FormInfo, FormInputSelectSearch } from '../components/FormElements';\nimport DeleteForeverRoundedIcon from '@material-ui/icons/DeleteForeverRounded';\nimport CloseOutlinedIcon from '@material-ui/icons/CloseOutlined';\nimport ReactToPrint from 'react-to-print';\nimport { getSettings } from '../store/reducers/settings';\nimport clsx from 'clsx';\nimport TabPanel, { ButtonTab } from '../components/TabPanel';\nimport { LASSA_UNIT_OPTIONS } from '../Settings';\nimport axios from 'axios';\nimport { BASE_URL, getApi } from '../api';\nimport { getAxiosErr } from '../utils';\nimport MyMath from '../MyMath';\nimport SizingSets from './SizingSets';\nimport AddToSet from './AddToSet';\n\nconst ROUND_DECIMAL = 5;\nconst MARGIN_TABLE_MAX = 25;\n\nfunction parse(num) {\n  if(!isNaN(num) && num) {\n    let ret = Number(num);\n    return isFinite(ret) ? ret : Number(0.0);\n  } else {\n    return Number(0.0);\n  }\n}\n\nfunction round(num) {\n  num = parse(num);\n  num = Math.round(num + \"e\" + ROUND_DECIMAL);\n  return Number(num + \"e\" + -ROUND_DECIMAL);\n}\n\nconst useStyles = makeStyles((theme)=>({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    height: '100%'\n  },\n  searchbar: {\n    padding: theme.spacing(1),\n    display: 'flex',\n  },\n  gridarea: {\n    flexGrow: 1,\n  },\n  inputGridTd: {\n    padding: '0px',\n  },\n  gridCell: {\n    '&:not(.Mui-focused)': {\n      '& .MuiOutlinedInput-notchedOutline': {\n        borderColor: 'transparent',\n      }\n    }\n  },\n  page: {\n    width: '297mm',\n    backgroundColor: '#fff',\n    padding: '5mm',\n    color: '#000',\n    fontSize: '16px',\n  },\n  borderBottom: {\n    borderBottom: '1px solid '+theme.palette.grey[500],\n  },\n  borderTop: {\n    borderTop: '1px solid '+theme.palette.grey[500],\n  },\n  alignRight: {\n    textAlign: 'right',\n  },\n  mtPerct: {\n    width: '50px',\n    padding: theme.spacing(1),\n  }\n}));\n\nfunction getProdCostWithBreakup(state) {\n  let prod_cost = 0;\n  let breakup = {\n    \"Total warp cost\": MyMath(0),\n    \"Total sizing cost\": MyMath(0),\n    \"Total weft cost\": MyMath(0),\n    \"Weaving charges\": MyMath(state.weaving_charges),\n  };\n  for(let row of state['warps'] || []) {\n    breakup[\"Total warp cost\"] = breakup[\"Total warp cost\"].add(row.cost);\n    breakup[\"Total sizing cost\"] = breakup[\"Total sizing cost\"].add(row.sizing_cost);\n  }\n  for(let row of state['wefts'] || []) {\n    breakup[\"Total weft cost\"] = breakup[\"Total weft cost\"].add(row.cost);\n  }\n  prod_cost = breakup[\"Total warp cost\"]\n    .add(breakup[\"Total sizing cost\"].toString())\n    .add(breakup[\"Total weft cost\"].toString())\n    .add(breakup[\"Weaving charges\"].toString());\n\n  breakup = {\n    \"Total warp cost\": breakup[\"Total warp cost\"].toString(),\n    \"Total sizing cost\": breakup[\"Total sizing cost\"].toString(),\n    \"Total weft cost\": breakup[\"Total weft cost\"].toString(),\n    \"Weaving charges\": breakup[\"Weaving charges\"].toString(),\n  };\n  return [prod_cost.toString(), breakup];\n}\n\nconst summaryReducer = (state)=>{\n  state.total_weight_glm = round(state.warp_weight + state.weft_weight);\n  state.total_weight_glm_wastage = round(state.warp_weight_wastage + state.weft_weight_wastage);\n  state.total_weight_gsm = round((state.total_weight_glm * 39.37)/parse(state.warp_panna));\n  [state.prod_cost, state.breakups.prod_cost] = getProdCostWithBreakup(state);\n  for(let i=0; i<MARGIN_TABLE_MAX; i++) {\n    state.margin_table[i] = round(state.prod_cost*(100+i+1)/100);\n  }\n  return state;\n}\n\nconst grayFabricReducer = (state)=>{\n  /* Gray fabric */\n  state.gray_brokerage_calc = parse(state.gray_market_price)*parse(state.gray_brokerage)/100;\n  state.gray_interest_calc = state.prod_cost*parse(state.gray_interest)/100;\n  state.gray_cashdisc_calc = parse(state.gray_market_price)*parse(state.gray_cashdisc)/100;\n  state.gray_others_calc = state.prod_cost*parse(state.gray_others)/100;\n  state.gray_total = round(state.prod_cost + state.gray_brokerage_calc + state.gray_interest_calc\n    + state.gray_cashdisc_calc + state.gray_others_calc);\n\n  state.gray_profit =  round((parse(state.gray_market_price)/state.gray_total-1)*100);\n  let totalWarpCost = 0;\n  let totalWarpSizCost = 0;\n  let totalWeftCost = 0;\n  for(let row of state['warps'] || []) {\n    totalWarpCost += row.cost;\n    totalWarpSizCost += row.sizing_cost;\n  }\n  for(let row of state['wefts'] || []) {\n    totalWeftCost  += row.cost;\n  }\n\n  state.gray_revjobrate = round((parse(state.gray_market_price)-state.gray_brokerage_calc-state.gray_interest_calc\n    -state.gray_cashdisc_calc-state.gray_others_calc-totalWarpCost-totalWarpSizCost-totalWeftCost)*100/parse(state.weft_pick));\n\n  return state;\n}\n\nconst finishFabricReducer = (state)=>{\n  /* Finish fabric */\n  state.fin_prod_elongshrink = state.prod_cost*parse(state.fin_elongshrink)/100;\n  state.fin_gray_elongshrink = parse(state.fin_gray_price)*parse(state.fin_elongshrink)/100;\n\n  state.fin_prod_wastage = (state.prod_cost+parse(state.fin_process_charge)+state.fin_prod_elongshrink)\n    *parse(state.fin_wastage)/100;\n  state.fin_gray_wastage = (parse(state.fin_gray_price)+parse(state.fin_process_charge)+state.fin_gray_elongshrink)\n    *parse(state.fin_wastage)/100;\n\n  let elongshrink = state.fin_elongshrink_opt === 'elongation' ? -1 : 1;\n  state.fin_prod_total = round(state.prod_cost+parse(state.fin_process_charge)+elongshrink*state.fin_prod_elongshrink\n    +state.fin_prod_wastage+parse(state.fin_packing)+parse(state.fin_others));\n  state.fin_gray_total = round(parse(state.fin_gray_price)+parse(state.fin_process_charge)+elongshrink*state.fin_gray_elongshrink\n    +state.fin_gray_wastage+parse(state.fin_packing)+parse(state.fin_others));\n\n  state.fin_prod_profit = round((parse(state.fin_market_price)-state.fin_prod_total)/state.fin_prod_total*100);\n  state.fin_gray_profit = round((parse(state.fin_market_price)-state.fin_gray_total)/state.fin_gray_total*100);\n\n  state.fin_rev_gray_price = round(parse(state.fin_market_price)-parse(state.fin_process_charge)+elongshrink*state.fin_prod_elongshrink\n    +state.fin_prod_wastage+parse(state.fin_packing)+parse(state.fin_others));\n  return state;\n}\n\nconst getCalcReducer = (settings)=>(state, action)=>{\n  let warp_lassa_meter = parse(state.warp_lassa);\n  let length_per_count = 1693.33;\n  if(settings.lassa_unit == 'yard') {\n    length_per_count = 1852;\n    warp_lassa_meter = warp_lassa_meter*0.9144;\n  }\n\n  const warpReducer = (state, rowsChange=false)=>{\n    state.warp_total_ends =  parse(state.warp_reed) * (parse(state.warp_panna) + parse(state.warp_reed_space));\n    state.warp_cramp = round((warp_lassa_meter-parse(state.warp_ltol))/warp_lassa_meter*100);\n    state.warp_weight = 0.0;\n    state.warp_weight_wastage = 0.0;\n\n    let gridValue = state['warps'];\n    if(!gridValue) return state;\n\n    let perct = (100/gridValue.length);\n\n    for(let row of gridValue) {\n      row.perct = rowsChange ? perct : row.perct;\n      let count = parse(row.count);\n      if(row.fabric_type == 'Denear') {\n        count = 5315/count;\n      }\n      let weight =\n        parse((state.warp_total_ends * parse(state.warp_lassa)/length_per_count/count/parse(state.warp_ltol))\n          * parse(row.perct)/100);\n\n      row.weight_wastage = weight + (parse(row.wastage) * weight)/100;\n      state.warp_weight += weight;\n      state.warp_weight_wastage += row.weight_wastage;\n\n      let rate = parse(row.rate)*100/\n        (100+(state.warp_rate_wgst ? parse(settings.yarn_rate_gst) : 0));\n      let sizing_rate = parse(row.sizing_rate)*100/\n        (100+(state.warp_sizing_wgst ? parse(settings.sizing_rate_gst) : 0));\n      row.cost = row.weight_wastage * parse(rate);\n      row.sizing_cost = row.weight_wastage * parse(sizing_rate);\n    }\n\n    state.warp_weight += state.warp_weight*parse(state.warp_iron_wt)/100;\n    state.warp_weight = round(state.warp_weight);\n    state.warp_weight_wastage = round(state.warp_weight_wastage);\n\n    return state;\n  }\n\n  const weftReducer = (state, rowsChange)=>{\n    state.weaving_charges = parse(state.weft_pick) * parse(state.weft_job_rate)/100;\n    state.weft_weight = 0;\n    state.weft_weight_wastage = 0;\n\n    let gridValue = state['wefts'];\n    if(!gridValue) return state;\n\n    let perct = (100/gridValue.length);\n    for(let row of gridValue) {\n      row.perct = rowsChange ? perct : row.perct;\n      let count = parse(row.count);\n      if(row.fabric_type == 'Denear') {\n        count = 5315/count;\n      }\n      let weight =\n        parse((parse(state.weft_meter) * (parse(state.weft_panna) + parse(state.weft_reed_space)) * parse(state.weft_pick)/(1693.33*count))\n          *parse(row.perct)/100);\n\n      row.weight_wastage = weight + (parse(row.wastage) * weight)/100;\n      state.weft_weight += weight;\n      state.weft_weight_wastage += row.weight_wastage;\n\n      let rate = parse(row.rate)*100/\n        (100+(state.weft_rate_wgst ? parse(settings.yarn_rate_gst) : 0));\n      row.cost = row.weight_wastage * parse(rate);\n    }\n    state.weft_weight = round(state.weft_weight);\n    state.weft_weight_wastage = round(state.weft_weight_wastage);\n    return state;\n  }\n\n  const packingWarpReducer = (state)=>{\n    let gridValue = state['wpWarps'];\n    if(!gridValue) return state;\n\n    for(let [i, row] of gridValue.entries()) {\n      row.count = state.warps[i].count;\n      let count = parse(row.count);\n      if(row.fabric_type == 'Denear') {\n        count = 5315/count;\n      }\n      row.kg_per_cone = parse(parse(row.bag_wt)/parse(row.bag_pack));\n      row.cone_measure = parse((row.kg_per_cone-parse(row.bottom_cone)/1000)*parse(count)*1693.33);\n      row.tara = parse(state.warp_total_ends/parse(row.part));\n      row.sizing_measure = row.cone_measure/parse(row.part)*parse(row.multipart);\n      row.fabric_measure = parse(row.sizing_measure/warp_lassa_meter*parse(state.warp_ltol));\n      row.total_warp_kg = parse(row.fabric_measure*state.warps[i].weight_wastage);\n      row.warp_bags = row.total_warp_kg/parse(row.bag_wt);\n\n      row.per_beam = parse(row.sizing_measure/parse(row.beams));\n      if(i === 0) {\n        state.wp_fabric_meter = round(row.fabric_measure);\n      } else {\n        state.wp_fabric_meter = 0;\n      }\n    }\n    return state;\n  }\n\n  const packingWeftReducer = (state)=>{\n    let gridValue = state['wpWefts'];\n    if(!gridValue) return state;\n\n    for(let [i, row] of gridValue.entries()) {\n      row.count = state.wefts[i].count;\n      row.total_weft_kg = state.wp_fabric_meter*state.wefts[i].weight_wastage;\n      row.weft_bags = round(row.total_weft_kg/parse(row.bag_wt));\n    }\n    return state;\n  }\n\n  let newState = _.cloneDeep(state);\n  let rows = null;\n\n  const processPostReducer = (postReducer, rowsChange)=>{\n    if(postReducer == 'warp' || postReducer == 'all') {\n      newState = warpReducer(newState, rowsChange);\n    }\n    if(postReducer == 'weft' || postReducer == 'all') {\n      newState = weftReducer(newState, rowsChange);\n    }\n    if(postReducer == 'wpwarp' || postReducer == 'all') {\n      newState = packingWarpReducer(newState);\n    }\n    if(postReducer == 'wpweft' || postReducer == 'all') {\n      newState = packingWeftReducer(newState);\n    }\n  }\n  switch(action.type) {\n    case 'init':\n      newState = action.value;\n      action.postReducer = 'all';\n      processPostReducer(action.postReducer);\n      break;\n    case 'set_value':\n      _.set(newState, action.path, action.value);\n      processPostReducer(action.postReducer);\n      break;\n    case 'add_grid_row':\n      rows = _.get(newState, action.path, []);\n      rows.push(action.value);\n      _.set(newState, action.path, rows);\n      processPostReducer(action.postReducer, true);\n\n      if(action.depPath) {\n        rows = _.get(newState, action.depPath, []);\n        rows.push(action.depValue);\n        _.set(newState, action.depPath, rows);\n        processPostReducer(action.depPostReducer, true);\n      }\n      break;\n    case 'remove_grid_row':\n      rows = _.get(newState, action.path, []);\n      rows.splice(action.value, 1);\n      _.set(newState, action.path, rows);\n      processPostReducer(action.postReducer, true);\n\n      if(action.depPath) {\n        rows = _.get(newState, action.depPath, []);\n        rows.splice(action.depValue, 1);\n        _.set(newState, action.depPath, rows);\n        processPostReducer(action.depPostReducer, true);\n      }\n      break;\n  }\n\n  newState = summaryReducer(newState);\n  newState = grayFabricReducer(newState);\n  newState = finishFabricReducer(newState);\n\n  return newState;\n}\n\n\nfunction getGridCols(basePath, fieldsDispatch, postReducer, otherCols, cellClassName, depDetails={}, canDelete=true) {\n  let baseCols = [{\n    Header: '',\n    id: 'id',\n    Print: ({row})=>row.index+1,\n    PrintFooter: '',\n    Cell: ({row})=>{\n      return <span style={{paddingLeft: '0.25rem', paddingRight: '0.25rem', fontWeight: 'bold'}}>{row.index+1}</span>;\n    }\n  },]\n\n  if(canDelete) {\n    baseCols.push({\n      Header: '',\n      id: 'btn-del',\n      Cell: ({row})=>{\n        return <IconButton onClick={(e)=>{\n          e.preventDefault();\n          fieldsDispatch({\n            type: 'remove_grid_row',\n            path: basePath,\n            value: row.index,\n            postReducer: postReducer,\n            ...depDetails,\n            depValue: row.index,\n          });\n        }}><DeleteForeverRoundedIcon /></IconButton>\n      }\n    });\n  }\n\n  for(const col of otherCols) {\n    baseCols.push({\n      Header: col.Header,\n      accessor: col.accessor,\n      Print: ({value, row})=><span>{value}</span>,\n      PrintFooter: col.showTotal ? (info)=>{\n        let total = info.rows.reduce((sum, row) => {\n            return (row.values[col.accessor] || 0) + sum\n          }, 0\n        );\n        total = parse(total);\n        return total;\n      } : '',\n      Footer: col.showTotal ? (info)=>{\n        let total = info.rows.reduce((sum, row) => {\n            return (row.values[col.accessor] || 0) + sum\n          }, 0\n        );\n        total = round(total);\n        return <FormInputText fullWidth inputProps={{style: {fontWeight: 'bold'}}} grid value={total} type=\"number\" readOnly={true} />\n      } : '',\n      Cell: ({value, row, column})=>{\n        value = col.CellValue ? col.CellValue(value) : value;\n        let warn = col.warn ? col.warn(value): false;\n        if(col.type === 'select') {\n          return (\n            <FormInputSelect value={value} options={col.options} onChange={(e)=>{\n              let value = e.target.value;\n              fieldsDispatch({\n                type: 'set_value',\n                path: basePath.concat([row.index, column.id]),\n                value: value,\n                postReducer: postReducer,\n              });\n            }} grid />\n          );\n        }\n        return (\n          <FormInputText fullWidth type=\"number\" value={value} readOnly={col.readOnly}\n            onChange={(e)=>{\n              let value = e.target.value;\n              fieldsDispatch({\n                type: 'set_value',\n                path: basePath.concat([row.index, column.id]),\n                value: value,\n                postReducer: postReducer,\n              });\n            }}\n            grid\n            warn={warn} />\n        );\n      },\n      default: col.default,\n      warn: col.warn,\n    });\n  }\n\n  return baseCols;\n}\n\nfunction SectionHead({children}) {\n  return <Typography color=\"secondary\" style={{textAlign: 'center', padding: '0.25rem', fontSize: '1.1rem'}}>{children}</Typography>;\n}\n\nfunction Calculator({open, onClose, selId, settings, agentOpts, partyOpts, sizingOpts, ...props}) {\n  const classes = useStyles();\n  const apiObj = useMemo(()=>getApi(), []);\n\n  const savedOtherData = useRef({});\n  const [otherData, setOtherData] = useState({});\n  const [fieldsData, fieldsDispatch] = useReducer(getCalcReducer(settings), {});\n  const [formDataErr, setFormDataErr] = useState({});\n  const editMode = !_.isNull(otherData.id) && !_.isUndefined(otherData.id);\n\n  useEffect(async ()=>{\n    let other = {};\n    let data = {};\n    try {\n      if(selId) {\n        let res = await apiObj.get(BASE_URL.QUALITY_DATA + '/' + selId);\n        data = res.data.data;\n        delete res.data.data;\n        other = res.data;\n        /* Sync up warp/weft packs if none */\n        if(!data.wpWarps) {\n          if(data.warps && data.warps.length > 0) {\n            data.wpWarps = new Array(data.warps.length).fill(getDefaultRow(wpWarpCols));\n          }\n          if(data.wefts && data.wefts.length > 0) {\n            data.wpWefts = new Array(data.wefts.length).fill(getDefaultRow(wpWeftCols));\n          }\n          data.margin_table = new Array(MARGIN_TABLE_MAX).fill(0);\n        }\n        delete data.fabric_type;\n      }\n      setOtherData(other);\n      fieldsDispatch({\n        type: 'init',\n        value: {\n          fin_elongshrink_opt: 'elongation',\n          weft_insertion: 1,\n          ...data,\n          weft_meter: 1,\n          margin_table: new Array(MARGIN_TABLE_MAX).fill(0),\n          breakups: {},\n        },\n      });\n    } catch(err) {\n      console.log(err);\n      props.setNotification(NOTIFICATION_TYPE.ERROR, getAxiosErr(err));\n    }\n  }, [selId, open]);\n\n  const onSave = (copy=false, close=false)=>{\n    let method = 'POST', url = BASE_URL.QUALITIES;\n    if(editMode && !copy) {\n      method = 'PUT';\n      url += '/' + otherData.id;\n    }\n    apiObj({\n      method: method,\n      url: url,\n      data: {\n        ...otherData,\n        data: fieldsData,\n      },\n    }).then((res)=>{\n      props.setNotification(NOTIFICATION_TYPE.SUCCESS, 'Quality saved successfully');\n      savedOtherData.current = {\n        ...otherData,\n        dispReed: fieldsData.warp_reed,\n        dispPick: fieldsData.weft_pick,\n        dispProdCost: fieldsData.prod_cost,\n      };\n      if(!editMode || copy) {\n        savedOtherData.current.id = res.data;\n        setOtherData(savedOtherData.current);\n      }\n      if(close) {\n        onClose(savedOtherData.current);\n      }\n    }).catch((err)=>{\n      props.setNotification(NOTIFICATION_TYPE.ERROR, getAxiosErr(err));\n    });\n  }\n\n  const onOtherChange = useCallback((e, name) => {\n    let value = e;\n    if(e && e.target) {\n      name = e.target.name;\n      value = e.target.value;\n    }\n\n    setOtherData((prevData)=>({\n      ...prevData,\n      [name]: value,\n    }));\n  });\n\n  const onWarpTextChange = useCallback((e, name) => {\n    let value = e;\n    if(e && e.target) {\n      name = e.target.name;\n      value = e.target.value;\n    }\n\n    fieldsDispatch({\n      type: 'set_value',\n      path: name,\n      value: value,\n      postReducer: 'warp',\n    });\n  });\n\n  const onWeftTextChange = useCallback((e, name) => {\n    let value = e;\n    if(e && e.target) {\n      name = e.target.name;\n      value = e.target.value;\n    }\n    fieldsDispatch({\n      type: 'set_value',\n      path: name,\n      value: value,\n      postReducer: 'weft',\n    });\n  });\n\n  const onWpWeftTextChange = useCallback((e, name) => {\n    let value = e;\n    if(e && e.target) {\n      name = e.target.name;\n      value = e.target.value;\n    }\n    fieldsDispatch({\n      type: 'set_value',\n      path: name,\n      value: value,\n      postReducer: 'wpweft',\n    });\n  });\n\n  const onRateChange = useCallback((e, name) => {\n    let value = e;\n    if(e && e.target) {\n      name = e.target.name;\n      value = e.target.value;\n    }\n    fieldsDispatch({\n      type: 'set_value',\n      path: name,\n      value: value,\n    });\n  });\n\n  const warpCols = useMemo(()=>getGridCols(['warps'], fieldsDispatch, 'warp', [\n    {\n      Header: 'Fabric',\n      accessor: 'fabric_type',\n      default: 'Cotton',\n      type: 'select',\n      width: 110,\n      options:[\n        {label:'Cotton', value: 'Cotton'},\n        {label:'Polyster', value: 'Polyster'},\n        {label:'Denear', value: 'Denear'},\n      ],\n    },\n    {\n      Header: 'Count',\n      accessor: 'count',\n    },\n    {\n      Header: 'Perct.(%)',\n      accessor: 'perct',\n    },\n    {\n      Header: 'Wastage(%)',\n      accessor: 'wastage',\n    },\n    {\n      Header: ()=>{\n        return (\n        <>\n        Rate(Rs per Kg)\n        <FormControlLabel\n          control={\n            <Checkbox\n              color=\"primary\"\n              size=\"small\"\n              checked={fieldsData.warp_rate_wgst}\n              onChange={(e)=>{\n                onWarpTextChange(e.target.checked, 'warp_rate_wgst')\n              }}\n            />\n          }\n          label=\"with GST\"\n        />\n        </>\n        )\n      },\n      accessor: 'rate',\n    },\n    {\n      Header: ()=>{\n        return (\n        <>\n        Sizing rate(Rs per Kg)\n        <FormControlLabel\n          control={\n            <Checkbox\n              color=\"primary\"\n              size=\"small\"\n              checked={fieldsData.warp_sizing_wgst}\n              onChange={(e)=>{\n                onWarpTextChange(e.target.checked, 'warp_sizing_wgst')\n              }}\n            />\n          }\n          label=\"with GST\"\n        />\n        </>\n        )\n      },\n      accessor: 'sizing_rate',\n      Footer: 'check;',\n      GST: true,\n    },\n    {\n      Header: 'Weight w/wastage(Kg)',\n      accessor: 'weight_wastage',\n      readOnly: true,\n      showTotal: true,\n      CellValue: (value)=>round(value),\n    },\n    {\n      Header: 'Warp cost(Rs)',\n      accessor: 'cost',\n      readOnly: true,\n      showTotal: true,\n      CellValue: (value)=>round(value),\n    },\n    {\n      Header: 'Warp sizing cost(Rs)',\n      accessor: 'sizing_cost',\n      readOnly: true,\n      showTotal: true,\n      CellValue: (value)=>round(value),\n    },\n  ], classes.gridCell, {\n    depPath: 'wpWarps',\n    depPostReducer: 'wpwarp',\n  }), [fieldsData.warp_sizing_wgst, fieldsData.warp_rate_wgst]);\n\n  const weftCols = useMemo(()=>getGridCols(['wefts'], fieldsDispatch, 'weft',[\n    {\n      Header: 'Fabric',\n      accessor: 'fabric_type',\n      default: 'Cotton',\n      type: 'select',\n      options:[\n        {label:'Cotton', value: 'Cotton'},\n        {label:'Polyster', value: 'Polyster'},\n        {label:'Denear', value: 'Denear'},\n      ],\n    },\n    {\n      Header: 'Count',\n      accessor: 'count',\n    },\n    {\n      Header: 'Perct.(%)',\n      accessor: 'perct',\n    },\n    {\n      Header: 'Wastage(%)',\n      accessor: 'wastage',\n    },\n    {\n      Header: ()=>{\n        return (\n        <>\n        Rate(Rs per Kg)\n        <FormControlLabel\n          control={\n            <Checkbox\n              color=\"primary\"\n              size=\"small\"\n              checked={fieldsData.weft_rate_wgst}\n              onChange={(e)=>{\n                onWeftTextChange(e.target.checked, 'weft_rate_wgst')\n              }}\n            />\n          }\n          label=\"with GST\"\n        />\n        </>\n        )\n      },\n      accessor: 'rate',\n    },\n    {\n      Header: 'Weight w/wastage(Kg)',\n      accessor: 'weight_wastage',\n      readOnly: true,\n      showTotal: true,\n      CellValue: (value)=>round(value),\n    },\n    {\n      Header: 'Weft cost(Rs)',\n      accessor: 'cost',\n      readOnly: true,\n      showTotal: true,\n      CellValue: (value)=>round(value),\n    },\n  ], classes.gridCell, {\n    depPath: 'wpWefts',\n    depPostReducer: 'wpweft',\n  }), [fieldsData.weft_rate_wgst]);\n\n  const wpWarpCols = useMemo(()=>getGridCols(['wpWarps'], fieldsDispatch, 'wpwarp',[\n    {\n      Header: 'Warp Count',\n      accessor: 'count',\n      readOnly: true,\n    },\n    {\n      Header: 'Bag Wt.',\n      accessor: 'bag_wt',\n    },\n    {\n      Header: 'Bag Packing',\n      accessor: 'bag_pack',\n    },\n    {\n      Header: 'Kg/Cone',\n      accessor: 'kg_per_cone',\n      readOnly: true,\n      CellValue: (value)=>round(value),\n    },\n    {\n      Header: 'Bottom Cone',\n      accessor: 'bottom_cone',\n      default: 50,\n    },\n    {\n      Header: 'Cone Measure',\n      accessor: 'cone_measure',\n      readOnly: true,\n      CellValue: (value)=>round(value),\n    },\n    {\n      Header: 'Part',\n      accessor: 'part',\n    },\n    {\n      Header: 'Multi-Part',\n      accessor: 'multipart',\n      default: 1,\n      warn: (value)=>(value != 1),\n    },\n    {\n      Header: 'Tara',\n      accessor: 'tara',\n      readOnly: true,\n      CellValue: (value)=>round(value),\n    },\n    {\n      Header: 'Sizing Measure',\n      accessor: 'sizing_measure',\n      readOnly: true,\n      CellValue: (value)=>round(value),\n    },\n    {\n      Header: 'Fabric Measure',\n      accessor: 'fabric_measure',\n      readOnly: true,\n      CellValue: (value)=>round(value),\n    },\n    {\n      Header: 'Warp Bags',\n      accessor: 'warp_bags',\n      readOnly: true,\n      CellValue: (value)=>round(value),\n    },\n    {\n      Header: 'Total Warp(Kg)',\n      accessor: 'total_warp_kg',\n      readOnly: true,\n      CellValue: (value)=>round(value),\n    },\n    {\n      Header: 'No of Beams',\n      accessor: 'beams',\n    },\n    {\n      Header: 'Per Beam',\n      accessor: 'per_beam',\n      readOnly: true,\n      CellValue: (value)=>round(value),\n    },\n  ], classes.gridCell, {}, false), []);\n\n  const wpWeftCols = useMemo(()=>getGridCols(['wpWefts'], fieldsDispatch, 'wpweft',[\n    {\n      Header: 'Weft Count',\n      accessor: 'count',\n      readOnly: true,\n    },\n    {\n      Header: 'Bag Wt.',\n      accessor: 'bag_wt',\n    },\n    {\n      Header: 'Bag Packing',\n      accessor: 'bag_pack',\n    },\n    {\n      Header: 'Weft Bags',\n      accessor: 'weft_bags',\n      readOnly: true,\n      CellValue: (value)=>round(value),\n    },\n    {\n      Header: 'Total Weft(Kg)',\n      accessor: 'total_weft_kg',\n      readOnly: true,\n      CellValue: (value)=>round(value),\n    },\n  ], classes.gridCell, {}, false), []);\n\n  const getDefaultRow = (cols) => {\n    let row = {}\n    cols.forEach((col)=>{\n      if(col.id?.startsWith('btn') || _.isUndefined(col.accessor)) {\n        return;\n      }\n      row[col.accessor] = !_.isUndefined(col.default) ? col.default : 0;\n    });\n    return row;\n  }\n\n  const reportRef = useRef()\n  const theme = useTheme();\n  const marginTableRows = Math.ceil((fieldsData.margin_table||[]).length/3);\n  const [tabvalue, setTabvalue] = React.useState(0);\n\n  const tabChange = (event, newValue) => {\n    newValue!=null && setTabvalue(newValue);\n  };\n\n  return (\n    <Dialog disableEscapeKeyDown open={open} fullScreen scroll='paper' TransitionProps={{\n      enter: false,\n      exit: false,\n    }}>\n      <DialogTitle id=\"simple-dialog-title\">\n        <IconButton onClick={()=>onClose(savedOtherData.current)} style={{marginRight: '0.5rem'}}><CloseOutlinedIcon /></IconButton>\n        {editMode ? 'Update quality' : 'Add new quality'}\n      </DialogTitle>\n      <DialogContent dividers={true}>\n        <FormRow>\n          <FormRowItem>\n            <FormInputText autoFocus label=\"Name\" name='name' value={otherData.name}\n              errorMsg={formDataErr.name} onChange={onOtherChange} />\n          </FormRowItem>\n          <FormRowItem>\n            <FormInputSelectSearch label=\"Agent\" name='agentId' options={agentOpts} isClearable={true}\n              value={_.find(agentOpts, (e)=>e.value == otherData.agentId)}\n              errorMsg={formDataErr.agentId}\n              onChange={(value)=>{\n                onOtherChange(value?.value, 'agentId');\n              }}\n            />\n          </FormRowItem>\n          <FormRowItem>\n            <FormInputSelectSearch label=\"Party\" name='partyId' options={partyOpts} isClearable={true}\n              value={_.find(partyOpts, (e)=>e.value == otherData.partyId)}\n              errorMsg={formDataErr.partyId}\n              onChange={(value)=>{\n                onOtherChange(value?.value, 'partyId');\n              }}\n            />\n          </FormRowItem>\n          <FormRowItem>\n            <FormInputText label=\"Notes\" name='notes' value={otherData.notes}\n              errorMsg={formDataErr.notes} onChange={onOtherChange} />\n          </FormRowItem>\n        </FormRow>\n        <Box display=\"flex\" flexDirection=\"column\" height=\"100%\" style={{minHeight: 0}}>\n          <Box paddingTop=\"0.5rem\" paddingBottom=\"0.5rem\">\n            <ToggleButtonGroup size=\"small\" value={tabvalue} exclusive onChange={tabChange}>\n              <ToggleButton value={0}>\n                Gray fabric\n              </ToggleButton>\n              <ToggleButton value={1}>\n                Finish fabric\n              </ToggleButton>\n              <ToggleButton value={2}>\n                Packing\n              </ToggleButton>\n              <ToggleButton value={3}>\n                Sizing Sets\n              </ToggleButton>\n            </ToggleButtonGroup>\n          </Box>\n          <TabPanel value={tabvalue} index={0}>\n            <Grid container spacing={1}>\n              <Grid item sm={12} md={12} lg={10} xl={10}>\n                <Paper style={{height: '100%'}}>\n                  <SectionHead>Warp</SectionHead>\n                  <Divider />\n                  <Box style={{padding: '0.5rem'}}>\n                    <FormRow>\n                      <FormRowItem>\n                        <FormInputText type=\"number\" label=\"EPI/Reed(Inch)\" name='warp_reed' value={fieldsData.warp_reed}\n                          errorMsg={formDataErr.warp_reed} onChange={onWarpTextChange} fullWidth/>\n                      </FormRowItem>\n                      <FormRowItem>\n                        <FormInputText type=\"number\" label=\"Width/Panna(Inch)\" name='warp_panna' value={fieldsData.warp_panna}\n                          errorMsg={formDataErr.warp_panna} onChange={onWarpTextChange} />\n                      </FormRowItem>\n                      <FormRowItem>\n                        <FormInputText type=\"number\" label=\"Extra Reed Space(Inch)\" name='warp_reed_space' value={fieldsData.warp_reed_space}\n                          errorMsg={formDataErr.warp_reed_space} onChange={onWarpTextChange} />\n                      </FormRowItem>\n                      <FormRowItem>\n                        <FormInputText type=\"number\" label={`Cut Mark/Lassa (${(_.find(LASSA_UNIT_OPTIONS, (o)=>o.value==settings.lassa_unit)||{label: ''}).label})`} name='warp_lassa' value={fieldsData.warp_lassa}\n                          errorMsg={formDataErr.warp_lassa} onChange={onWarpTextChange} />\n                      </FormRowItem>\n                      <FormRowItem>\n                        <FormInputText type=\"number\" label=\"Cut Length/L to L(Meter)\" name='warp_ltol' value={fieldsData.warp_ltol}\n                          errorMsg={formDataErr.warp_ltol} onChange={onWarpTextChange} />\n                      </FormRowItem>\n                      <FormRowItem>\n                        <FormInputText type=\"number\" label=\"Ironing/Sizing Wt. increase(%)\" name='warp_iron_wt' value={fieldsData.warp_iron_wt}\n                          errorMsg={formDataErr.warp_iron_wt} onChange={onWarpTextChange} />\n                      </FormRowItem>\n                      <FormRowItem>\n                        <FormInputText type=\"number\" label=\"Cramp(%)\" name='warp_cramp' value={fieldsData.warp_cramp}\n                          errorMsg={formDataErr.warp_cramp} onChange={onWarpTextChange} readOnly/>\n                      </FormRowItem>\n                      <FormRowItem>\n                        <FormInputText type=\"number\" label=\"Total ends\" name='warp_total_ends' value={round(fieldsData.warp_total_ends)}\n                          readOnly />\n                      </FormRowItem>\n                    </FormRow>\n                  </Box>\n                  <DataGrid columns={warpCols} data={fieldsData.warps || []} showFooter={true} tdClassName={classes.inputGridTd}\n                    noRowsMessage=\"Click on Add warp\"/>\n                  <Button variant=\"outlined\" color=\"primary\" onClick={()=>{\n                    fieldsDispatch({\n                      type: 'add_grid_row',\n                      path: 'warps',\n                      value: getDefaultRow(warpCols),\n                      postReducer: 'warp',\n                      depPath: 'wpWarps',\n                      depPostReducer: 'wpwarp',\n                      depValue: getDefaultRow(wpWarpCols),\n                    });\n                  }}>Add warp</Button>\n                  <Divider style={{marginTop: '0.5rem'}} />\n                  <SectionHead>Weft</SectionHead>\n                  <Divider />\n                  <Box style={{padding: '0.5rem'}}>\n                    <FormRow>\n                      <FormRowItem>\n                        <FormInputText type=\"number\" label=\"Meter\" name='weft_meter' value={fieldsData.weft_meter}\n                          errorMsg={formDataErr.weft_meter} readOnly/>\n                      </FormRowItem>\n                      <FormRowItem>\n                        <FormInputText type=\"number\" label=\"Width/Panna(Inch)\" name='weft_panna' value={fieldsData.weft_panna}\n                          errorMsg={formDataErr.panna} onChange={onWeftTextChange} />\n                      </FormRowItem>\n                      <FormRowItem>\n                        <FormInputText type=\"number\" label=\"Exta Reed Space(Inch)\" name='weft_reed_space' value={fieldsData.weft_reed_space}\n                          errorMsg={formDataErr.reed_space} onChange={onWeftTextChange} />\n                      </FormRowItem>\n                      <FormRowItem>\n                        <FormInputText type=\"number\" label=\"PPI(Pick)\" name='weft_pick' value={fieldsData.weft_pick}\n                          errorMsg={formDataErr.weft_pick} onChange={onWeftTextChange} />\n                      </FormRowItem>\n                      <FormRowItem>\n                        <FormInputText type=\"number\" label=\"No. of insertion\" name='weft_insertion' value={fieldsData.weft_insertion}\n                          errorMsg={formDataErr.weft_insertion} onChange={onWeftTextChange} warn={fieldsData.weft_insertion != 1}/>\n                      </FormRowItem>\n                      <FormRowItem>\n                        <FormInputText type=\"number\" label=\"Job Rate(paise)\" name='weft_job_rate' value={fieldsData.weft_job_rate}\n                          errorMsg={formDataErr.weft_job_rate} onChange={onWeftTextChange} />\n                      </FormRowItem>\n                      <FormRowItem>\n                        <FormInputText type=\"number\" label=\"Weaving charges\" name='weaving_charges' value={fieldsData.weaving_charges}\n                          readOnly />\n                      </FormRowItem>\n                    </FormRow>\n                  </Box>\n                  <DataGrid columns={weftCols} data={fieldsData.wefts || []} showFooter={true} tdClassName={classes.inputGridTd}\n                    noRowsMessage=\"Click on Add weft\"/>\n                  <Button variant=\"outlined\" color=\"primary\" onClick={()=>{\n                    fieldsDispatch({\n                      type: 'add_grid_row',\n                      path: 'wefts',\n                      value: getDefaultRow(weftCols),\n                      postReducer: 'weft',\n                      depPath: 'wpWefts',\n                      depPostReducer: 'wpweft',\n                      depValue: getDefaultRow(wpWeftCols),\n                    });\n                  }}>Add weft</Button>\n                </Paper>\n              </Grid>\n              <Grid item sm={12} md={12} lg={2} xl={2}>\n                <Paper style={{height: '100%'}}>\n                  <SectionHead>Summary(Kg)</SectionHead>\n                  <Divider />\n                  <Box style={{padding: '0.5rem'}}>\n                    <FormInputText type=\"number\" label=\"Warp weight\" name='warp_weight' value={fieldsData.warp_weight} readOnly />\n                    <Box style={{marginTop: '0.5rem'}}>\n                      <FormInputText type=\"number\" label=\"Weft weight\" name='weft_weight'\n                        value={fieldsData.weft_weight} readOnly />\n                    </Box>\n                    <Box style={{marginTop: '0.5rem'}}>\n                      <FormInputText type=\"number\" label=\"Total weight (GLM)\" name='total_weight_glm'\n                        value={fieldsData.total_weight_glm} readOnly highlight/>\n                    </Box>\n                    <Box style={{marginTop: '0.5rem'}}>\n                      <FormInputText type=\"number\" label=\"Total weight (GSM)\" name='total_weight_gsm'\n                        value={fieldsData.total_weight_gsm} readOnly highlight/>\n                    </Box>\n                    <Box style={{marginTop: '0.5rem'}}>\n                      <FormInputText type=\"number\" label=\"Warp weight w/wastage\" name='warp_weight_wastage'\n                        value={fieldsData.warp_weight_wastage} readOnly />\n                    </Box>\n                    <Box style={{marginTop: '0.5rem'}}>\n                      <FormInputText type=\"number\" label=\"Weft weight w/wastage\" name='weft_weight_wastage'\n                        value={fieldsData.weft_weight_wastage} readOnly />\n                    </Box>\n                    <Box style={{marginTop: '0.5rem'}}>\n                      <FormInputText type=\"number\" label=\"Total weight w/wastage\" name='total_weight_glm_wastage'\n                        value={fieldsData.total_weight_glm_wastage} readOnly highlight/>\n                    </Box>\n                    <Box style={{marginTop: '0.5rem'}}>\n                      <FormInputText type=\"number\" label=\"Production Cost\" name='prod_cost'\n                        value={fieldsData.prod_cost} readOnly highlight/>\n                    </Box>\n                  </Box>\n                </Paper>\n              </Grid>\n            </Grid>\n            <Paper style={{marginTop: '0.5rem'}}>\n              <SectionHead>Cost breakup</SectionHead>\n              <Divider />\n              <Box style={{padding: '0.5rem'}}>\n                <Grid container spacing={1}>\n                  <Grid item md={4} sm={12} xs={12}>\n                    <TableLayout>\n                      <TableLayoutRow>\n                        <TableLayoutCell colSpan={4} className={classes.borderBottom} style={{textAlign: 'center'}}>\n                          <Typography color=\"secondary\">Gray Fabric</Typography>\n                        </TableLayoutCell>\n                      </TableLayoutRow>\n                      <TableLayoutRow>\n                        <TableLayoutCell></TableLayoutCell>\n                        <TableLayoutCell></TableLayoutCell>\n                        <TableLayoutCell>\n                          <Box>\n                          Production cost\n                          <FormInfo>\n                            <Box p={1}>\n                              <TableLayout>\n                                {fieldsData.breakups?.prod_cost && Object.keys(fieldsData.breakups.prod_cost).map((b)=>{\n                                  return (\n                                    <TableLayoutRow key={b}>\n                                      <TableLayoutCell>{b}</TableLayoutCell>\n                                      <TableLayoutCell>{fieldsData.breakups.prod_cost[b]}</TableLayoutCell>\n                                    </TableLayoutRow>\n                                  )\n                                })}\n                              </TableLayout>\n                            </Box>\n                          </FormInfo>\n                          </Box>\n                        </TableLayoutCell>\n                      </TableLayoutRow>\n                      <TableLayoutRow>\n                        <TableLayoutCell className={classes.borderBottom}></TableLayoutCell>\n                        <TableLayoutCell className={classes.borderBottom}></TableLayoutCell>\n                        <TableLayoutCell className={classes.borderBottom}>\n                          <FormInputText type=\"number\" name='prod_cost' value={fieldsData.prod_cost}\n                            readOnly />\n                        </TableLayoutCell>\n                      </TableLayoutRow>\n                      <TableLayoutRow>\n                        <TableLayoutCell>Gray market price</TableLayoutCell>\n                        <TableLayoutCell>\n                          <FormInputText type=\"number\" name='gray_market_price' value={fieldsData.gray_market_price}\n                            onChange={onRateChange} />\n                        </TableLayoutCell>\n                        <TableLayoutCell>\n                          <FormInputText type=\"number\" name='gray_market_price' value={fieldsData.gray_market_price} readOnly />\n                        </TableLayoutCell>\n                      </TableLayoutRow>\n                      <TableLayoutRow>\n                        <TableLayoutCell>Brokerage(%)</TableLayoutCell>\n                        <TableLayoutCell>\n                          <FormInputText type=\"number\" name='gray_brokerage' value={fieldsData.gray_brokerage}\n                            onChange={onRateChange} />\n                        </TableLayoutCell>\n                        <TableLayoutCell>\n                          <FormInputText type=\"number\" name='gray_brokerage_calc' value={fieldsData.gray_brokerage_calc} readOnly />\n                        </TableLayoutCell>\n                      </TableLayoutRow>\n                      <TableLayoutRow>\n                        <TableLayoutCell>Interest(%)</TableLayoutCell>\n                        <TableLayoutCell>\n                          <FormInputText type=\"number\" name='gray_interest' value={fieldsData.gray_interest}\n                            onChange={onRateChange} />\n                        </TableLayoutCell>\n                        <TableLayoutCell>\n                          <FormInputText type=\"number\" name='gray_interest_calc' value={fieldsData.gray_interest_calc} readOnly />\n                        </TableLayoutCell>\n                      </TableLayoutRow>\n                      <TableLayoutRow>\n                        <TableLayoutCell>Cash discount(%)</TableLayoutCell>\n                        <TableLayoutCell>\n                          <FormInputText type=\"number\" name='gray_cashdisc' value={fieldsData.gray_cashdisc}\n                            onChange={onRateChange} />\n                        </TableLayoutCell>\n                        <TableLayoutCell>\n                          <FormInputText type=\"number\" name='gray_cashdisc_calc' value={fieldsData.gray_cashdisc_calc} readOnly />\n                        </TableLayoutCell>\n                      </TableLayoutRow>\n                      <TableLayoutRow>\n                        <TableLayoutCell>Others(%)</TableLayoutCell>\n                        <TableLayoutCell>\n                          <FormInputText type=\"number\" name='gray_others' value={fieldsData.gray_others}\n                            onChange={onRateChange} />\n                        </TableLayoutCell>\n                        <TableLayoutCell>\n                          <FormInputText type=\"number\" name='gray_others_calc' value={fieldsData.gray_others_calc} readOnly />\n                        </TableLayoutCell>\n                      </TableLayoutRow>\n                      <TableLayoutRow>\n                        <TableLayoutCell className={classes.borderTop}></TableLayoutCell>\n                        <TableLayoutCell className={clsx(classes.borderTop, classes.alignRight)}>Total</TableLayoutCell>\n                        <TableLayoutCell className={classes.borderTop}>\n                          <FormInputText type=\"number\" name='gray_total' value={fieldsData.gray_total} readOnly highlight/>\n                        </TableLayoutCell>\n                      </TableLayoutRow>\n                      <TableLayoutRow>\n                        <TableLayoutCell></TableLayoutCell>\n                        <TableLayoutCell className={classes.alignRight}>Profit(%)</TableLayoutCell>\n                        <TableLayoutCell>\n                          <FormInputText type=\"number\" name='gray_profit' value={fieldsData.gray_profit} readOnly profit/>\n                        </TableLayoutCell>\n                      </TableLayoutRow>\n                      <TableLayoutRow>\n                        <TableLayoutCell></TableLayoutCell>\n                        <TableLayoutCell className={classes.alignRight}>Reverse Job Rate(Paise)</TableLayoutCell>\n                        <TableLayoutCell>\n                          <FormInputText type=\"number\" name='gray_revjobrate' value={fieldsData.gray_revjobrate} readOnly highlight/>\n                        </TableLayoutCell>\n                      </TableLayoutRow>\n                    </TableLayout>\n                  </Grid>\n                  <Grid item md={1} sm={12} xs={12}></Grid>\n                  <Grid item md={7} sm={12} xs={12}>\n                    <TableLayout>\n                      <TableLayoutRow>\n                        <TableLayoutCell colSpan={99} className={classes.borderBottom} style={{textAlign: 'center'}}>\n                          <Typography color=\"secondary\">Margin Table</Typography>\n                        </TableLayoutCell>\n                      </TableLayoutRow>\n                      {[...new Array(marginTableRows)].map((v, irow)=>{\n                        let mt = fieldsData.margin_table || [];\n                        return (\n                          <TableLayoutRow key={irow}>\n                            <TableLayoutCell className={classes.mtPerct}>{0+irow+1}%</TableLayoutCell>\n                            <TableLayoutCell>{mt[0+irow]}</TableLayoutCell>\n                            {marginTableRows+irow < mt.length && <>\n                            <TableLayoutCell className={classes.mtPerct}>{marginTableRows+irow+1}%</TableLayoutCell>\n                            <TableLayoutCell>{mt[marginTableRows+irow]}</TableLayoutCell>\n                            </>}\n                            {2*marginTableRows+irow < mt.length && <>\n                            <TableLayoutCell className={classes.mtPerct}>{2*marginTableRows+irow+1}%</TableLayoutCell>\n                            <TableLayoutCell>{mt[2*marginTableRows+irow]}</TableLayoutCell>\n                            </>}\n                          </TableLayoutRow>\n                        )\n                      })}\n                    </TableLayout>\n                  </Grid>\n                </Grid>\n              </Box>\n            </Paper>\n          </TabPanel>\n          <TabPanel value={tabvalue} index={1}>\n            <Box style={{padding: '0.5rem'}}>\n              <Grid container spacing={1}>\n                <Grid item md={7} sm={12} xs={12}>\n                  <TableLayout>\n                    <TableLayoutRow>\n                      <TableLayoutCell colSpan={4} className={classes.borderBottom} style={{textAlign: 'center'}}>\n                        <Typography color=\"secondary\">Finish Fabric</Typography>\n                      </TableLayoutCell>\n                    </TableLayoutRow>\n                    <TableLayoutRow>\n                      <TableLayoutCell></TableLayoutCell>\n                      <TableLayoutCell></TableLayoutCell>\n                      <TableLayoutCell>Production cost</TableLayoutCell>\n                      <TableLayoutCell>Gray market price</TableLayoutCell>\n                    </TableLayoutRow>\n                    <TableLayoutRow>\n                      <TableLayoutCell className={classes.borderBottom}></TableLayoutCell>\n                      <TableLayoutCell className={classes.borderBottom}></TableLayoutCell>\n                      <TableLayoutCell className={classes.borderBottom}>\n                        <FormInputText type=\"number\" name='prod_cost' value={fieldsData.prod_cost}\n                          readOnly/>\n                      </TableLayoutCell>\n                      <TableLayoutCell className={classes.borderBottom}>\n                        <FormInputText type=\"number\" name='fin_gray_price' value={fieldsData.fin_gray_price}\n                          onChange={onRateChange} />\n                      </TableLayoutCell>\n                    </TableLayoutRow>\n                    <TableLayoutRow>\n                      <TableLayoutCell>Process Charge(Rs.)</TableLayoutCell>\n                      <TableLayoutCell>\n                        <FormInputText type=\"number\" name='fin_process_charge' value={fieldsData.fin_process_charge}\n                          onChange={onRateChange} />\n                      </TableLayoutCell>\n                      <TableLayoutCell>\n                        <FormInputText type=\"number\" name='fin_process_charge' value={fieldsData.fin_process_charge} readOnly/>\n                      </TableLayoutCell>\n                      <TableLayoutCell>\n                        <FormInputText type=\"number\" name='fin_process_charge' value={fieldsData.fin_process_charge} readOnly/>\n                      </TableLayoutCell>\n                    </TableLayoutRow>\n                    <TableLayoutRow>\n                      <TableLayoutCell>\n                        <FormInputSelect name='fin_elongshrink_opt' value={fieldsData.fin_elongshrink_opt} options={[\n                          {label:'Elongation %', value: 'elongation'},\n                          {label:'Shrinkage %', value: 'shrinkage'},\n                        ]} onChange={onRateChange} />\n                      </TableLayoutCell>\n                      <TableLayoutCell>\n                        <FormInputText type=\"number\" name='fin_elongshrink' value={fieldsData.fin_elongshrink}\n                          onChange={onRateChange} fullWidth />\n                      </TableLayoutCell>\n                      <TableLayoutCell>\n                        <FormInputText type=\"number\" name='fin_prod_elongshrink' value={fieldsData.fin_prod_elongshrink} readOnly/>\n                      </TableLayoutCell>\n                      <TableLayoutCell>\n                        <FormInputText type=\"number\" name='fin_gray_elongshrink' value={fieldsData.fin_gray_elongshrink} readOnly/>\n                      </TableLayoutCell>\n                    </TableLayoutRow>\n                    <TableLayoutRow>\n                      <TableLayoutCell>Wastage(%)</TableLayoutCell>\n                      <TableLayoutCell>\n                        <FormInputText type=\"number\" name='fin_wastage' value={fieldsData.fin_wastage}\n                          onChange={onRateChange} fullWidth />\n                      </TableLayoutCell>\n                      <TableLayoutCell>\n                        <FormInputText type=\"number\" name='fin_prod_wastage' value={fieldsData.fin_prod_wastage}\n                          readOnly/>\n                      </TableLayoutCell>\n                      <TableLayoutCell>\n                        <FormInputText type=\"number\" name='fin_gray_wastage' value={fieldsData.fin_gray_wastage}\n                          readOnly/>\n                      </TableLayoutCell>\n                    </TableLayoutRow>\n                    <TableLayoutRow>\n                      <TableLayoutCell>Packing Charges(Rs)</TableLayoutCell>\n                      <TableLayoutCell>\n                        <FormInputText type=\"number\" name='fin_packing' value={fieldsData.fin_packing}\n                          onChange={onRateChange} fullWidth />\n                      </TableLayoutCell>\n                      <TableLayoutCell>\n                        <FormInputText type=\"number\" name='fin_packing' value={fieldsData.fin_packing}\n                          readOnly/>\n                      </TableLayoutCell>\n                      <TableLayoutCell>\n                        <FormInputText type=\"number\" name='fin_packing' value={fieldsData.fin_packing}\n                          readOnly/>\n                      </TableLayoutCell>\n                    </TableLayoutRow>\n                    <TableLayoutRow>\n                      <TableLayoutCell>Others(Rs)</TableLayoutCell>\n                      <TableLayoutCell>\n                        <FormInputText type=\"number\" name='fin_others' value={fieldsData.fin_others}\n                          onChange={onRateChange} fullWidth />\n                      </TableLayoutCell>\n                      <TableLayoutCell>\n                        <FormInputText type=\"number\" name='fin_others' value={fieldsData.fin_others} readOnly/>\n                      </TableLayoutCell>\n                      <TableLayoutCell>\n                        <FormInputText type=\"number\" name='fin_others' value={fieldsData.fin_others} readOnly/>\n                      </TableLayoutCell>\n                    </TableLayoutRow>\n                    <TableLayoutRow>\n                      <TableLayoutCell className={classes.borderTop}></TableLayoutCell>\n                      <TableLayoutCell className={clsx(classes.borderTop, classes.alignRight)}>Total</TableLayoutCell>\n                      <TableLayoutCell className={classes.borderTop}>\n                        <FormInputText type=\"number\" name='fin_prod_total' value={fieldsData.fin_prod_total}\n                          readOnly highlight />\n                      </TableLayoutCell>\n                      <TableLayoutCell className={classes.borderTop}>\n                        <FormInputText type=\"number\" name='fin_gray_total' value={fieldsData.fin_gray_total}\n                          readOnly highlight/>\n                      </TableLayoutCell>\n                    </TableLayoutRow>\n                    <TableLayoutRow>\n                      <TableLayoutCell></TableLayoutCell>\n                      <TableLayoutCell></TableLayoutCell>\n                      <TableLayoutCell>Profit(%)</TableLayoutCell>\n                      <TableLayoutCell>Profit(%)</TableLayoutCell>\n                    </TableLayoutRow>\n                    <TableLayoutRow>\n                      <TableLayoutCell>Finish Fabric Market Price</TableLayoutCell>\n                      <TableLayoutCell>\n                        <FormInputText type=\"number\" name='fin_market_price' value={fieldsData.fin_market_price}\n                          onChange={onRateChange} fullWidth />\n                      </TableLayoutCell>\n                      <TableLayoutCell>\n                        <FormInputText type=\"number\" name='fin_prod_profit' value={fieldsData.fin_prod_profit}\n                          readOnly profit/>\n                      </TableLayoutCell>\n                      <TableLayoutCell>\n                        <FormInputText type=\"number\" name='fin_gray_profit' value={fieldsData.fin_gray_profit}\n                          readOnly profit/>\n                      </TableLayoutCell>\n                    </TableLayoutRow>\n                    <TableLayoutRow>\n                      <TableLayoutCell>Reverse Gray Market Price</TableLayoutCell>\n                      <TableLayoutCell>\n                        <FormInputText type=\"number\" name='fin_rev_gray_price' value={fieldsData.fin_rev_gray_price} readOnly/>\n                      </TableLayoutCell>\n                      <TableLayoutCell></TableLayoutCell>\n                      <TableLayoutCell></TableLayoutCell>\n                    </TableLayoutRow>\n                  </TableLayout>\n                </Grid>\n              </Grid>\n            </Box>\n          </TabPanel>\n          <TabPanel value={tabvalue} index={2}>\n            <Paper style={{height: '100%'}}>\n              <SectionHead>Warp required</SectionHead>\n              <Divider />\n              <DataGrid columns={wpWarpCols} data={fieldsData.wpWarps || []} tdClassName={classes.inputGridTd} />\n              <SectionHead>Weft required</SectionHead>\n              <Divider />\n              <Box style={{padding: '0.5rem'}}>\n                <FormRow>\n                  <FormRowItem>\n                    <FormInputText type=\"number\" label=\"Fabric Meter\" name='wp_fabric_meter' value={fieldsData.wp_fabric_meter}\n                      onChange={onWpWeftTextChange}/>\n                  </FormRowItem>\n                  <FormRowItem></FormRowItem>\n                  <FormRowItem></FormRowItem>\n                  <FormRowItem></FormRowItem>\n                  <FormRowItem></FormRowItem>\n                  <FormRowItem></FormRowItem>\n                </FormRow>\n              </Box>\n              <DataGrid columns={wpWeftCols} data={fieldsData.wpWefts || []} tdClassName={classes.inputGridTd} />\n              <SectionHead>Add to set</SectionHead>\n              <Divider />\n              <Box style={{padding: '1rem 0.5rem'}}>\n                <AddToSet apiObj={apiObj} qid={otherData.id} sizingOpts={sizingOpts} data={{\n                  wpWarps: fieldsData.wpWarps,\n                  wpWefts: fieldsData.wpWefts,\n                }} qualityName={otherData.name}/>\n              </Box>\n            </Paper>\n          </TabPanel>\n          <TabPanel value={tabvalue} index={3}>\n            <SizingSets apiObj={apiObj} sizingOpts={sizingOpts} qid={otherData.id}/>\n          </TabPanel>\n        </Box>\n        <Box display=\"none\">\n          <PrintPage fieldsData={fieldsData} printRef={reportRef} warpCols={warpCols} weftCols={weftCols}/>\n        </Box>\n\n      </DialogContent>\n      <DialogActions style={{justifyContent: 'flex-start'}}>\n        <Button variant=\"contained\" onClick={()=>onSave()} color=\"primary\" disabled={!Boolean(otherData.name)}>Save</Button>\n        <Button variant=\"contained\" onClick={()=>onSave(true)} color=\"primary\" disabled={!Boolean(otherData.name) || !Boolean(otherData.id)}>Copy and Save</Button>\n        {/* <Button variant=\"contained\" onClick={()=>onSave(false, true)} color=\"primary\" disabled={!Boolean(otherData.name)}>Save and Close</Button> */}\n        {/* <ReactToPrint\n          trigger={()=><Button color=\"primary\" variant=\"outlined\" style={{marginLeft: '0.5rem'}}>Print</Button>}\n          content={()=>reportRef.current}\n          pageStyle={pageStyle}\n          documentTitle={'Costing-'+fieldsData.name}\n        /> */}\n        {/* <Button variant=\"outlined\" color=\"primary\" style={{marginLeft: '0.5rem'}} disabled>Print(Coming soon)</Button> */}\n        <Button variant=\"outlined\" color=\"primary\" onClick={()=>onClose(savedOtherData.current)} style={{marginLeft: '0.5rem'}}>Close</Button>\n      </DialogActions>\n    </Dialog>\n  )\n}\n\nconst pageStyle = `\n  @page {\n    size: A4 landscape;\n    margin: 0mm;\n  }\n`;\n\nconst useReportStyles = makeStyles((theme)=>({\n  page: {\n    width: '297mm',\n    backgroundColor: '#fff',\n    padding: '5mm',\n    color: '#000',\n    fontSize: '16px',\n  },\n}));\n\nfunction PrintPage({printRef, fieldsData, warpCols, weftCols}) {\n  const classes = useReportStyles();\n  return (\n    <Box ref={printRef} className={classes.page}>\n      <Box textAlign=\"center\">\n        <h3>Fabric Costing</h3>\n      </Box>\n      {/* <Divider /> */}\n      <Box borderTop={1}/>\n      <Box p={1}>\n        <PrintField label=\"Quality Name\" value={fieldsData.name} />\n      </Box>\n      <Box borderTop={1}/>\n      <Grid container>\n        <Grid item xs={12}>\n          <Box>\n            <Box textAlign=\"center\">\n              <h3>Warp</h3>\n            </Box>\n            <Box display=\"flex\" flexWrap=\"wrap\">\n              <PrintField label=\"Reed Name\" value={fieldsData.warp_reed} />\n              <PrintField margin label=\"Panna\" value={fieldsData.warp_panna} />\n              <PrintField margin label=\"Reed space\" value={fieldsData.warp_reed_space} />\n              <PrintField margin label=\"Lassa\" value={fieldsData.warp_lassa} />\n              <PrintField margin label=\"L to L\" value={fieldsData.warp_ltol} />\n              <PrintField margin label=\"Total ends\" value={fieldsData.warp_total_ends} />\n            </Box>\n            <DataGrid columns={warpCols} data={fieldsData.warps || []} showFooter={true} print={true}/>\n          </Box>\n          <Box>\n            <Box textAlign=\"center\">\n              <h3>Weft</h3>\n            </Box>\n            <Box display=\"flex\" flexWrap=\"wrap\">\n              <PrintField label=\"Meter\" value={fieldsData.weft_meter} />\n              <PrintField margin label=\"Panna\" value={fieldsData.weft_panna} />\n              <PrintField margin label=\"Reed space\" value={fieldsData.weft_reed_space} />\n              <PrintField margin label=\"Pick\" value={fieldsData.weft_pick} />\n              <PrintField margin label=\"Job rate (paise)\" value={fieldsData.weft_job_rate} />\n              <PrintField margin label=\"Weaving charges\" value={fieldsData.weaving_charges} />\n            </Box>\n            <DataGrid columns={weftCols} data={fieldsData.wefts || []} showFooter={true} print={true}/>\n          </Box>\n        </Grid>\n      </Grid>\n      <Divider />\n      <PrintField label=\"Gross rate\" rs={true} value={fieldsData.prod_cost} />\n      <PrintField label=\"Rate local\" rs={true} value={fieldsData.rate_local_rs} />\n      <PrintField label=\"Rate out\" rs={true} value={fieldsData.rate_out_rs} />\n      <Box position=\"fixed\" bottom=\"0\" left=\"0\" right=\"0\" textAlign=\"center\" fontSize=\"0.6em\">Generated by Costing software by team Yantra - yantra.contact@gmail.com</Box>\n    </Box>\n  )\n}\n\nfunction PrintField({label, value, rs, margin, ...props}) {\n  return (\n    <Box {...props} marginLeft={margin ? '1rem' : 0}>\n      <span style={{fontWeight: 'bold'}}>{label}</span>: {rs && 'Rs. '}<span>{value}</span>\n    </Box>\n  )\n}\n\nexport default connect((state)=>({settings: getSettings(state)}), (dispatch)=>({\n  setNotification: (...args)=>{dispatch(setNotification.apply(this, args))},\n  clearNotification: ()=>{dispatch(setNotification(null, null))},\n}))(Calculator);","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nexport default function ConfirmDialog({open, onClose, title, content, onConfirm}) {\n  return (\n    <Dialog\n      open={open}\n      onClose={onClose}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n      fullWidth\n    >\n      <DialogTitle id=\"alert-dialog-title\">{title}</DialogTitle>\n      <DialogContent dividers>\n        <DialogContentText id=\"alert-dialog-description\">\n          {content}\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={onClose} color=\"secondary\" variant=\"outlined\">\n          Cancel\n        </Button>\n        <Button onClick={onConfirm} color=\"primary\" variant=\"contained\" autoFocus>\n          Yes\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}","import { Box, Button, IconButton, Link, makeStyles, Modal, OutlinedInput, useTheme } from '@material-ui/core';\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { connect } from 'react-redux';\nimport DataGrid from '../components/DataGrid';\nimport { NOTIFICATION_TYPE, setNotification } from '../store/reducers/notification';\nimport Calculator from './Calculator';\nimport { BASE_URL, getApi } from '../api';\nimport _ from 'lodash';\nimport { AddRounded } from '@material-ui/icons';\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\nimport ConfirmDialog from '../helpers/ConfirmDialog';\nimport { FormInputSelectSearch, FormInputText, FormRow, FormRowItem } from '../components/FormElements';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess';\n\nconst useStyles = makeStyles((theme)=>({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    height: '100%'\n  },\n  searchbar: {\n    padding: theme.spacing(1),\n  },\n  gridarea: {\n    padding: theme.spacing(0, 1),\n    flexGrow: 1,\n  },\n  expandTd: {\n    padding: '8px',\n  },\n  expandTdTitle: {\n    marginBottom: '8px',\n    color: theme.palette.secondary.main,\n  }\n}));\n\nfunction getAxiosErr(err) {\n  let message = '';\n  if (err.response) {\n    // client received an error response (5xx, 4xx)\n    if(_.isString(err.response.data.message)) {\n      message = err.response.data.message;\n    } else {\n      message = err.response.statusText + '. Contact administrator.';\n    }\n  } else if (err.request) {\n    // client never received a response, or request never left\n    message = 'Not able to send the request. Contact administrator.';\n  } else {\n    message = 'Some error occurred. Contact administrator.';\n  }\n  return message;\n}\n\nfunction ExpandedRows({apiObj, row, agentOpts, partyOpts}) {\n  const classes = useStyles();\n  let [exrows, setExrows] = useState(null);\n  useEffect(()=>{\n    const fetchExrows = async ()=>{\n      let res = await apiObj.get(BASE_URL.QUALITY_HIST + '/' + row.original.id);\n      setExrows(res.data);\n    }\n    fetchExrows();\n  }, []);\n  if(!exrows) {\n    return <span>Loading...</span>\n  }\n\n  const skipColumns = [\n    {\n      Header: 'Date',\n      accessor: 'date',\n      width: '10%',\n    },\n    {\n      Header: 'Name',\n      accessor: 'name',\n      width: '25%',\n    },\n    {\n      Header: 'EPI/Reed(Inch)',\n      accessor: 'dispReed',\n      width: '10%',\n    },\n    {\n      Header: 'PPI(Pick)',\n      accessor: 'dispPick',\n      width: '10%',\n    },\n    {\n      Header: 'Production Cost',\n      accessor: 'dispProdCost',\n      width: '15%',\n    },\n    {\n      Header: 'Agent',\n      accessor: 'agentId',\n      width: '20%',\n      Cell: ({value})=>{\n        return <span>{(_.find(agentOpts, (e)=>e.value==value)||{}).label}</span>;\n      },\n    },\n    {\n      Header: 'Party',\n      accessor: 'partyId',\n      width: '20%',\n      Cell: ({value})=>{\n        return <span>{(_.find(partyOpts, (e)=>e.value==value)||{}).label}</span>;\n      },\n    },{\n      Header: 'Notes',\n      accessor: 'notes',\n      width: '35%',\n      Cell: ({value})=><span>{value}</span>,\n    },\n  ]\n  return (\n    <div colSpan=\"100%\" className={classes.expandTd}>\n      <div className={classes.expandTdTitle}>History</div>\n      <DataGrid columns={skipColumns} data={exrows} fixedLayout={true} noRowsMessage=\"No history\" />\n    </div>\n  );\n}\n\nfunction FabricCosting(props) {\n  const classes = useStyles();\n  const [openCalc, setOpenCalc] = useState(false);\n  const [selId, setSelId] = useState(null);\n  const [agentOpts, setAgentOpts] = useState([]);\n  const [partyOpts, setPartyOpts] = useState([]);\n  const [sizingOpts, setSizingOpts] = useState([]);\n  const [qualities, setQualities] = useState([]);\n  const [confirmOpen, setConfirmOpen] = useState(false);\n  const homeRef = useRef();\n  const apiObj = useMemo(()=>getApi(), []);\n  const licExpired = props.activation.is_trial && props.activation.usage_days_left <= 0;\n\n  useEffect(async ()=>{\n    try {\n      let res = await apiObj.get(BASE_URL.AGENTS);\n      setAgentOpts((res.data || []).map((e)=>({label: e.name, value: e.id})));\n\n      res = await apiObj.get(BASE_URL.PARTIES);\n      setPartyOpts((res.data || []).map((e)=>({label: e.name, value: e.id})));\n\n      res = await apiObj.get(BASE_URL.SIZINGS);\n      setSizingOpts((res.data || []).map((e)=>({label: e.name, value: e.id})));\n\n      /* load masters */\n      res = await apiObj.get(BASE_URL.QUALITIES);\n      setQualities(res.data);\n    } catch (error) {\n      props.setNotification(NOTIFICATION_TYPE.ERROR, getAxiosErr(error));\n    }\n  }, []);\n\n  const columns = useMemo(()=>[\n    {\n      Header: '',\n      id: 'btn-expand',\n      width: '30px',\n      Cell: ({value, row})=>{\n        return <IconButton onClick={()=>{\n          row.toggleRowExpanded(!row.isExpanded);\n        }} >{row.isExpanded ? <ExpandLessIcon /> : <ExpandMoreIcon />}</IconButton>;\n      }\n    },\n    {\n      Header: '',\n      id: 'btn-del',\n      width: '30px',\n      Cell: ({value, row})=>{\n        return <IconButton onClick={()=>{\n          setSelId(row.original.id);\n          setConfirmOpen(true);\n        }} ><DeleteForeverIcon /></IconButton>;\n      }\n    },\n    {\n      Header: 'Name',\n      accessor: 'name',\n      width: '25%',\n      Cell: ({value, row})=>{\n        return <Link onClick={()=>{\n          if(licExpired) return;\n          setSelId(row.original.id);\n          setOpenCalc(true);\n        }} href=\"#\">{value}</Link>\n      }\n    },\n    {\n      Header: 'EPI/Reed(Inch)',\n      accessor: 'dispReed',\n      width: '10%',\n    },\n    {\n      Header: 'PPI(Pick)',\n      accessor: 'dispPick',\n      width: '10%',\n    },\n    {\n      Header: 'Production Cost',\n      accessor: 'dispProdCost',\n      width: '15%',\n    },\n    {\n      Header: 'Agent',\n      accessor: 'agentId',\n      width: '20%',\n      Cell: ({value})=>{\n        return <span>{(_.find(agentOpts, (e)=>e.value==value)||{}).label}</span>;\n      },\n    },\n    {\n      Header: 'Party',\n      accessor: 'partyId',\n      width: '20%',\n      Cell: ({value})=>{\n        return <span>{(_.find(partyOpts, (e)=>e.value==value)||{}).label}</span>;\n      },\n    },{\n      Header: 'Notes',\n      accessor: 'notes',\n      width: '35%',\n      Cell: ({value})=><span>{value}</span>,\n    },\n  ], [licExpired, agentOpts, partyOpts]);\n\n  const [filter, setFilter] = useState({});\n\n  const onFilterChange = useCallback((e, name) => {\n    let value = e;\n    if(e && e.target) {\n      name = e.target.name;\n      value = e.target.value;\n    }\n\n    setFilter((prevData)=>({\n      ...prevData,\n      [name]: value,\n    }));\n  });\n\n  const onClose = (otherData)=>{\n    if(otherData?.id) {\n      setQualities((prevQualities)=>{\n        let qIndx = _.findIndex(qualities, (q)=>q.id == otherData.id);\n        if(qIndx >= 0) {\n          return [\n            ...prevQualities.slice(0, qIndx),\n            otherData,\n            ...prevQualities.slice(qIndx+1),\n          ];\n        } else {\n          return [\n            ...prevQualities,\n            otherData,\n          ];\n        }\n      });\n    }\n    setOpenCalc(false);\n  }\n\n  const deleteQuality = (id)=>{\n    apiObj.delete(\n      BASE_URL.QUALITIES + '/' + id\n    ).then(()=>{\n      props.setNotification(NOTIFICATION_TYPE.SUCCESS, 'Quality delete successfully');\n      setQualities((prevQualities)=>{\n        let qIndx = _.findIndex(qualities, (q)=>q.id == id);\n        if(qIndx > 0) {\n          return [\n            ...prevQualities.slice(0, qIndx),\n            ...prevQualities.slice(qIndx+1),\n          ];\n        }\n        return prevQualities;\n      });\n    }).catch((err)=>{\n      props.setNotification(NOTIFICATION_TYPE.ERROR, getAxiosErr(err));\n    });\n  };\n\n  let filterObj = [];\n  (filter.text && filter.text.trim() != '') && filterObj.push({\n    id: 'name', value: filter.text\n  });\n  filter.agentId && filterObj.push({\n    id: 'agentId', value: filter.agentId\n  });\n  filter.partyId && filterObj.push({\n    id: 'partyId', value: filter.partyId\n  });\n\n  return (\n    <Box>\n      <Box className={classes.root} ref={homeRef}>\n        <Box className={classes.searchbar}>\n          <FormRow>\n            <FormRowItem>\n              <FormInputText autoFocus label=\"Search name\" name='text' value={filter.text} onChange={onFilterChange} />\n            </FormRowItem>\n            <FormRowItem>\n              <FormInputSelectSearch label=\"Agent\" name='agentId' options={agentOpts} isClearable={true}\n                value={_.find(agentOpts, (e)=>e.value == filter.agentId)}\n                onChange={(value)=>{\n                  onFilterChange(value?.value, 'agentId');\n                }}\n              />\n            </FormRowItem>\n            <FormRowItem>\n              <FormInputSelectSearch label=\"Party\" name='partyId' options={partyOpts} isClearable={true}\n                value={_.find(partyOpts, (e)=>e.value == filter.partyId)}\n                onChange={(value)=>{\n                  onFilterChange(value?.value, 'partyId');\n                }}\n              />\n            </FormRowItem>\n            <FormRowItem>\n            </FormRowItem>\n          </FormRow>\n          <Box style={{marginTop: '0.5rem'}}>\n            <Button variant=\"contained\" color=\"primary\" onClick={()=>{\n                setSelId(null);\n                setOpenCalc(true);\n              }}\n              disableElevation\n              disabled={licExpired}\n              startIcon={<AddRounded />}\n            >Add new quality</Button>\n          </Box>\n        </Box>\n        <Box className={classes.gridarea}>\n          <DataGrid columns={columns} data={qualities} fixedLayout={true} noRowsMessage=\"Click on add new quality\"\n            filterObj={filterObj}\n            onExpand={(row)=><ExpandedRows apiObj={apiObj} row={row} columns={columns} agentOpts={agentOpts} partyOpts={partyOpts}/>} />\n        </Box>\n      </Box>\n      <Calculator open={openCalc} onClose={onClose} selId={selId} agentOpts={agentOpts} partyOpts={partyOpts} sizingOpts={sizingOpts}/>\n      <ConfirmDialog\n        open={confirmOpen}\n        onClose={()=>setConfirmOpen(false)}\n        title={\"Delete ?\"}\n        content={\"Are you sure you want to delete this quality ?\"}\n        onConfirm={()=>{\n          deleteQuality(selId);\n          setConfirmOpen(false);\n        }}\n      />\n    </Box>\n  )\n}\n\nexport default connect(()=>({}), (dispatch)=>({\n  setNotification: (...args)=>{dispatch(setNotification.apply(this, args))},\n  clearNotification: ()=>{dispatch(setNotification(null, null))},\n}))(FabricCosting);","import { Box, Button, IconButton, Link, makeStyles, OutlinedInput } from '@material-ui/core';\nimport { AddRounded } from '@material-ui/icons';\nimport _ from 'lodash';\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { BASE_URL } from '../api';\nimport DataGrid from '../components/DataGrid';\nimport { FormInputText } from '../components/FormElements';\nimport CommonDialog from '../helpers/CommonDialog';\nimport { NOTIFICATION_TYPE, setNotification } from '../store/reducers/notification';\nimport { getSettings } from '../store/reducers/settings';\nimport { getAxiosErr } from '../utils';\n\nconst useStyles = makeStyles((theme)=>({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    height: '100%'\n  },\n  searchbar: {\n    display: 'flex',\n    padding: theme.spacing(1, 0),\n  },\n  gridarea: {\n    flexGrow: 1,\n  }\n}));\n\nfunction AgentForm({apiObj, selData, onClose, ...props}) {\n  const defaults = {\n    name: '',\n  }\n  const [formData, setFormData] = useState({});\n  const [isSaving, setIsSaving] = useState(false);\n  const editMode = Boolean(selData?.id);\n\n  useEffect(()=>{\n    if(props.open) {\n      setIsSaving(false);\n      setFormData(editMode ? selData : defaults);\n    }\n  }, [props.open]);\n\n  const onTextChange = useCallback((e, name) => {\n    let value = e;\n    if(e && e.target) {\n      name = e.target.name;\n      value = e.target.value;\n    }\n\n    setFormData((prevData)=>({\n      ...prevData,\n      [name]: value,\n    }));\n  }, []);\n\n  const onSaveClick = async ()=>{\n    setIsSaving(true);\n    try {\n      if(formData.id) {\n        await apiObj.put(BASE_URL.AGENTS + '/' + formData.id, formData);\n        onClose(formData);\n      } else {\n        let res = await apiObj.post(BASE_URL.AGENTS, formData);\n        onClose({id: res.data, ...formData});\n      }\n      props.setNotification(NOTIFICATION_TYPE.SUCCESS, 'Agent details saved succesfully');\n    } catch (error) {\n      props.setNotification(NOTIFICATION_TYPE.ERROR, getAxiosErr(error));\n    }\n    setIsSaving(false);\n  };\n\n  return (\n    <CommonDialog onSave={onSaveClick} isSaving={isSaving} onClose={()=>onClose()} {...props}>\n      <FormInputText name=\"name\" type=\"text\" label=\"Agent Name\" value={formData.name}\n        onChange={onTextChange} autoFocus/>\n    </CommonDialog>\n  );\n}\n\nfunction Agents({apiObj, licExpired, ...props}) {\n  const classes = useStyles();\n  const [agents, setAgents] = useState([]);\n  const [search, setSearch] = useState('');\n  const [openForm, setOpenForm] = useState(false);\n  const [selData, setSelData] = useState(null);\n  useEffect(async ()=>{\n    try {\n      let res = await apiObj.get(BASE_URL.AGENTS);\n      setAgents(res.data);\n    } catch (error) {\n      props.setNotification(NOTIFICATION_TYPE.ERROR, getAxiosErr(error));\n    }\n  }, []);\n\n  const onClose = (formData)=>{\n    setOpenForm(false);\n    if(formData?.id) {\n      setAgents((prevAgents)=>{\n        let indx = _.findIndex(prevAgents, (e)=>e.id == formData.id);\n        if(indx >= 0) {\n          return [\n            ...prevAgents.slice(0, indx),\n            formData,\n            ...prevAgents.slice(indx+1),\n          ];\n        } else {\n          return [\n            ...prevAgents,\n            formData,\n          ];\n        }\n      });\n    }\n  }\n  const columns = useMemo(()=>[\n    {\n      Header: 'Agent Name',\n      accessor: 'name',\n      width: '100%',\n      Cell: ({value, row})=>{\n        return <Link onClick={()=>{\n          if(licExpired) return;\n          setSelData(row.original);\n          setOpenForm(true);\n        }} href=\"#\">{value}</Link>\n      }\n    }\n  ], [licExpired]);\n  return (\n    <Box className={classes.root}>\n      <Box className={classes.searchbar}>\n        <OutlinedInput value={search} onChange={(e)=>{setSearch(e.target.value)}} style={{minWidth: '20%'}} placeholder=\"Search agent\"/>\n        <Button variant=\"contained\" color=\"primary\" onClick={()=>{\n            setSelData(null);\n            setOpenForm(true);\n          }} style={{marginLeft: '0.5rem'}}\n          disabled={licExpired}\n          startIcon={<AddRounded />}\n        >Add new agent</Button>\n      </Box>\n      <Box className={classes.gridarea}>\n        <DataGrid columns={columns} data={agents} filterText={search} fixedLayout={true}\n          noRowsMessage=\"Click on add new agent\"/>\n      </Box>\n      <AgentForm apiObj={apiObj} title={selData?.id ? 'Update Agent' : 'Add Agent'} open={openForm} onClose={onClose}\n        selData={selData} setNotification={props.setNotification}/>\n    </Box>\n  );\n}\n\nexport default connect((state)=>({settings: getSettings(state)}), (dispatch)=>({\n  setNotification: (...args)=>{dispatch(setNotification.apply(this, args))},\n}))(Agents);","import { Box, Button, IconButton, Link, makeStyles, OutlinedInput } from '@material-ui/core';\nimport { AddRounded } from '@material-ui/icons';\nimport _ from 'lodash';\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { BASE_URL } from '../api';\nimport DataGrid from '../components/DataGrid';\nimport { FormInputText } from '../components/FormElements';\nimport CommonDialog from '../helpers/CommonDialog';\nimport { NOTIFICATION_TYPE, setNotification } from '../store/reducers/notification';\nimport { getSettings } from '../store/reducers/settings';\nimport { getAxiosErr } from '../utils';\n\nconst useStyles = makeStyles((theme)=>({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    height: '100%'\n  },\n  searchbar: {\n    display: 'flex',\n    padding: theme.spacing(1, 0),\n  },\n  gridarea: {\n    flexGrow: 1,\n  }\n}));\n\nfunction PartyForm({apiObj, selData, onClose, ...props}) {\n  const defaults = {\n    name: '',\n  }\n  const [formData, setFormData] = useState({});\n  const [isSaving, setIsSaving] = useState(false);\n  const editMode = Boolean(selData?.id);\n\n  useEffect(()=>{\n    if(props.open) {\n      setIsSaving(false);\n      setFormData(editMode ? selData : defaults);\n    }\n  }, [props.open]);\n\n  const onTextChange = useCallback((e, name) => {\n    let value = e;\n    if(e && e.target) {\n      name = e.target.name;\n      value = e.target.value;\n    }\n\n    setFormData((prevData)=>({\n      ...prevData,\n      [name]: value,\n    }));\n  }, []);\n\n  const onSaveClick = async ()=>{\n    setIsSaving(true);\n    try {\n      if(formData.id) {\n        await apiObj.put(BASE_URL.PARTIES + '/' + formData.id, formData);\n        onClose(formData);\n      } else {\n        let res = await apiObj.post(BASE_URL.PARTIES, formData);\n        onClose({id: res.data, ...formData});\n      }\n      props.setNotification(NOTIFICATION_TYPE.SUCCESS, 'Party details saved succesfully');\n    } catch (error) {\n      props.setNotification(NOTIFICATION_TYPE.ERROR, getAxiosErr(error));\n    }\n    setIsSaving(false);\n  };\n\n  return (\n    <CommonDialog onSave={onSaveClick} isSaving={isSaving} onClose={()=>onClose()} {...props}>\n      <FormInputText name=\"name\" type=\"text\" label=\"Party Name\" value={formData.name}\n        onChange={onTextChange} autoFocus/>\n    </CommonDialog>\n  );\n}\n\nfunction Parties({apiObj, licExpired, ...props}) {\n  const classes = useStyles();\n  const [parties, setParties] = useState([]);\n  const [search, setSearch] = useState('');\n  const [openForm, setOpenForm] = useState(false);\n  const [selData, setSelData] = useState(null);\n  useEffect(async ()=>{\n    try {\n      let res = await apiObj.get(BASE_URL.PARTIES);\n      setParties(res.data);\n    } catch (error) {\n      props.setNotification(NOTIFICATION_TYPE.ERROR, getAxiosErr(error));\n    }\n  }, []);\n\n  const onClose = (formData)=>{\n    setOpenForm(false);\n    if(formData?.id) {\n      setParties((prevParties)=>{\n        let indx = _.findIndex(prevParties, (e)=>e.id == formData.id);\n        if(indx >= 0) {\n          return [\n            ...prevParties.slice(0, indx),\n            formData,\n            ...prevParties.slice(indx+1),\n          ];\n        } else {\n          return [\n            ...prevParties,\n            formData,\n          ];\n        }\n      });\n    }\n  }\n  const columns = useMemo(()=>[\n    {\n      Header: 'Party Name',\n      accessor: 'name',\n      width: '100%',\n      Cell: ({value, row})=>{\n        return <Link onClick={()=>{\n          if(licExpired) return;\n          setSelData(row.original);\n          setOpenForm(true);\n        }} href=\"#\">{value}</Link>\n      }\n    }\n  ], [licExpired]);\n  return (\n    <Box className={classes.root}>\n      <Box className={classes.searchbar}>\n        <OutlinedInput value={search} onChange={(e)=>{setSearch(e.target.value)}} style={{minWidth: '20%'}} placeholder=\"Search party\"/>\n        <Button variant=\"contained\" color=\"primary\" onClick={()=>{\n            setSelData(null);\n            setOpenForm(true);\n          }} style={{marginLeft: '0.5rem'}}\n          disabled={licExpired}\n          startIcon={<AddRounded />}\n        >Add new party</Button>\n      </Box>\n      <Box className={classes.gridarea}>\n        <DataGrid columns={columns} data={parties} filterText={search} fixedLayout={true}\n          noRowsMessage=\"Click on add new party\"/>\n      </Box>\n      <PartyForm apiObj={apiObj} title={selData?.id ? 'Update Party' : 'Add Party'} open={openForm} onClose={onClose}\n        selData={selData} setNotification={props.setNotification}/>\n    </Box>\n  );\n}\n\nexport default connect((state)=>({settings: getSettings(state)}), (dispatch)=>({\n  setNotification: (...args)=>{dispatch(setNotification.apply(this, args))},\n}))(Parties);","import { Box, Button, IconButton, Link, makeStyles, OutlinedInput } from '@material-ui/core';\nimport { AddRounded } from '@material-ui/icons';\nimport _ from 'lodash';\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { BASE_URL } from '../api';\nimport DataGrid from '../components/DataGrid';\nimport { FormInputText } from '../components/FormElements';\nimport CommonDialog from '../helpers/CommonDialog';\nimport { NOTIFICATION_TYPE, setNotification } from '../store/reducers/notification';\nimport { getSettings } from '../store/reducers/settings';\nimport { getAxiosErr } from '../utils';\n\nconst useStyles = makeStyles((theme)=>({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    height: '100%'\n  },\n  searchbar: {\n    display: 'flex',\n    padding: theme.spacing(1, 0),\n  },\n  gridarea: {\n    flexGrow: 1,\n  }\n}));\n\nfunction SizingForm({apiObj, selData, onClose, ...props}) {\n  const defaults = {\n    name: '',\n  }\n  const [formData, setFormData] = useState({});\n  const [isSaving, setIsSaving] = useState(false);\n  const editMode = Boolean(selData?.id);\n\n  useEffect(()=>{\n    if(props.open) {\n      setIsSaving(false);\n      setFormData(editMode ? selData : defaults);\n    }\n  }, [props.open]);\n\n  const onTextChange = useCallback((e, name) => {\n    let value = e;\n    if(e && e.target) {\n      name = e.target.name;\n      value = e.target.value;\n    }\n\n    setFormData((prevData)=>({\n      ...prevData,\n      [name]: value,\n    }));\n  }, []);\n\n  const onSaveClick = async ()=>{\n    setIsSaving(true);\n    try {\n      if(formData.id) {\n        await apiObj.put(BASE_URL.SIZINGS + '/' + formData.id, formData);\n        onClose(formData);\n      } else {\n        let res = await apiObj.post(BASE_URL.SIZINGS, formData);\n        onClose({id: res.data, ...formData});\n      }\n      props.setNotification(NOTIFICATION_TYPE.SUCCESS, 'Sizing details saved succesfully');\n    } catch (error) {\n      props.setNotification(NOTIFICATION_TYPE.ERROR, getAxiosErr(error));\n    }\n    setIsSaving(false);\n  };\n\n  return (\n    <CommonDialog onSave={onSaveClick} isSaving={isSaving} onClose={()=>onClose()} {...props}>\n      <FormInputText name=\"name\" type=\"text\" label=\"Sizing Name\" value={formData.name}\n        onChange={onTextChange} autoFocus/>\n    </CommonDialog>\n  );\n}\n\nfunction Sizings({apiObj, licExpired, ...props}) {\n  const classes = useStyles();\n  const [sizings, setSizings] = useState([]);\n  const [search, setSearch] = useState('');\n  const [openForm, setOpenForm] = useState(false);\n  const [selData, setSelData] = useState(null);\n  useEffect(async ()=>{\n    try {\n      let res = await apiObj.get(BASE_URL.SIZINGS);\n      setSizings(res.data);\n    } catch (error) {\n      props.setNotification(NOTIFICATION_TYPE.ERROR, getAxiosErr(error));\n    }\n  }, []);\n\n  const onClose = (formData)=>{\n    setOpenForm(false);\n    if(formData?.id) {\n      setSizings((prevSizings)=>{\n        let indx = _.findIndex(prevSizings, (e)=>e.id == formData.id);\n        if(indx >= 0) {\n          return [\n            ...prevSizings.slice(0, indx),\n            formData,\n            ...prevSizings.slice(indx+1),\n          ];\n        } else {\n          return [\n            ...prevSizings,\n            formData,\n          ];\n        }\n      });\n    }\n  }\n  const columns = useMemo(()=>[\n    {\n      Header: 'Sizing Name',\n      accessor: 'name',\n      width: '100%',\n      Cell: ({value, row})=>{\n        return <Link onClick={()=>{\n          if(licExpired) return;\n          setSelData(row.original);\n          setOpenForm(true);\n        }} href=\"#\">{value}</Link>\n      }\n    }\n  ], [licExpired]);\n  return (\n    <Box className={classes.root}>\n      <Box className={classes.searchbar}>\n        <OutlinedInput value={search} onChange={(e)=>{setSearch(e.target.value)}} style={{minWidth: '20%'}} placeholder=\"Search sizing\"/>\n        <Button variant=\"contained\" color=\"primary\" onClick={()=>{\n            setSelData(null);\n            setOpenForm(true);\n          }} style={{marginLeft: '0.5rem'}}\n          disabled={licExpired}\n          startIcon={<AddRounded />}\n        >Add new sizing</Button>\n      </Box>\n      <Box className={classes.gridarea}>\n        <DataGrid columns={columns} data={sizings} filterText={search} fixedLayout={true}\n          noRowsMessage=\"Click on add new sizing\"/>\n      </Box>\n      <SizingForm apiObj={apiObj} title={selData?.id ? 'Update Sizing' : 'Add Sizing'} open={openForm} onClose={onClose}\n        selData={selData} setNotification={props.setNotification}/>\n    </Box>\n  );\n}\n\nexport default connect((state)=>({settings: getSettings(state)}), (dispatch)=>({\n  setNotification: (...args)=>{dispatch(setNotification.apply(this, args))},\n}))(Sizings);","import { Box, Button, Divider, Grid, makeStyles } from '@material-ui/core';\nimport _ from 'lodash';\nimport React, { useCallback, useMemo, useReducer, useState } from 'react';\nimport DataGrid from '../components/DataGrid';\nimport { FormInputText, FormRow, FormRowItem } from '../components/FormElements';\n\nfunction chartReducer(state, action) {\n  let newState = _.clone(state);\n  switch (action.type) {\n    case 'add_count':\n      newState.push({\n        count: action.value,\n        rates: {}\n      });\n      break;\n    default:\n      break;\n  }\n  return newState;\n}\n\n// {\n//   count: 30,\n//   rates: {\n//     [JSON.stringify([8501, 9500])]: 25,\n//     [JSON.stringify([6501, 8500])]: 22,\n//   }\n// },{\n//   count: 40,\n//   rates: {\n//     [JSON.stringify([8501, 9500])]: 24,\n//   }\n// },\n\nconst useStyles = makeStyles(()=>({\n  inputGridTd: {\n    padding: '0px',\n  },\n}));\n\nexport function CountChart() {\n  const classes = useStyles();\n  const [formData, setFormData] = useState({});\n  const [chartRanges, setChartRanges] = useState([\n    [6501, 8500],\n    [8501, 9500]\n  ]);\n  const [chartData, chartDataDispatch] = useReducer(chartReducer, [\n    {\n      count: 30,\n      rates: {\n        [JSON.stringify([8501, 9500])]: 25,\n        [JSON.stringify([6501, 8500])]: 22,\n      }\n    },{\n      count: 40,\n      rates: {\n        [JSON.stringify([8501, 9500])]: 24,\n      }\n    },\n  ]);\n\n  const chartCols = useMemo(()=>[\n    {\n      Header: 'Count',\n      accessor: 'count',\n      Cell: ({value})=>{\n        return (\n          <FormInputText fullWidth type=\"number\" value={value} readOnly grid />\n        )\n      },\n    },\n    ...chartRanges.map((range, i)=>({\n      Header: ()=>{\n        return (\n          <>\n          <Box>{range[0]}</Box>\n          <Divider />\n          <Box>{range[1]}</Box>\n          </>\n        );\n      },\n      id: JSON.stringify(range) + i,\n      accessor: (row)=>{\n        return row.rates[JSON.stringify(range)] || 0;\n      },\n      Cell: ({value, row, column})=>{\n        return (\n          <FormInputText fullWidth type=\"number\" value={value}\n            onChange={(e)=>{\n              let value = e.target.value;\n              chartDataDispatch({\n                type: 'set_value',\n                // path: basePath.concat([row.index, column.id]),\n                value: value,\n              });\n            }}\n            grid />\n        )\n      },\n    })),\n  ], [chartRanges?.length]);\n\n  const addEndsClick = ()=>{\n    setChartRanges((prevRanges)=>{\n      return [\n        ...prevRanges,\n        [formData.rangeFrom, formData.rangeTo],\n      ]\n    });\n  }\n\n  const addCountClick = ()=>{\n    chartDataDispatch({\n      type: 'add_count',\n      // path: basePath.concat([row.index, column.id]),\n      value: formData.count,\n    });\n    setFormData((prev)=>({...prev, count: null}));\n  }\n\n  const onTextChange = useCallback((e, name) => {\n    let value = e;\n    if(e && e.target) {\n      name = e.target.name;\n      value = e.target.value;\n    }\n\n    setFormData((prevData)=>({\n      ...prevData,\n      [name]: value,\n    }));\n  }, []);\n\n  return (\n    <>\n      <Box p=\"1\"></Box>\n      <Box width=\"100%\" overflow=\"auto\">\n        <DataGrid columns={chartCols} data={chartData} filterObj={[]} tdClassName={classes.inputGridTd} fixedLayout/>\n      </Box>\n      <Grid container>\n        <Grid item lg={4} md={6} sm={12} xs={12}>\n          <FormRow>\n            <FormRowItem>\n              <FormInputText label=\"Count\" name=\"count\" type=\"number\" value={formData.count} onChange={onTextChange} />\n            </FormRowItem>\n            <FormRowItem>\n              <Button variant=\"contained\" color=\"primary\" onClick={addCountClick}>Add Count</Button>\n            </FormRowItem>\n            <FormRowItem></FormRowItem>\n          </FormRow>\n          <FormRow>\n            <FormRowItem>\n              <FormInputText label=\"From\" name=\"rangeFrom\" type=\"number\" value={formData.rangeFrom} onChange={onTextChange} />\n            </FormRowItem>\n            <FormRowItem>\n              <FormInputText label=\"To\" name=\"rangeTo\" type=\"number\" value={formData.rangeTo} onChange={onTextChange} />\n            </FormRowItem>\n            <FormRowItem>\n              <Button variant=\"contained\" color=\"primary\" type=\"number\" onClick={addEndsClick}>Add Total ends</Button>\n            </FormRowItem>\n          </FormRow>\n        </Grid>\n      </Grid>\n\n    </>\n  )\n}","import { Box, makeStyles } from '@material-ui/core';\nimport React, { useMemo } from 'react';\nimport { connect } from 'react-redux';\nimport { setNotification } from '../store/reducers/notification';\nimport { getApi } from '../api';\nimport _ from 'lodash';\nimport { getSettings, setSettings } from '../store/reducers/settings';\nimport ToggleButtonGroup from '@material-ui/lab/ToggleButtonGroup';\nimport ToggleButton from '@material-ui/lab/ToggleButton';\nimport TabPanel from '../components/TabPanel';\nimport Agents from './Agents';\nimport Parties from './Parties';\nimport Sizings from './Sizings';\nimport { CountChart } from './CountChart';\n\nconst useStyles = makeStyles((theme)=>({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    height: '100%'\n  },\n  searchbar: {\n    padding: theme.spacing(1),\n    display: 'flex',\n  },\n  gridarea: {\n    flexGrow: 1,\n  }\n}));\n\nfunction Master(props) {\n  const classes = useStyles();\n  const [tabvalue, setTabvalue] = React.useState(0);\n  const apiObj = useMemo(()=>getApi(), []);\n  const licExpired = props.activation.is_trial && props.activation.usage_days_left <= 0;\n\n  const tabChange = (event, newValue) => {\n    newValue!=null && setTabvalue(newValue);\n  };\n\n  return (\n    <Box p={1} display=\"flex\" flexDirection=\"column\" height=\"100%\">\n      <ToggleButtonGroup size=\"small\"  exclusive value={tabvalue} exclusive onChange={tabChange}>\n        <ToggleButton value={0}>\n          Agents\n        </ToggleButton>\n        <ToggleButton value={1}>\n          Parties\n        </ToggleButton>\n        <ToggleButton value={2}>\n          Sizings\n        </ToggleButton>\n        {/* <ToggleButton value={2}>\n          Count chart\n        </ToggleButton> */}\n      </ToggleButtonGroup>\n      <TabPanel value={tabvalue} index={0}>\n        <Agents apiObj={apiObj} licExpired={licExpired}/>\n      </TabPanel>\n      <TabPanel value={tabvalue} index={1}>\n        <Parties apiObj={apiObj} licExpired={licExpired}/>\n      </TabPanel>\n      <TabPanel value={tabvalue} index={2}>\n        <Sizings apiObj={apiObj} licExpired={licExpired}/>\n      </TabPanel>\n      <TabPanel value={tabvalue} index={999}>\n        <CountChart apiObj={apiObj} licExpired={licExpired}/>\n      </TabPanel>\n    </Box>\n  )\n}\n\nexport default connect((state)=>({settings: getSettings(state)}), (dispatch)=>({\n  setNotification: (...args)=>{dispatch(setNotification.apply(this, args))},\n}))(Master);","import { AppBar, Box, makeStyles, Snackbar, Toolbar, Typography } from '@material-ui/core';\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { BrowserRouter as Router, Redirect, Route, Switch, useRouteMatch } from 'react-router-dom';\nimport NavButton from './components/NavButton';\nimport { connect } from 'react-redux';\nimport Alert from '@material-ui/lab/Alert';\nimport { NOTIFICATION_TYPE, setNotification } from './store/reducers/notification';\nimport License from './License';\nimport {epochDiffDays, getAxiosErr, getEpoch} from './utils';\nimport { BASE_URL, getApi } from './api';\nimport FabricCosting from './FabricCosting';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Settings from './Settings';\nimport { setSettings } from './store/reducers/settings';\nimport Master from './Master';\n\nconst useStyles = makeStyles((theme)=>({\n  dashboardRoot: {\n    display: 'flex',\n    height: '100%',\n    flexDirection: 'column',\n  },\n  subMenu: {\n    top: '42px',\n  },\n  bottomMenuContent: {\n    flexGrow: 1,\n    display: 'flex',\n    flexDirection: 'column',\n    position: 'relative',\n  },\n  rightContent: {\n    flexGrow: 1,\n    display: 'flex',\n    flexDirection: 'column',\n  },\n}));\n\nconst navItems = [\n  {label: 'Fabric costing', path: '/fabriccosting', component: FabricCosting},\n  {label: 'Master', path: '/master', component: Master},\n  {label: 'Settings', path: '/settings', component: Settings},\n  {label: 'License', path: '/license', component: License},\n];\n\nfunction NavBar({navItems}) {\n  return <Box>\n    {navItems.map((item)=>{\n      return <NavButton key={item.path} path={item.path}>{item.label}</NavButton>;\n    })}\n  </Box>\n}\n\nfunction SubMenu({item}) {\n  const classes = useStyles();\n  let match = useRouteMatch({\n    path: item.path,\n  });\n  if(match) {\n    return (\n      <>\n      <Box><Toolbar variant=\"dense\"/></Box>\n      <AppBar color=\"default\" elevation={1} component=\"div\" className={classes.subMenu}>\n        <Toolbar variant=\"dense\">\n          <NavBar navItems={item.submenu} />\n        </Toolbar>\n      </AppBar>\n      </>\n    );\n  } else {\n    return <></>\n  }\n}\n\nconst TRIAL_DAYS = 30;\n\nfunction Dashboard({location, ...props}) {\n  const classes = useStyles();\n  const api = useMemo(()=>getApi());\n  const [activation, setActivation] = useState({\n    is_trial: true,\n    usage_days_left: 0,\n    system_id: null,\n  });\n  const navSubItems = useMemo(()=>{\n    let tmp = []\n    navItems.filter((item)=>Boolean(item.submenu)).forEach((item)=>{\n      tmp.push(...item.submenu);\n    });\n    return tmp;\n  });\n\n  const onActivate = (activation_date, activation_key)=>{\n    setActivation((prev)=>{\n      return {\n        ...prev,\n        is_trial: !Boolean(activation_date),\n      }\n    });\n  }\n\n  useEffect(()=>{\n    api.get(BASE_URL.SETTINGS)\n      .then((res)=>{\n        let data = res.data;\n        props.setSettings(JSON.parse(data));\n      })\n      .catch((err)=>{\n        console.log(getAxiosErr(err));\n      });\n\n    api.post(BASE_URL.MISC + '/init')\n      .then((res)=>{\n          let data = res.data;\n          console.log(data);\n          setActivation((prev)=>{\n            let usage_days_left = (TRIAL_DAYS - epochDiffDays(getEpoch(), data.install_date));\n            usage_days_left = usage_days_left < 0 ? 0 : usage_days_left;\n            return {\n              ...prev,\n              system_id: data.system_id,\n              is_trial: !Boolean(data.activation_date),\n              usage_days_left: usage_days_left,\n            }\n          });\n      })\n      .catch((err)=>{\n          console.log(getAxiosErr(err));\n      });\n\n  }, []);\n\n\n  return(\n    <Box className={classes.dashboardRoot}>\n      <Box><Toolbar variant=\"dense\"/></Box>\n      <AppBar color=\"primary\" elevation={1} component=\"div\">\n        <Toolbar variant=\"dense\" disableGutters>\n          <Box display=\"flex\" style={{padding: '0rem 0.5rem'}} alignItems=\"center\">\n            {/* <Logo height=\"3em\" width=\"3em\"/> */}\n            <Typography variant=\"h6\">\n              Costing\n            </Typography>\n          </Box>\n          <NavBar navItems={navItems} />\n        </Toolbar>\n      </AppBar>\n      {navItems.filter((item)=>Boolean(item.submenu)).map((item)=>{\n        return <SubMenu item={item}/>\n      })}\n        <Box className={classes.bottomMenuContent}>\n          <Switch>\n            {[...navItems, ...navSubItems].map((item)=>{\n              return (\n                <Route key={item.path} exact path={item.path} render={(props)=><item.component {...props} onActivate={onActivate} activation={activation}/>} >\n                  {item.redirect && <Redirect to={item.redirect} />}\n                </Route>\n              );\n            })}\n            <Route>\n              <Redirect to='/FabricCosting' />\n            </Route>\n          </Switch>\n        </Box>\n      <Snackbar\n        open={Boolean(props.notify.message)}\n        autoHideDuration={2500}\n        anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n        onClose={(event, reason)=>{\n          if (reason === 'clickaway') {\n            return;\n          }\n          props.clearNotification();\n        }}\n      >\n        <Alert severity={props.notify.type} onClose={props.clearNotification}>\n          {props.notify.message}\n        </Alert>\n      </Snackbar>\n    </Box>\n  )\n}\n\nexport default connect((state)=>({notify: state.notify}), (dispatch)=>({\n  setNotification: (...args)=>{dispatch(setNotification.apply(this, args))},\n  clearNotification: ()=>{dispatch(setNotification(null, null))},\n  setSettings: (payload)=>{dispatch(setSettings(payload))},\n}))(Dashboard);","import React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { CssBaseline, StylesProvider } from '@material-ui/core';\nimport Theme from './helpers/Theme';\nimport getStore from './store/index';\nimport { Provider as ReduxProvider } from \"react-redux\";\nimport { BrowserRouter as Router, Redirect, Route, Switch } from 'react-router-dom';\nimport Dashboard from './Dashboard';\nimport _ from 'lodash';\n\nconst reduxStore = getStore();\n\nexport default function App() {\n    return (\n        <Theme>\n            <StylesProvider injectFirst>\n                <CssBaseline />\n                  <ReduxProvider store={reduxStore}>\n                    <Router>\n                      <Dashboard />\n                    </Router>\n                  </ReduxProvider>\n            </StylesProvider>\n        </Theme>\n    )\n}","/**\n * Redux store setup.\n */\n\nimport { createStore, combineReducers, applyMiddleware } from \"redux\";\n\n// Logger with default options\nimport settingsReducer from './reducers/settings';\nimport notifyReducer from './reducers/notification';\n\nexport default function getStore() {\n  let initialState = {\n    settings: {},\n    notify: {\n      type: null,\n      message: null,\n    },\n  };\n  const store = createStore(combineReducers({\n    settings: settingsReducer,\n    notify: notifyReducer,\n  }), initialState);\n  return store;\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { RegisterFonts } from './components/PDFRenderComponents';\n\nRegisterFonts();\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}