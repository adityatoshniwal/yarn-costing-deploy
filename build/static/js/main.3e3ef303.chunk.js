(this.webpackJsonpcosting=this.webpackJsonpcosting||[]).push([[0],{41:function(e,t,a){var n=a(466),r=a(32).Buffer,c=a(19),i="yantra".padEnd(16,"a");function s(e){return e.substr(0,32).padEnd(32,"X")}e.exports={encrypt:function(e,t){t=s(t);var a=n.createCipheriv("aes-256-cbc",r.from(t),i),c=a.update(e);return(c=r.concat([c,a.final()])).toString("hex")},decrypt:function(e,t){t=s(t);var a=r.from(i),c=r.from(e,"hex"),o=n.createDecipheriv("aes-256-cbc",r.from(t),a),l=o.update(c);return(l=r.concat([l,o.final()])).toString()},getEpoch:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=e||new Date;return-1===t?a.setHours(0,0,0,0):-1===t&&a.setHours(23,59,59,999),parseInt(a.getTime()/1e3)},getDateFromEpoch:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=new Date(1e3*e);return t?a.toLocaleDateString()+" "+a.toLocaleTimeString():a},epochDiffDays:function(e,t){var a=e-t;return Math.round(a/84600)},getAxiosErr:function(e){return e.response?c.isString(e.response.data.message)?e.response.data.message:e.response.statusText+". Contact administrator.":e.request?"Not able to send the request. Contact administrator.":"Some error occurred. Contact administrator."}}},449:function(e,t,a){},470:function(e,t){},472:function(e,t){},481:function(e,t){},483:function(e,t){},510:function(e,t){},511:function(e,t){},516:function(e,t){},518:function(e,t){},525:function(e,t){},544:function(e,t){},603:function(e,t){},604:function(e,t){},684:function(e,t){},841:function(e,t,a){"use strict";a.r(t);var n,r=a(1),c=a.n(r),i=a(28),s=a.n(i),o=(a(449),a(898)),l=a(896),d=a(7),u=a(33),j=a(426),b=a(872),p=a(2),O=Object(j.a)(),h=Object(j.a)({palette:{primary:(n={main:"#016FB9"},Object(u.a)(n,"main","#2364AA"),Object(u.a)(n,"light","#d0ebff"),Object(u.a)(n,"dark","#064879"),n),secondary:{main:"#B0413E",light:"#ffd8d7"},info:{main:"#f18009"},background:{default:"#fff"}},typography:{fontSize:14,body1:{fontSize:14}}}),g=Object(j.a)({transitions:{create:function(){return"none"}},mixins:Object(d.a)(Object(d.a)({},h.mixins),{},{border:"1px solid "+h.palette.grey[300],borderDark:"1px solid "+h.palette.grey[400]}),props:{MuiTextField:{size:"small",variant:"outlined"},MuiButton:{size:"small",disableTouchRipple:!0},MuiToggleButton:{disableTouchRipple:!0},MuiIconButton:{size:"small",disableTouchRipple:!0},MuiPaper:{variant:"outlined"},MuiMenuItem:{disableTouchRipple:!0}},overrides:{MuiTabs:{root:{minHeight:0},flexContainer:{padding:O.spacing(.5)}},MuiTab:{root:Object(u.a)({minHeight:"40px"},O.breakpoints.up("sm"),{minWidth:"80px"}),textColorInherit:{textTransform:"none",opacity:1}},MuiButton:{root:{textTransform:"none"}},MuiIconButton:{sizeSmall:{padding:0}},MuiToggleButtonGroup:{root:{margin:h.spacing(.5,0)}},MuiToggleButton:{root:{textTransform:"none",color:h.palette.primary.main,borderColor:h.palette.primary.main,"&$selected":{backgroundColor:h.palette.primary.main,color:h.palette.primary.contrastText,"&:hover":{backgroundColor:h.palette.primary.dark}}},sizeSmall:{padding:"3px 16px"}},MuiFormLabel:{root:{color:h.palette.text.primary,fontSize:h.typography.fontSize},asterisk:{color:h.palette.error.main}},MuiToolbar:{dense:{minHeight:"34px"}},MuiOutlinedInput:{input:{padding:O.spacing(.75,1),"&[readonly]":{backgroundColor:O.palette.grey[200],opacity:.75},borderRadius:"inherit"},inputMarginDense:{padding:O.spacing(1,1.5)},adornedEnd:{paddingRight:O.spacing(.5)}},MuiAutocomplete:{inputRoot:{padding:"0px"}},MuiDialogTitle:{root:{padding:O.spacing(.5,1)}},MuiDialogContent:{dividers:{padding:O.spacing(1,.5)}},MuiFormControlLabel:{root:{marginLeft:0}},PrivateSwitchBase:{root:{padding:O.spacing(.5)}},PrivateTabIndicator:{root:{height:"3px"}}},otherVars:{reactSelect:{padding:"5px 8px"}}},h);function f(e){return Object(p.jsx)(b.a,{theme:g,children:e.children})}var x=a(152),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SETTINGS":return t.payload;default:return e}},v=function(e){return{type:"SET_SETTINGS",payload:e}},y=function(e){return e.settings},w="error",_="success",C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NOTIFICATION":return Object(d.a)(Object(d.a)({},e),{},{message:t.payload.message,type:t.payload.type});default:return e}},k=function(e,t){return{type:"SET_NOTIFICATION",payload:{type:e||"info",message:t||""}}};var S=a(38),N=a(146),T=a(35),P=a(12),W=a(30),M=a(876),R=a(897),B=a(894),I=a(895),A=a(156),z=a(904),F=a(40),H=a(93),E=a(873),D=Object(F.h)((function(e){var t=e.path,a=Object(W.a)(e,["path"]),n=(Object(H.a)(),a.children),r=Object(W.a)(a,["children"]),c=Object(F.g)({path:t});return Object(p.jsx)(E.a,Object(d.a)(Object(d.a)({color:c?"secondary":"primary",variant:"contained",component:N.b,to:t,disableElevation:!0},r),{},{children:n}))})),V=a(900),L=a(886),G=a(884),q=(a(404),a(405),a(877)),K=a(878),U=a(879),J=a(880),Y=a(905),Q=a(881),$=a(844),X=a(882),Z=(a(907),a(883)),ee=(a(901),a(899)),te=a(908),ae=(a(885),a(407)),ne=a.n(ae),re=a(408),ce=a.n(re),ie=a(5),se=a(409),oe=a(406),le=a(19),de=a.n(le),ue=Object(M.a)((function(e){return{formRoot:{padding:"1rem"},formRow:{},formInput:{marginTop:"0.25rem"},formInputHighlight:{fontWeight:"bold","& .MuiOutlinedInput-notchedOutline":{borderColor:e.palette.grey[600]}},inputProfit:{"& .MuiOutlinedInput-notchedOutline":{borderColor:e.palette.success.main,borderWidth:"2px"}},inputLoss:{"& .MuiOutlinedInput-notchedOutline":{borderColor:e.palette.error.main,borderWidth:"2px"}},inputCell:{"&:not(.Mui-focused)":{"& .MuiOutlinedInput-notchedOutline":{borderColor:"transparent"}}},inputWarn:{"&:not(.Mui-focused)":{"& .MuiOutlinedInput-notchedOutline":{borderColor:e.palette.warning.main,borderWidth:"2px"}}},autoComplete:{padding:e.spacing(.25)},img:{maxWidth:"100%",height:"auto"},info:{color:e.palette.info.main,marginLeft:"0.25rem",fontSize:"1rem"},formDate:{}}}));function je(e){var t=e.print,a=e.children,n=ue(),r={xs:12},i=c.a.Children.count(a),s={1:12,2:6,4:3,3:4,5:2,6:2};return r.md=r.sm=r.lg=s[i]||!0,t&&(r.xs=s),Object(p.jsx)(q.a,{container:!0,spacing:1,className:n.formRow,children:c.a.Children.map(a,(function(e){return c.a.cloneElement(e,r)}))})}function be(e){var t=e.children,a=Object(W.a)(e,["children"]);return Object(p.jsx)(q.a,Object(d.a)(Object(d.a)({item:!0},a),{},{style:{display:"flex",alignItems:"flex-end"},children:t}))}function pe(e){var t=e.children,a=ue(),n=Object(r.useState)(null),c=Object(P.a)(n,2),i=c[0],s=c[1],o=function(){s(null)};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(ne.a,{className:a.info,onMouseEnter:function(e){s(e.currentTarget)},onMouseLeave:o}),Object(p.jsx)(K.a,{style:{pointerEvents:"none"},open:Boolean(i),anchorEl:i,anchorOrigin:{vertical:"center",horizontal:"right"},transformOrigin:{vertical:"center",horizontal:"left"},onClose:o,disableRestoreFocus:!0,children:t})]})}function Oe(e){var t=e.children,a=e.info,n=Object(W.a)(e,["children","info"]);return Object(p.jsxs)(R.a,{width:"100%",children:[n.label&&Object(p.jsxs)(R.a,{display:"flex",style:{alignItems:"flex-end",marginBottom:"4px"},children:[Object(p.jsx)(U.a,{component:R.a,required:n.required,children:n.label}),a&&Object(p.jsx)(pe,{children:a})]}),t,n.bottomLabel&&Object(p.jsx)(R.a,{display:"flex",style:{alignItems:"flex-end"},children:Object(p.jsx)(U.a,{component:R.a,required:n.required,children:n.bottomLabel})})]})}function he(e){var t=e.InputIcon,a=e.errorMsg,n=e.required,r=e.onChange,c=e.label,i=e.bottomLabel,s=e.readOnly,o=e.info,l=e.hasCopy,u=e.type,j=e.inputProps,b=e.highlight,O=e.profit,h=e.warn,g=e.grid,f=e.value,x=(e.className,Object(W.a)(e,["InputIcon","errorMsg","required","onChange","label","bottomLabel","readOnly","info","hasCopy","type","inputProps","highlight","profit","warn","grid","value","className"])),m=ue(),v={},y=Object(d.a)({},j);"number"==u&&(v={type:"tel",onChange:function(e){var t=e.target.value;(e.target.validity.valid||""===t||"-"===t)&&r(e)}},y.pattern="^-?[0-9]\\d*\\.?\\d*$");var w=[!g&&m.formInput,b&&m.formInputHighlight,g&&m.inputCell,O&&f&&(f>0?m.inputProfit:m.inputLoss),h&&m.inputWarn];return Object(p.jsx)(Oe,{required:n,label:c,bottomLabel:i,info:o,children:Object(p.jsxs)(J.a,{error:Boolean(a),fullWidth:!0,children:[Object(p.jsx)(Y.a,Object(d.a)(Object(d.a)({variant:"outlined",startAdornment:t&&Object(p.jsx)(Q.a,{position:"start",children:"string"===typeof t?Object(p.jsx)("span",{children:t}):Object(p.jsx)(t,{fontSize:"small"})}),endAdornment:l?Object(p.jsx)($.a,{children:Object(p.jsx)(ce.a,{})}):null,fullWidth:!0,className:Object(ie.a)(w),error:Boolean(a),"data-label":c,"data-required":n,inputProps:Object(d.a)(Object(d.a)({"data-label":c,"data-required":n,readOnly:Boolean(s)},y),{},{autoComplete:"off"}),onChange:r,onBlur:r,value:de.a.isUndefined(f)||de.a.isNull(f)?"":f},x),v)),a&&Object(p.jsx)(X.a,{children:a})]})})}var ge=function(e,t){return Object(u.a)({input:function(e){return Object(d.a)(Object(d.a)({},e),{},{padding:0,margin:0})},control:function(a,n){return Object(d.a)(Object(d.a)({},a),{},{minHeight:"32px",backgroundColor:t?e.otherVars.inputDisabledBg:e.palette.background.default},n.isFocused?{borderColor:e.palette.primary.main,boxShadow:"inset 0 0 0 1px "+e.palette.primary.main,"&:hover":{borderColor:e.palette.primary.main}}:{})},dropdownIndicator:function(e){return Object(d.a)(Object(d.a)({},e),{},{padding:"0rem 0.25rem"})},indicatorsContainer:function(e){return Object(d.a)(Object(d.a)({},e),t?{display:"none"}:{})},clearIndicator:function(e){return Object(d.a)(Object(d.a)({},e),{},{padding:"0rem 0.25rem"})},valueContainer:function(t,a){return Object(d.a)(Object(d.a)({},t),{},{padding:a.isMulti?"2px":e.otherVars.reactSelect.padding})},menuPortal:function(e){return Object(d.a)(Object(d.a)({},e),{},{zIndex:9999})},option:function(e){return Object(d.a)(Object(d.a)({},e),{},{padding:"0.5rem"})},multiValue:function(e){return Object(d.a)(Object(d.a)({},e),{},{padding:"2px"})},multiValueLabel:function(e){return Object(d.a)(Object(d.a)({},e),{},{fontSize:"1em",padding:0})},multiValueRemove:function(a){return Object(d.a)(Object(d.a)({},a),{},{"&:hover":{backgroundColor:"unset",color:e.palette.error.main}},t?{display:"none"}:{})}},"menuPortal",(function(e){return Object(d.a)(Object(d.a)({},e),{},{zIndex:"1400"})}))};function fe(e){var t=e.errorMsg,a=e.required,n=e.label,r=(e.firstEmpty,e.loading,e.hasSearch,e.labelKey,e.valueKey,e.readonly),c=e.creatable,i=Object(W.a)(e,["errorMsg","required","label","firstEmpty","loading","hasSearch","labelKey","valueKey","readonly","creatable"]),s=Object(H.a)(),o=Object(d.a)(Object(d.a)({menuPortalTarget:document.body},i),{},{isSearchable:!r,isClearable:i.isClearable&&!r,openMenuOnClick:!r,error:Boolean(t),styles:ge(s,r)});return c?Object(p.jsx)(Oe,{required:a,label:n,children:Object(p.jsx)(J.a,{error:Boolean(t),fullWidth:!0,children:Object(p.jsx)(oe.a,Object(d.a)({},o))})}):Object(p.jsx)(Oe,{required:a,label:n,children:Object(p.jsx)(J.a,{error:Boolean(t),fullWidth:!0,children:Object(p.jsx)(se.a,Object(d.a)({},o))})})}function xe(e){var t=e.errorMsg,a=e.required,n=e.onChange,r=e.label,c=e.options,i=e.firstEmpty,s=void 0!==i&&i,o=e.loading,l=(e.multiple,e.hasSearch,e.labelKey),u=void 0===l?"label":l,j=e.valueKey,b=void 0===j?"value":j,O=e.grid,h=e.value,g=Object(W.a)(e,["errorMsg","required","onChange","label","options","firstEmpty","loading","multiple","hasSearch","labelKey","valueKey","grid","value"]),f=ue(),x=0==(c=c||[]).length,m=[!O&&f.formInput,O&&f.inputCell];return Object(p.jsx)(Oe,{required:a,label:r,children:Object(p.jsxs)(J.a,{error:Boolean(t),fullWidth:!0,children:[Object(p.jsxs)(ee.a,Object(d.a)(Object(d.a)({onChange:n,onBlur:n,variant:"outlined",className:Object(ie.a)(m),value:de.a.isUndefined(h)?"":h,fullWidth:!0},g),{},{children:[x&&Object(p.jsx)(te.a,{value:"",children:Object(p.jsx)("em",{children:o?"Loading...":"None"})}),!x&&s&&Object(p.jsx)(te.a,{value:"",children:Object(p.jsx)("em",{children:"None"})}),c.map((function(e){var t="",a="";return"string"===typeof e?t=a=e:(t=e[u],a=e[b]),Object(p.jsx)(te.a,{value:a,children:t},a)}))]})),!O&&Object(p.jsx)(X.a,{children:t})]})})}var me=a(41),ve=a(149),ye=a.n(ve),we="/api/settings",_e="/api/qualities",Ce="/api/qualities/data",ke="/api/qualities/hist",Se="/api/misc",Ne="/api/agents",Te="/api/parties",Pe="/api/sizings",We="/api/sizings/set";function Me(){return ye.a.create({})}var Re=void 0;var Be=Object(S.b)((function(){return{}}),(function(e){return{setNotification:function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];e(k.apply(Re,a))},clearNotification:function(){e(k(null,null))}}}))((function(e){var t=e.activation,a=e.onActivate,n=Object(W.a)(e,["activation","onActivate"]),c=Object(r.useState)(""),i=Object(P.a)(c,2),s=i[0],o=i[1],l=Object(r.useMemo)((function(){return Me()})),d=Object(r.useCallback)((function(e){o(e.target.value)})),u=Object(r.useCallback)((function(){l.post(Se+"/activate",{activation_key:s}).then((function(e){var t=e.data;n.setNotification(_,"Product activated to full version !!"),a(t.activation_date,s)})).catch((function(e){n.setNotification(w,Object(me.getAxiosErr)(e))}))}));return Object(p.jsxs)(R.a,{style:{padding:"0.5rem"},children:[Object(p.jsxs)(A.a,{children:[Object(p.jsxs)(A.a,{children:["This software is made by team at ",Object(p.jsx)(A.a,{component:"span",color:"primary",style:{fontWeight:"bold"},children:"Yantra"})," with a lot of R&D and user feedbacks. We believe that a software should be very easy to use and should not be boring."]}),Object(p.jsxs)(A.a,{children:["If you want a custom software for your needs and do not want to use the same old crap, then mail us at ",Object(p.jsx)(L.a,{href:"mailto: yantra.contact@gmail.com",children:"yantra.contact@gmail.com"})]}),Object(p.jsx)(A.a,{children:"We'll reach out soon !!"})]}),Object(p.jsx)(G.a,{style:{margin:"0.5rem"}}),t.is_trial&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(A.a,{variant:"h5",color:"error",children:t.usage_days_left>0?Object(p.jsxs)("span",{children:["You're using the trial version. Remaining days for the trial are ",t.usage_days_left," days only."]}):Object(p.jsx)("span",{children:"You're trial is expired. Share the system id and get the activation key to activate full version."})}),Object(p.jsxs)(je,{children:[Object(p.jsx)(be,{children:Object(p.jsx)(he,{label:"System ID",value:t.system_id,readOnly:!0})}),Object(p.jsx)(be,{})]}),Object(p.jsxs)(je,{children:[Object(p.jsx)(be,{children:Object(p.jsx)(he,{label:"Activation key (Contact team Yantra)",onChange:d,value:s})}),Object(p.jsx)(be,{})]}),Object(p.jsxs)(je,{children:[Object(p.jsx)(be,{children:Object(p.jsx)(E.a,{variant:"contained",color:"primary",onClick:u,children:"Activate"})}),Object(p.jsx)(be,{})]})]}),!t.is_trial&&Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(A.a,{variant:"h5",color:"error",children:"You are running full license software. Thank you for choosing us."})})]})})),Ie=a(34),Ae=a.n(Ie),ze=a(46),Fe=a(188),He=Object(M.a)((function(e){return{grid:{borderSpacing:0,width:"100%",overflow:"auto",border:e.mixins.border,borderRadius:e.spacing(.5)},fixedLayout:{tableLayout:"fixed"},tableCell:{margin:0,textAlign:"left",verticalAlign:"top",fontWeight:"initial",padding:e.spacing(.5,1),borderRight:e.mixins.border,borderBottom:e.mixins.border},th:{borderBottom:e.mixins.borderDark},tr:{"&:hover":{"& td":{backgroundColor:e.palette.primary.light}}},actionCell:{padding:e.spacing(.25,0),textAlign:"center"},tableCellLessPad:{padding:e.spacing(.5)},noRows:{textAlign:"center"},noPadding:{padding:"0px"},noBorder:{border:0},noCellBorder:{borderRight:0,borderBottom:0},middle:{verticalAlign:"middle"}}}));function Ee(e){var t=e.columns,a=e.data,n=e.filterObj,c=void 0===n?[]:n,i=e.showFooter,s=void 0!==i&&i,o=e.tdClassName,l=e.fixedLayout,u=void 0!==l&&l,j=e.print,b=void 0!==j&&j,O=e.noRowsMessage,h=void 0===O?"No rows found":O,g=e.className,f=e.onExpand,x=He(),m=Object(Fe.useTable)({columns:t,data:a},Fe.useFilters,Fe.useExpanded),v=m.getTableProps,y=m.getTableBodyProps,w=m.headerGroups,_=m.footerGroups,C=m.rows,k=m.prepareRow,S=m.setAllFilters;return Object(r.useEffect)((function(){S(c)}),[JSON.stringify(c)]),Object(p.jsxs)("table",Object(d.a)(Object(d.a)({},v()),{},{className:Object(ie.a)(x.grid,u?x.fixedLayout:null,g),children:[Object(p.jsx)("thead",{children:w.map((function(e){return Object(p.jsx)("tr",Object(d.a)(Object(d.a)({},e.getHeaderGroupProps()),{},{children:e.headers.filter((function(e){return!b||Boolean(e.Print)})).map((function(e){return Object(p.jsx)("th",Object(d.a)(Object(d.a)({},e.getHeaderProps()),{},{className:Object(ie.a)(x.tableCell,x.th),style:u?{width:e.width}:{},children:e.render("Header")}))}))}))}))}),Object(p.jsxs)("tbody",Object(d.a)(Object(d.a)({},y()),{},{children:[C.map((function(e,t){return k(e),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("tr",Object(d.a)(Object(d.a)({},e.getRowProps()),{},{className:x.tr,children:e.cells.filter((function(e){return!b||Boolean(e.column.Print)})).map((function(e){var t,a=null===(t=e.column)||void 0===t?void 0:t.id.startsWith("btn-");return Object(p.jsx)("td",Object(d.a)(Object(d.a)({},e.getCellProps()),{},{className:Object(ie.a)(x.tableCell,a?x.actionCell:null,o),children:e.render(b?"Print":"Cell")}))}))})),e.isExpanded&&f&&Object(p.jsx)("tr",{children:Object(p.jsx)("td",{colSpan:"100%",className:Object(ie.a)(x.tableCell,o),children:f(e)})})]})})),0==C.length&&Object(p.jsx)("tr",{children:Object(p.jsx)("td",{className:Object(ie.a)(x.tableCell,x.noRows),colSpan:"100%",children:h})})]})),s&&Object(p.jsx)("tfoot",{children:_.map((function(e){return Object(p.jsx)("tr",Object(d.a)(Object(d.a)({},e.getFooterGroupProps()),{},{children:e.headers.filter((function(e){return!b||Boolean(e.Print)})).map((function(e){return Object(p.jsx)("td",Object(d.a)(Object(d.a)({},e.getFooterProps()),{},{className:Object(ie.a)(x.tableCell,o),children:e.render(b?"PrintFooter":"Footer")}))}))}))}))})]}))}function De(e){var t=e.children,a=e.className,n=e.fixedLayout,r=He();return Object(p.jsx)("table",{className:Object(ie.a)(r.grid,r.noBorder,n?r.fixedLayout:null,a),children:Object(p.jsx)("tbody",{children:t})})}function Ve(e){var t=e.children;return Object(p.jsx)("tr",{children:t})}function Le(e){var t=e.children,a=e.className,n=Object(W.a)(e,["children","className"]),r=He();return Object(p.jsx)("td",Object(d.a)(Object(d.a)({className:Object(ie.a)(r.tableCell,r.tableCellLessPad,r.noCellBorder,r.middle,a)},n),{},{children:t}))}var Ge=a(78),qe=a(902),Ke=a(903),Ue=a(888),Je=a(889),Ye=a(429),Qe=a(890),$e=a(891),Xe=a(909),Ze=a(421),et=a.n(Ze),tt=a(422),at=a.n(tt);a(578),a(887);function nt(e){var t=e.children,a=e.value,n=e.index,r=Object(W.a)(e,["children","value","index"]);return Object(p.jsx)("div",Object(d.a)(Object(d.a)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},r),{},{style:{flexGrow:1,minHeight:0},children:a===n&&Object(p.jsx)(p.Fragment,{children:t})}))}var rt=void 0,ct=Object(M.a)((function(e){return{root:{display:"flex",flexDirection:"column",height:"100%"},searchbar:{padding:e.spacing(1),display:"flex"},gridarea:{flexGrow:1}}})),it=[{label:"Yard",value:"yard"},{label:"Meter",value:"meter"}];var st=Object(S.b)((function(e){return{settings:y(e)}}),(function(e){return{setNotification:function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];e(k.apply(rt,a))},clearNotification:function(){e(k(null,null))},setSettings:function(t){e(v(t))}}}))((function(e){ct();var t=Object(r.useState)(!1),a=Object(P.a)(t,2),n=(a[0],a[1],Object(r.useState)({})),c=Object(P.a)(n,2),i=(c[0],c[1],Object(r.useState)([])),s=Object(P.a)(i,2),o=(s[0],s[1],Object(r.useRef)(),Object(r.useMemo)((function(){return Me()}),[])),l=(e.activation.is_trial&&e.activation.usage_days_left,Object(r.useState)(e.settings)),j=Object(P.a)(l,2),b=j[0],O=j[1];Object(r.useEffect)((function(){O(e.settings)}),[e.settings]);var h=Object(r.useCallback)((function(e,t){var a=e;e&&e.target&&(t=e.target.name,a=e.target.value),O((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(u.a)({},t,a))}))}));return Object(p.jsxs)(R.a,{p:1,display:"flex",flexDirection:"column",height:"100%",children:[Object(p.jsx)(R.a,{flexGrow:1,overflow:"auto",children:Object(p.jsxs)(Ye.a,{children:[Object(p.jsx)(A.a,{style:{padding:"0.5rem"},children:"Fabric Costing"}),Object(p.jsx)(G.a,{}),Object(p.jsx)(R.a,{p:1,children:Object(p.jsxs)(je,{children:[Object(p.jsx)(be,{children:Object(p.jsx)(xe,{label:"Warp Cut Mark/Lassa Unit",name:"lassa_unit",value:b.lassa_unit,options:it,onChange:h})}),Object(p.jsx)(be,{children:Object(p.jsx)(he,{type:"number",label:"Yarn Rate GST(%)",name:"yarn_rate_gst",value:b.yarn_rate_gst,onChange:h})}),Object(p.jsx)(be,{children:Object(p.jsx)(he,{type:"number",label:"Warp Sizing Rate GST(%)",name:"sizing_rate_gst",value:b.sizing_rate_gst,onChange:h})}),Object(p.jsx)(be,{})]})})]})}),Object(p.jsx)(R.a,{children:Object(p.jsx)(E.a,{variant:"contained",onClick:function(){o({method:"PUT",url:we,data:b}).then((function(t){e.setSettings(b),e.setNotification(_,"Settings saved successfully")})).catch((function(t){e.setNotification(w,function(e){return e.response?de.a.isString(e.response.data.message)?e.response.data.message:e.response.statusText+". Contact administrator.":e.request?"Not able to send the request. Contact administrator.":"Some error occurred. Contact administrator."}(t))}))},color:"primary",children:"Save"})})]})})),ot=a(189),lt=a.n(ot);function dt(e){return function e(t){return{_num:t,add:function(t){var a=this._num.add(t||"0");return e(a)},sub:function(t){var a=this._num.sub(t||"0");return e(a)},mul:function(t){var a=this._num.mul(t||"0");return e(a)},div:function(t){var a=this._num.div(t||"0");return e(a)},floor:function(){var t=new lt.a(this._num.toFixed(5,lt.a.ROUND_DOWN));return e(t)},toString:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return this._num.isInteger()&&!e?this._num.toString():this._num.toFixed(t)},greaterThanOrEqualTo:function(e){return this._num.greaterThanOrEqualTo(e)}}}(new lt.a(e||"0"))}var ut=a(420),jt=a.n(ut),bt=a(241),pt=a.n(bt);function Ot(e){var t=e.open,a=e.onClose,n=e.title,r=e.isSaving,c=e.onSave,i=e.children,s=e.showFooter,o=void 0===s||s,l=e.noPadding,u=void 0!==l&&l,j=Object(W.a)(e,["open","onClose","title","isSaving","onSave","children","showFooter","noPadding"]);return Object(p.jsxs)(Ke.a,Object(d.a)(Object(d.a)({open:t,onClose:a,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,disableEscapeKeyDown:!0},j),{},{children:[Object(p.jsx)(Ue.a,{id:"alert-dialog-title",children:Object(p.jsxs)(R.a,{display:"flex",children:[n,Object(p.jsx)(R.a,{marginLeft:"auto",children:Object(p.jsx)($.a,{size:"small",onClick:a,children:Object(p.jsx)(pt.a,{})})})]})}),Object(p.jsx)(Je.a,{dividers:!0,style:u?{}:{padding:"0.5rem"},children:i}),o&&Object(p.jsxs)(Qe.a,{children:[Object(p.jsx)(E.a,{onClick:a,color:"secondary",variant:"outlined",children:"Cancel"}),c&&Object(p.jsx)(E.a,{onClick:c,color:"primary",variant:"contained",disabled:r,children:r?"Saving...":"Save"})]})]}))}var ht=a(16),gt=(a(419),a.p+"static/media/mplus-1m-regular-webfont.dfebd5f4.ttf"),ft=a.p+"static/media/mplus-1m-bold-webfont.ced7832f.ttf",xt=function(e){return ht.StyleSheet.create({table:{flexDirection:"column",border:"1px solid #999999",boxSizing:"border-box",width:"auto"},header:{fontWeight:"bold",boxSizing:"border-box",textAlign:"center"},row:{flexDirection:"row",borderBottomColor:"#bff0fd",boxSizing:"border-box"},cell:{padding:"0.5mm",borderRight:"1px solid #999999",wordBreak:"break-all",verticalAlign:"top",borderBottom:"1px dotted #999999",boxSizing:"border-box"},noBorderBottom:{borderBottom:0},noBorderRight:{borderRight:0}})};function mt(e){var t=e.columns,a=void 0===t?[]:t,n=e.rows,r=void 0===n?[]:n,c=e.style,i=(Object(H.a)(),xt()),s=de.a.flatMap(a,(function(e){return e.columns?e.columns:e}));return Object(p.jsx)(ht.View,{style:c,children:Object(p.jsxs)(ht.View,{style:[i.table],children:[Object(p.jsx)(vt,{children:s.map((function(e,t){return Object(p.jsx)(yt,{column:e,header:!0,last:t===s.length-1})}))}),(r||[]).map((function(e,t){return Object(p.jsx)(vt,{wrap:!1,children:a.map((function(n,c){return Object(p.jsx)(yt,{column:n,row:e,last:c===a.length-1,lastRow:t==r.length-1})}))})}))]})})}function vt(e){var t=e.children,a=e.wrap,n=void 0===a||a,r=(Object(H.a)(),xt());return Object(p.jsx)(ht.View,{style:r.row,wrap:n,children:t})}function yt(e){var t=e.column,a=void 0===t?null:t,n=e.row,r=void 0===n?null:n,c=e.header,i=void 0!==c&&c,s=e.last,o=void 0!==s&&s,l=e.lastRow,d=void 0!==l&&l;if(a.columns){if(i)return Object(p.jsx)(vt,{children:a.columns.map((function(e,t){return Object(p.jsx)(wt,{column:e,value:e.name,header:i,last:o&&t==a.columns.length-1})}))});var u=a.pivot,j=r[a.columns[0].key],b=a.columns.slice(1),O=a.columns[0].pivotDataLength-j.length;return Object(p.jsx)(ht.View,{children:u.map((function(e,t){var a=[];return a.push([e,e.name]),null===j||void 0===j||j.map((function(t,n){a.push([e,t[e.key]])})),new Array(O).fill(0).map((function(){a.push([e,""])})),b.map((function(t){var n;a.push([t,null===r||void 0===r||null===(n=r[t.key])||void 0===n?void 0:n[e.key]])})),Object(p.jsx)(vt,{children:a.map((function(e,n){return Object(p.jsx)(wt,{header:0==n,column:e[0],value:e[1],last:o&&n==a.length-1,lastRow:d&&t==u.length-1})}))})}))})}var h=a.name;return i||(h=r[a.key]),Object(p.jsx)(wt,{header:i,last:o,lastRow:d,column:a,value:h})}function wt(e){var t=e.header,a=void 0!==t&&t,n=e.last,r=void 0!==n&&n,c=e.lastRow,i=void 0!==c&&c,s=e.column,o=e.value,l=void 0===o?"":o,d=(Object(H.a)(),xt()),u=[d.cell];return r&&u.push(d.noBorderRight),i&&u.push(d.noBorderBottom),a&&u.push(d.header),s.width&&u.push({width:s.width}),s.align&&!a&&u.push({textAlign:s.align}),Object(p.jsx)(ht.View,{style:u,children:Object(p.jsx)(ht.Text,{style:{marginTop:"auto",marginBottom:"auto"},children:null!==l&&void 0!==l?l:""})})}function _t(e){var t=e.name,a=e.value,n=e.margin,r=e.style,c=e.vertical,i=[];return void 0!==c&&c?(r&&i.push(r),Object(p.jsxs)(ht.View,{style:i,children:[Object(p.jsx)(ht.Text,{style:{fontWeight:"bold"},children:t}),Object(p.jsx)(ht.Text,{children:a})]})):(i=[{flexDirection:"row"}],r&&i.push(r),n&&i.push({marginRight:"0.5rem"}),Object(p.jsxs)(ht.View,{style:i,children:[Object(p.jsxs)(ht.Text,{style:{fontWeight:"bold"},children:[t,": "]}),Object(p.jsx)(ht.Text,{children:a})]}))}function Ct(e){var t,a=e.reportName,n=(e.getReportDetails,e.withHeader,e.orientation),c=void 0===n?"potrait":n,i=e.showPageNo,s=void 0===i||i,o=e.children,l=Object(r.useState)([]),d=Object(P.a)(l,2),u=d[0],j=d[1];Object(r.useEffect)((function(){ye.a.get("/api/companies").then((function(e){j(e.data.map((function(e){return{label:e.name,value:e.id,data:e}})))}))}),[]);null===(t=de.a.find(u,(function(e){return 1===e.value})))||void 0===t||t.data;return Object(p.jsx)(ht.PDFViewer,{style:{height:"99%",width:"99%"},children:Object(p.jsx)(ht.Document,{title:a,children:Object(p.jsxs)(ht.Page,{size:"A4",orientation:c,style:{fontSize:"10px",fontFamily:"m1",padding:"5mm",paddingBottom:"10mm"},children:[o,s&&Object(p.jsx)(ht.Text,{style:{position:"absolute",bottom:"5mm",left:0,right:0,textAlign:"center",color:"grey"},render:function(e){var t=e.pageNumber,a=e.totalPages;return"".concat(t," / ").concat(a)},fixed:!0})]})})})}function kt(e){var t=e.biding,a=void 0===t||t;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(ht.View,{style:{borderBottom:"1px solid #999999",padding:"4px 0px"},children:Object(p.jsx)(ht.Text,{children:"The address will come here 416115"})}),Object(p.jsxs)(ht.View,{style:{flexDirection:"row",padding:"4px 0px"},children:[Object(p.jsx)(ht.View,{style:{flexBasis:"50%"},children:Object(p.jsx)(_t,{name:"Date",value:""})}),Object(p.jsx)(ht.View,{style:{flexBasis:"50%"},children:Object(p.jsx)(_t,{name:"Set No",value:"1"})})]}),Object(p.jsx)(ht.View,{style:{padding:"4px 0px"},children:Object(p.jsx)(_t,{name:"Party",value:"Sample party"})}),Object(p.jsx)(ht.View,{style:{flexDirection:"row",padding:"4px 0px"},children:Object(p.jsx)(ht.Text,{style:{textDecoration:"underline",fontWeight:"bold",margin:"auto",letterSpacing:"2px"},children:a?"Biding Details":"Warping & Sizing details"})})]})}function St(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(kt,{biding:!0}),Object(p.jsxs)(ht.View,{style:{flexDirection:"row",padding:"4px 0px"},children:[Object(p.jsx)(ht.View,{style:{flexBasis:"50%"},children:Object(p.jsx)(_t,{name:"Yarn No.",value:""})}),Object(p.jsx)(ht.View,{style:{flexBasis:"50%"},children:Object(p.jsx)(_t,{name:"Mill Name",value:""})})]}),Object(p.jsx)(mt,{columns:[{name:"Sr No",key:"srNo",width:"10mm"},{name:"Cone",key:"cone",width:"30mm",align:"right",Footer:function(e){return Object(p.jsx)("span",{style:{fontWeight:"bold"},children:0})}},{name:"Gross Wt.",key:"grossWt",width:"50mm",align:"right",Footer:function(e){return Object(p.jsx)("span",{style:{fontWeight:"bold"},children:0})}},{name:"Net Wt.",key:"netWt",width:"50mm",align:"right",Footer:function(e){return Object(p.jsx)("span",{style:{fontWeight:"bold"},children:0})}}],rows:[{cone:"123",grossWt:"123",netWt:123},{cone:"123",grossWt:"123",netWt:123},{cone:"123",grossWt:"123",netWt:123}]})]})}function Nt(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(kt,{biding:!1}),Object(p.jsxs)(ht.View,{style:{flexDirection:"row",padding:"4px 0px"},children:[Object(p.jsx)(ht.View,{style:{flexBasis:"33.33%"},children:Object(p.jsx)(_t,{name:"Yarn No.",value:""})}),Object(p.jsx)(ht.View,{style:{flexBasis:"40%"},children:Object(p.jsx)(_t,{name:"Mill Name",value:""})}),Object(p.jsx)(ht.View,{style:{flexBasis:"27.17%"},children:Object(p.jsx)(_t,{name:"Bag Count",value:""})})]}),Object(p.jsxs)(ht.View,{style:{flexDirection:"row",padding:"4px 0px"},children:[Object(p.jsx)(ht.View,{style:{flexBasis:"25%"},children:Object(p.jsx)(_t,{name:"Tara",value:123212123123,vertical:!0})}),Object(p.jsx)(ht.View,{style:{flexBasis:"25%"},children:Object(p.jsx)(_t,{name:"Rule",value:123212123123,vertical:!0})}),Object(p.jsx)(ht.View,{style:{flexBasis:"25%"},children:Object(p.jsx)(_t,{name:"Measure",value:123212123123,vertical:!0})}),Object(p.jsx)(ht.View,{style:{flexBasis:"25%"},children:Object(p.jsx)(_t,{name:"Quality",value:123212123123,vertical:!0})})]}),Object(p.jsx)(mt,{columns:[{name:"Sr No",key:"srNo",width:"10mm"},{name:"",key:"type",width:"30mm"},{name:"Bags",key:"bags",width:"22mm",align:"right"},{name:"Cones",key:"cones",width:"22mm",align:"right"},{name:"Gross Wt.",key:"grossWt",width:"40mm",align:"right"},{name:"Net Wt.",key:"netWt",width:"40mm",align:"right"}],rows:[{type:"Gatepass",cones:"123",grossWt:"123",netWt:123},{type:"From Sizing",cones:435,grossWt:"123",netWt:123},{cones:"123",grossWt:"123",netWt:123}]})]})}function Tt(){return Object(p.jsxs)(ht.View,{style:{flexDirection:"row"},children:[Object(p.jsx)(ht.View,{style:{flexBasis:"49%"},children:Object(p.jsx)(St,{})}),Object(p.jsx)(ht.View,{style:{flexBasis:"2%",display:"flex"},children:Object(p.jsx)(ht.View,{style:{width:"1px",height:"100%",border:"0.5px dashed #dbdada",margin:"auto"}})}),Object(p.jsx)(ht.View,{style:{flexBasis:"49%"},children:Object(p.jsx)(Nt,{})})]})}function Pt(e){var t=e.apiObj,a=e.qid,n=e.sizingOpts,c=Object(r.useState)([]),i=Object(P.a)(c,2),s=i[0],o=i[1],l=Object(r.useState)(),d=Object(P.a)(l,2),u=d[0],j=d[1],b=Object(r.useMemo)((function(){return[{Header:"",id:"btn-report",width:"30px",Cell:function(e){e.value;var t=e.row;return Object(p.jsx)($.a,{onClick:function(){j(t.original)},children:Object(p.jsx)(jt.a,{})})}},{Header:"Set No",accessor:"setNo",width:"20%"},{Header:"Sizing Name",accessor:"sizingId",width:"40%",Cell:function(e){var t=e.value;return Object(p.jsx)("span",{children:(de.a.find(n,(function(e){return e.value==t}))||{}).label})}},{Header:"Quality Name",accessor:"name",width:"40%"}]}),[n]);return Object(r.useEffect)((function(){a&&function(){var e=Object(ze.a)(Ae.a.mark((function e(){var n;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get(We+"/"+a);case 2:n=e.sent,o(n.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[a]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Ee,{columns:b,data:s,fixedLayout:!0,noRowsMessage:"No sets"}),Object(p.jsx)(Ot,{title:"Tippan",onClose:function(){j(null)},open:Boolean(u),showFooter:!1,maxWidth:"xl",noPadding:!0,PaperProps:{style:{height:"100%"}},children:Object(p.jsx)(Ct,{orientation:"landscape",showPageNo:!1,children:Object(p.jsx)(Tt,{})})})]})}var Wt=void 0;var Mt=Object(S.b)((function(){}),(function(e){return{setNotification:function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];e(k.apply(Wt,a))},clearNotification:function(){e(k(null,null))}}}))((function(e){var t=e.apiObj,a=e.qid,n=e.sizingOpts,c=e.data,i=e.qualityName,s=Object(W.a)(e,["apiObj","qid","sizingOpts","data","qualityName"]),o=Object(r.useState)(),l=Object(P.a)(o,2),d=l[0],u=l[1],j=Object(r.useState)(),b=Object(P.a)(j,2),O=b[0],h=b[1];Object(r.useEffect)((function(){}),[a]);var g=function(){var e=Object(ze.a)(Ae.a.mark((function e(){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.post(We,{setNo:d,sizingId:O,name:i,data:c,qid:a});case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0),s.setNotification(w,Object(me.getAxiosErr)(e.t0));case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)(je,{children:[Object(p.jsx)(be,{children:Object(p.jsx)(he,{type:"number",label:"Set No",value:d,onChange:function(e){return u(e.target.value)}})}),Object(p.jsx)(be,{children:Object(p.jsx)(fe,{label:"Sizing",options:n,isClearable:!0,value:de.a.find(n,(function(e){return e.value==O})),onChange:function(e){h(null===e||void 0===e?void 0:e.value)}})}),Object(p.jsx)(be,{children:Object(p.jsx)(E.a,{color:"primary",variant:"outlined",onClick:g,disabled:!d||!O||!a||!i,children:"Add"})}),Object(p.jsx)(be,{}),Object(p.jsx)(be,{}),Object(p.jsx)(be,{})]})})),Rt=void 0;function Bt(e){if(!isNaN(e)&&e){var t=Number(e);return isFinite(t)?t:Number(0)}return Number(0)}function It(e){return e=Bt(e),e=Math.round(e+"e5"),Number(e+"e"+-5)}var At=Object(M.a)((function(e){return{root:{display:"flex",flexDirection:"column",height:"100%"},searchbar:{padding:e.spacing(1),display:"flex"},gridarea:{flexGrow:1},inputGridTd:{padding:"0px"},gridCell:{"&:not(.Mui-focused)":{"& .MuiOutlinedInput-notchedOutline":{borderColor:"transparent"}}},page:{width:"297mm",backgroundColor:"#fff",padding:"5mm",color:"#000",fontSize:"16px"},borderBottom:{borderBottom:"1px solid "+e.palette.grey[500]},borderTop:{borderTop:"1px solid "+e.palette.grey[500]},alignRight:{textAlign:"right"},mtPerct:{width:"50px",padding:e.spacing(1)}}}));var zt=function(e){e.total_weight_glm=It(e.warp_weight+e.weft_weight),e.total_weight_glm_wastage=It(e.warp_weight_wastage+e.weft_weight_wastage),e.total_weight_gsm=It(39.37*e.total_weight_glm/Bt(e.warp_panna));var t=function(e){var t,a=0,n={"Total warp cost":dt(0),"Total sizing cost":dt(0),"Total weft cost":dt(0),"Weaving charges":dt(e.weaving_charges)},r=Object(Ge.a)(e.warps||[]);try{for(r.s();!(t=r.n()).done;){var c=t.value;n["Total warp cost"]=n["Total warp cost"].add(c.cost),n["Total sizing cost"]=n["Total sizing cost"].add(c.sizing_cost)}}catch(l){r.e(l)}finally{r.f()}var i,s=Object(Ge.a)(e.wefts||[]);try{for(s.s();!(i=s.n()).done;){var o=i.value;n["Total weft cost"]=n["Total weft cost"].add(o.cost)}}catch(l){s.e(l)}finally{s.f()}return a=n["Total warp cost"].add(n["Total sizing cost"].toString()).add(n["Total weft cost"].toString()).add(n["Weaving charges"].toString()),n={"Total warp cost":n["Total warp cost"].toString(),"Total sizing cost":n["Total sizing cost"].toString(),"Total weft cost":n["Total weft cost"].toString(),"Weaving charges":n["Weaving charges"].toString()},[a.toString(),n]}(e),a=Object(P.a)(t,2);e.prod_cost=a[0],e.breakups.prod_cost=a[1];for(var n=0;n<25;n++)e.margin_table[n]=It(e.prod_cost*(100+n+1)/100);return e},Ft=function(e){return function(t,a){var n=Bt(t.warp_lassa),r=1693.33;"yard"==e.lassa_unit&&(r=1852,n*=.9144);var c=de.a.cloneDeep(t),i=null,s=function(t,a){"warp"!=t&&"all"!=t||(c=function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.warp_total_ends=Bt(t.warp_reed)*(Bt(t.warp_panna)+Bt(t.warp_reed_space)),t.warp_cramp=It((n-Bt(t.warp_ltol))/n*100),t.warp_weight=0,t.warp_weight_wastage=0;var c=t.warps;if(!c)return t;var i,s=100/c.length,o=Object(Ge.a)(c);try{for(o.s();!(i=o.n()).done;){var l=i.value;l.perct=a?s:l.perct;var d=Bt(l.count);"Denear"==l.fabric_type&&(d=5315/d);var u=Bt(t.warp_total_ends*Bt(t.warp_lassa)/r/d/Bt(t.warp_ltol)*Bt(l.perct)/100);l.weight_wastage=u+Bt(l.wastage)*u/100,t.warp_weight+=u,t.warp_weight_wastage+=l.weight_wastage;var j=100*Bt(l.rate)/(100+(t.warp_rate_wgst?Bt(e.yarn_rate_gst):0)),b=100*Bt(l.sizing_rate)/(100+(t.warp_sizing_wgst?Bt(e.sizing_rate_gst):0));l.cost=l.weight_wastage*Bt(j),l.sizing_cost=l.weight_wastage*Bt(b)}}catch(p){o.e(p)}finally{o.f()}return t.warp_weight+=t.warp_weight*Bt(t.warp_iron_wt)/100,t.warp_weight=It(t.warp_weight),t.warp_weight_wastage=It(t.warp_weight_wastage),t}(c,a)),"weft"!=t&&"all"!=t||(c=function(t,a){t.weaving_charges=Bt(t.weft_pick)*Bt(t.weft_job_rate)/100,t.weft_weight=0,t.weft_weight_wastage=0;var n=t.wefts;if(!n)return t;var r,c=100/n.length,i=Object(Ge.a)(n);try{for(i.s();!(r=i.n()).done;){var s=r.value;s.perct=a?c:s.perct;var o=Bt(s.count);"Denear"==s.fabric_type&&(o=5315/o);var l=Bt(Bt(t.weft_meter)*(Bt(t.weft_panna)+Bt(t.weft_reed_space))*Bt(t.weft_pick)/(1693.33*o)*Bt(s.perct)/100);s.weight_wastage=l+Bt(s.wastage)*l/100,t.weft_weight+=l,t.weft_weight_wastage+=s.weight_wastage;var d=100*Bt(s.rate)/(100+(t.weft_rate_wgst?Bt(e.yarn_rate_gst):0));s.cost=s.weight_wastage*Bt(d)}}catch(u){i.e(u)}finally{i.f()}return t.weft_weight=It(t.weft_weight),t.weft_weight_wastage=It(t.weft_weight_wastage),t}(c,a)),"wpwarp"!=t&&"all"!=t||(c=function(e){var t=e.wpWarps;if(!t)return e;var a,r=Object(Ge.a)(t.entries());try{for(r.s();!(a=r.n()).done;){var c=Object(P.a)(a.value,2),i=c[0],s=c[1];s.count=e.warps[i].count;var o=Bt(s.count);"Denear"==s.fabric_type&&(o=5315/o),s.kg_per_cone=Bt(Bt(s.bag_wt)/Bt(s.bag_pack)),s.cone_measure=Bt((s.kg_per_cone-Bt(s.bottom_cone)/1e3)*Bt(o)*1693.33),s.tara=Bt(e.warp_total_ends/Bt(s.part)),s.sizing_measure=s.cone_measure/Bt(s.part)*Bt(s.multipart),s.fabric_measure=Bt(s.sizing_measure/n*Bt(e.warp_ltol)),s.total_warp_kg=Bt(s.fabric_measure*e.warps[i].weight_wastage),s.warp_bags=s.total_warp_kg/Bt(s.bag_wt),s.per_beam=Bt(s.sizing_measure/Bt(s.beams)),e.wp_fabric_meter=0===i?It(s.fabric_measure):0}}catch(l){r.e(l)}finally{r.f()}return e}(c)),"wpweft"!=t&&"all"!=t||(c=function(e){var t=e.wpWefts;if(!t)return e;var a,n=Object(Ge.a)(t.entries());try{for(n.s();!(a=n.n()).done;){var r=Object(P.a)(a.value,2),c=r[0],i=r[1];i.count=e.wefts[c].count,i.total_weft_kg=e.wp_fabric_meter*e.wefts[c].weight_wastage,i.weft_bags=It(i.total_weft_kg/Bt(i.bag_wt))}}catch(s){n.e(s)}finally{n.f()}return e}(c))};switch(a.type){case"init":c=a.value,a.postReducer="all",s(a.postReducer);break;case"set_value":de.a.set(c,a.path,a.value),s(a.postReducer);break;case"add_grid_row":(i=de.a.get(c,a.path,[])).push(a.value),de.a.set(c,a.path,i),s(a.postReducer,!0),a.depPath&&((i=de.a.get(c,a.depPath,[])).push(a.depValue),de.a.set(c,a.depPath,i),s(a.depPostReducer,!0));break;case"remove_grid_row":(i=de.a.get(c,a.path,[])).splice(a.value,1),de.a.set(c,a.path,i),s(a.postReducer,!0),a.depPath&&((i=de.a.get(c,a.depPath,[])).splice(a.depValue,1),de.a.set(c,a.depPath,i),s(a.depPostReducer,!0))}return c=function(e){e.fin_prod_elongshrink=e.prod_cost*Bt(e.fin_elongshrink)/100,e.fin_gray_elongshrink=Bt(e.fin_gray_price)*Bt(e.fin_elongshrink)/100,e.fin_prod_wastage=(e.prod_cost+Bt(e.fin_process_charge)+e.fin_prod_elongshrink)*Bt(e.fin_wastage)/100,e.fin_gray_wastage=(Bt(e.fin_gray_price)+Bt(e.fin_process_charge)+e.fin_gray_elongshrink)*Bt(e.fin_wastage)/100;var t="elongation"===e.fin_elongshrink_opt?-1:1;return e.fin_prod_total=It(e.prod_cost+Bt(e.fin_process_charge)+t*e.fin_prod_elongshrink+e.fin_prod_wastage+Bt(e.fin_packing)+Bt(e.fin_others)),e.fin_gray_total=It(Bt(e.fin_gray_price)+Bt(e.fin_process_charge)+t*e.fin_gray_elongshrink+e.fin_gray_wastage+Bt(e.fin_packing)+Bt(e.fin_others)),e.fin_prod_profit=It((Bt(e.fin_market_price)-e.fin_prod_total)/e.fin_prod_total*100),e.fin_gray_profit=It((Bt(e.fin_market_price)-e.fin_gray_total)/e.fin_gray_total*100),e.fin_rev_gray_price=It(Bt(e.fin_market_price)-Bt(e.fin_process_charge)+t*e.fin_prod_elongshrink+e.fin_prod_wastage+Bt(e.fin_packing)+Bt(e.fin_others)),e}(c=function(e){e.gray_brokerage_calc=Bt(e.gray_market_price)*Bt(e.gray_brokerage)/100,e.gray_interest_calc=e.prod_cost*Bt(e.gray_interest)/100,e.gray_cashdisc_calc=Bt(e.gray_market_price)*Bt(e.gray_cashdisc)/100,e.gray_others_calc=e.prod_cost*Bt(e.gray_others)/100,e.gray_total=It(e.prod_cost+e.gray_brokerage_calc+e.gray_interest_calc+e.gray_cashdisc_calc+e.gray_others_calc),e.gray_profit=It(100*(Bt(e.gray_market_price)/e.gray_total-1));var t,a=0,n=0,r=0,c=Object(Ge.a)(e.warps||[]);try{for(c.s();!(t=c.n()).done;){var i=t.value;a+=i.cost,n+=i.sizing_cost}}catch(l){c.e(l)}finally{c.f()}var s,o=Object(Ge.a)(e.wefts||[]);try{for(o.s();!(s=o.n()).done;)r+=s.value.cost}catch(l){o.e(l)}finally{o.f()}return e.gray_revjobrate=It(100*(Bt(e.gray_market_price)-e.gray_brokerage_calc-e.gray_interest_calc-e.gray_cashdisc_calc-e.gray_others_calc-a-n-r)/Bt(e.weft_pick)),e}(c=zt(c)))}};function Ht(e,t,a,n,r){var c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},i=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=[{Header:"",id:"id",Print:function(e){return e.row.index+1},PrintFooter:"",Cell:function(e){var t=e.row;return Object(p.jsx)("span",{style:{paddingLeft:"0.25rem",paddingRight:"0.25rem",fontWeight:"bold"},children:t.index+1})}}];i&&s.push({Header:"",id:"btn-del",Cell:function(n){var r=n.row;return Object(p.jsx)($.a,{onClick:function(n){n.preventDefault(),t(Object(d.a)(Object(d.a)({type:"remove_grid_row",path:e,value:r.index,postReducer:a},c),{},{depValue:r.index}))},children:Object(p.jsx)(et.a,{})})}});var o,l=Object(Ge.a)(n);try{var u=function(){var n=o.value;s.push({Header:n.Header,accessor:n.accessor,Print:function(e){var t=e.value;e.row;return Object(p.jsx)("span",{children:t})},PrintFooter:n.showTotal?function(e){var t=e.rows.reduce((function(e,t){return(t.values[n.accessor]||0)+e}),0);return t=Bt(t)}:"",Footer:n.showTotal?function(e){var t=e.rows.reduce((function(e,t){return(t.values[n.accessor]||0)+e}),0);return t=It(t),Object(p.jsx)(he,{fullWidth:!0,inputProps:{style:{fontWeight:"bold"}},grid:!0,value:t,type:"number",readOnly:!0})}:"",Cell:function(r){var c=r.value,i=r.row,s=r.column;c=n.CellValue?n.CellValue(c):c;var o=!!n.warn&&n.warn(c);return"select"===n.type?Object(p.jsx)(xe,{value:c,options:n.options,onChange:function(n){var r=n.target.value;t({type:"set_value",path:e.concat([i.index,s.id]),value:r,postReducer:a})},grid:!0}):Object(p.jsx)(he,{fullWidth:!0,type:"number",value:c,readOnly:n.readOnly,onChange:function(n){var r=n.target.value;t({type:"set_value",path:e.concat([i.index,s.id]),value:r,postReducer:a})},grid:!0,warn:o})},default:n.default,warn:n.warn})};for(l.s();!(o=l.n()).done;)u()}catch(j){l.e(j)}finally{l.f()}return s}function Et(e){var t=e.children;return Object(p.jsx)(A.a,{color:"secondary",style:{textAlign:"center",padding:"0.25rem",fontSize:"1.1rem"},children:t})}var Dt=Object(M.a)((function(e){return{page:{width:"297mm",backgroundColor:"#fff",padding:"5mm",color:"#000",fontSize:"16px"}}}));function Vt(e){var t=e.printRef,a=e.fieldsData,n=e.warpCols,r=e.weftCols,c=Dt();return Object(p.jsxs)(R.a,{ref:t,className:c.page,children:[Object(p.jsx)(R.a,{textAlign:"center",children:Object(p.jsx)("h3",{children:"Fabric Costing"})}),Object(p.jsx)(R.a,{borderTop:1}),Object(p.jsx)(R.a,{p:1,children:Object(p.jsx)(Lt,{label:"Quality Name",value:a.name})}),Object(p.jsx)(R.a,{borderTop:1}),Object(p.jsx)(q.a,{container:!0,children:Object(p.jsxs)(q.a,{item:!0,xs:12,children:[Object(p.jsxs)(R.a,{children:[Object(p.jsx)(R.a,{textAlign:"center",children:Object(p.jsx)("h3",{children:"Warp"})}),Object(p.jsxs)(R.a,{display:"flex",flexWrap:"wrap",children:[Object(p.jsx)(Lt,{label:"Reed Name",value:a.warp_reed}),Object(p.jsx)(Lt,{margin:!0,label:"Panna",value:a.warp_panna}),Object(p.jsx)(Lt,{margin:!0,label:"Reed space",value:a.warp_reed_space}),Object(p.jsx)(Lt,{margin:!0,label:"Lassa",value:a.warp_lassa}),Object(p.jsx)(Lt,{margin:!0,label:"L to L",value:a.warp_ltol}),Object(p.jsx)(Lt,{margin:!0,label:"Total ends",value:a.warp_total_ends})]}),Object(p.jsx)(Ee,{columns:n,data:a.warps||[],showFooter:!0,print:!0})]}),Object(p.jsxs)(R.a,{children:[Object(p.jsx)(R.a,{textAlign:"center",children:Object(p.jsx)("h3",{children:"Weft"})}),Object(p.jsxs)(R.a,{display:"flex",flexWrap:"wrap",children:[Object(p.jsx)(Lt,{label:"Meter",value:a.weft_meter}),Object(p.jsx)(Lt,{margin:!0,label:"Panna",value:a.weft_panna}),Object(p.jsx)(Lt,{margin:!0,label:"Reed space",value:a.weft_reed_space}),Object(p.jsx)(Lt,{margin:!0,label:"Pick",value:a.weft_pick}),Object(p.jsx)(Lt,{margin:!0,label:"Job rate (paise)",value:a.weft_job_rate}),Object(p.jsx)(Lt,{margin:!0,label:"Weaving charges",value:a.weaving_charges})]}),Object(p.jsx)(Ee,{columns:r,data:a.wefts||[],showFooter:!0,print:!0})]})]})}),Object(p.jsx)(G.a,{}),Object(p.jsx)(Lt,{label:"Gross rate",rs:!0,value:a.prod_cost}),Object(p.jsx)(Lt,{label:"Rate local",rs:!0,value:a.rate_local_rs}),Object(p.jsx)(Lt,{label:"Rate out",rs:!0,value:a.rate_out_rs}),Object(p.jsx)(R.a,{position:"fixed",bottom:"0",left:"0",right:"0",textAlign:"center",fontSize:"0.6em",children:"Generated by Costing software by team Yantra - yantra.contact@gmail.com"})]})}function Lt(e){var t=e.label,a=e.value,n=e.rs,r=e.margin,c=Object(W.a)(e,["label","value","rs","margin"]);return Object(p.jsxs)(R.a,Object(d.a)(Object(d.a)({},c),{},{marginLeft:r?"1rem":0,children:[Object(p.jsx)("span",{style:{fontWeight:"bold"},children:t}),": ",n&&"Rs. ",Object(p.jsx)("span",{children:a})]}))}var Gt=Object(S.b)((function(e){return{settings:y(e)}}),(function(e){return{setNotification:function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];e(k.apply(Rt,a))},clearNotification:function(){e(k(null,null))}}}))((function(e){var t,a=e.open,n=e.onClose,i=e.selId,s=e.settings,o=e.agentOpts,l=e.partyOpts,j=e.sizingOpts,b=Object(W.a)(e,["open","onClose","selId","settings","agentOpts","partyOpts","sizingOpts"]),O=At(),h=Object(r.useMemo)((function(){return Me()}),[]),g=Object(r.useRef)({}),f=Object(r.useState)({}),x=Object(P.a)(f,2),m=x[0],v=x[1],y=Object(r.useReducer)(Ft(s),{}),C=Object(P.a)(y,2),k=C[0],S=C[1],N=Object(r.useState)({}),M=Object(P.a)(N,2),B=M[0],I=(M[1],!de.a.isNull(m.id)&&!de.a.isUndefined(m.id));Object(r.useEffect)(Object(ze.a)(Ae.a.mark((function e(){var t,a,n;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={},a={},e.prev=2,!i){e.next=12;break}return e.next=6,h.get(Ce+"/"+i);case 6:n=e.sent,a=n.data.data,delete n.data.data,t=n.data,a.wpWarps||(a.warps&&a.warps.length>0&&(a.wpWarps=new Array(a.warps.length).fill(X(Y))),a.wefts&&a.wefts.length>0&&(a.wpWefts=new Array(a.wefts.length).fill(X(Q))),a.margin_table=new Array(25).fill(0)),delete a.fabric_type;case 12:v(t),S({type:"init",value:Object(d.a)(Object(d.a)({fin_elongshrink_opt:"elongation",weft_insertion:1},a),{},{weft_meter:1,margin_table:new Array(25).fill(0),breakups:{}})}),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(2),console.log(e.t0),b.setNotification(w,Object(me.getAxiosErr)(e.t0));case 20:case"end":return e.stop()}}),e,null,[[2,16]])}))),[i,a]);var z=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a="POST",r=_e;I&&!e&&(a="PUT",r+="/"+m.id),h({method:a,url:r,data:Object(d.a)(Object(d.a)({},m),{},{data:k})}).then((function(a){b.setNotification(_,"Quality saved successfully"),g.current=Object(d.a)(Object(d.a)({},m),{},{dispReed:k.warp_reed,dispPick:k.weft_pick,dispProdCost:k.prod_cost}),I&&!e||(g.current.id=a.data,v(g.current)),t&&n(g.current)})).catch((function(e){b.setNotification(w,Object(me.getAxiosErr)(e))}))},F=Object(r.useCallback)((function(e,t){var a=e;e&&e.target&&(t=e.target.name,a=e.target.value),v((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(u.a)({},t,a))}))})),D=Object(r.useCallback)((function(e,t){var a=e;e&&e.target&&(t=e.target.name,a=e.target.value),S({type:"set_value",path:t,value:a,postReducer:"warp"})})),V=Object(r.useCallback)((function(e,t){var a=e;e&&e.target&&(t=e.target.name,a=e.target.value),S({type:"set_value",path:t,value:a,postReducer:"weft"})})),L=Object(r.useCallback)((function(e,t){var a=e;e&&e.target&&(t=e.target.name,a=e.target.value),S({type:"set_value",path:t,value:a,postReducer:"wpweft"})})),K=Object(r.useCallback)((function(e,t){var a=e;e&&e.target&&(t=e.target.name,a=e.target.value),S({type:"set_value",path:t,value:a})})),U=Object(r.useMemo)((function(){return Ht(["warps"],S,"warp",[{Header:"Fabric",accessor:"fabric_type",default:"Cotton",type:"select",width:110,options:[{label:"Cotton",value:"Cotton"},{label:"Polyster",value:"Polyster"},{label:"Denear",value:"Denear"}]},{Header:"Count",accessor:"count"},{Header:"Perct.(%)",accessor:"perct"},{Header:"Wastage(%)",accessor:"wastage"},{Header:function(){return Object(p.jsxs)(p.Fragment,{children:["Rate(Rs per Kg)",Object(p.jsx)(Z.a,{control:Object(p.jsx)(qe.a,{color:"primary",size:"small",checked:k.warp_rate_wgst,onChange:function(e){D(e.target.checked,"warp_rate_wgst")}}),label:"with GST"})]})},accessor:"rate"},{Header:function(){return Object(p.jsxs)(p.Fragment,{children:["Sizing rate(Rs per Kg)",Object(p.jsx)(Z.a,{control:Object(p.jsx)(qe.a,{color:"primary",size:"small",checked:k.warp_sizing_wgst,onChange:function(e){D(e.target.checked,"warp_sizing_wgst")}}),label:"with GST"})]})},accessor:"sizing_rate",Footer:"check;",GST:!0},{Header:"Weight w/wastage(Kg)",accessor:"weight_wastage",readOnly:!0,showTotal:!0,CellValue:function(e){return It(e)}},{Header:"Warp cost(Rs)",accessor:"cost",readOnly:!0,showTotal:!0,CellValue:function(e){return It(e)}},{Header:"Warp sizing cost(Rs)",accessor:"sizing_cost",readOnly:!0,showTotal:!0,CellValue:function(e){return It(e)}}],O.gridCell,{depPath:"wpWarps",depPostReducer:"wpwarp"})}),[k.warp_sizing_wgst,k.warp_rate_wgst]),J=Object(r.useMemo)((function(){return Ht(["wefts"],S,"weft",[{Header:"Fabric",accessor:"fabric_type",default:"Cotton",type:"select",options:[{label:"Cotton",value:"Cotton"},{label:"Polyster",value:"Polyster"},{label:"Denear",value:"Denear"}]},{Header:"Count",accessor:"count"},{Header:"Perct.(%)",accessor:"perct"},{Header:"Wastage(%)",accessor:"wastage"},{Header:function(){return Object(p.jsxs)(p.Fragment,{children:["Rate(Rs per Kg)",Object(p.jsx)(Z.a,{control:Object(p.jsx)(qe.a,{color:"primary",size:"small",checked:k.weft_rate_wgst,onChange:function(e){V(e.target.checked,"weft_rate_wgst")}}),label:"with GST"})]})},accessor:"rate"},{Header:"Weight w/wastage(Kg)",accessor:"weight_wastage",readOnly:!0,showTotal:!0,CellValue:function(e){return It(e)}},{Header:"Weft cost(Rs)",accessor:"cost",readOnly:!0,showTotal:!0,CellValue:function(e){return It(e)}}],O.gridCell,{depPath:"wpWefts",depPostReducer:"wpweft"})}),[k.weft_rate_wgst]),Y=Object(r.useMemo)((function(){return Ht(["wpWarps"],S,"wpwarp",[{Header:"Warp Count",accessor:"count",readOnly:!0},{Header:"Bag Wt.",accessor:"bag_wt"},{Header:"Bag Packing",accessor:"bag_pack"},{Header:"Kg/Cone",accessor:"kg_per_cone",readOnly:!0,CellValue:function(e){return It(e)}},{Header:"Bottom Cone",accessor:"bottom_cone",default:50},{Header:"Cone Measure",accessor:"cone_measure",readOnly:!0,CellValue:function(e){return It(e)}},{Header:"Part",accessor:"part"},{Header:"Multi-Part",accessor:"multipart",default:1,warn:function(e){return 1!=e}},{Header:"Tara",accessor:"tara",readOnly:!0,CellValue:function(e){return It(e)}},{Header:"Sizing Measure",accessor:"sizing_measure",readOnly:!0,CellValue:function(e){return It(e)}},{Header:"Fabric Measure",accessor:"fabric_measure",readOnly:!0,CellValue:function(e){return It(e)}},{Header:"Warp Bags",accessor:"warp_bags",readOnly:!0,CellValue:function(e){return It(e)}},{Header:"Total Warp(Kg)",accessor:"total_warp_kg",readOnly:!0,CellValue:function(e){return It(e)}},{Header:"No of Beams",accessor:"beams"},{Header:"Per Beam",accessor:"per_beam",readOnly:!0,CellValue:function(e){return It(e)}}],O.gridCell,{},!1)}),[]),Q=Object(r.useMemo)((function(){return Ht(["wpWefts"],S,"wpweft",[{Header:"Weft Count",accessor:"count",readOnly:!0},{Header:"Bag Wt.",accessor:"bag_wt"},{Header:"Bag Packing",accessor:"bag_pack"},{Header:"Weft Bags",accessor:"weft_bags",readOnly:!0,CellValue:function(e){return It(e)}},{Header:"Total Weft(Kg)",accessor:"total_weft_kg",readOnly:!0,CellValue:function(e){return It(e)}}],O.gridCell,{},!1)}),[]),X=function(e){var t={};return e.forEach((function(e){var a;(null===(a=e.id)||void 0===a?void 0:a.startsWith("btn"))||de.a.isUndefined(e.accessor)||(t[e.accessor]=de.a.isUndefined(e.default)?0:e.default)})),t},ee=Object(r.useRef)(),te=(Object(H.a)(),Math.ceil((k.margin_table||[]).length/3)),ae=c.a.useState(0),ne=Object(P.a)(ae,2),re=ne[0],ce=ne[1];return Object(p.jsxs)(Ke.a,{disableEscapeKeyDown:!0,open:a,fullScreen:!0,scroll:"paper",TransitionProps:{enter:!1,exit:!1},children:[Object(p.jsxs)(Ue.a,{id:"simple-dialog-title",children:[Object(p.jsx)($.a,{onClick:function(){return n(g.current)},style:{marginRight:"0.5rem"},children:Object(p.jsx)(at.a,{})}),I?"Update quality":"Add new quality"]}),Object(p.jsxs)(Je.a,{dividers:!0,children:[Object(p.jsxs)(je,{children:[Object(p.jsx)(be,{children:Object(p.jsx)(he,{autoFocus:!0,label:"Name",name:"name",value:m.name,errorMsg:B.name,onChange:F})}),Object(p.jsx)(be,{children:Object(p.jsx)(fe,{label:"Agent",name:"agentId",options:o,isClearable:!0,value:de.a.find(o,(function(e){return e.value==m.agentId})),errorMsg:B.agentId,onChange:function(e){F(null===e||void 0===e?void 0:e.value,"agentId")}})}),Object(p.jsx)(be,{children:Object(p.jsx)(fe,{label:"Party",name:"partyId",options:l,isClearable:!0,value:de.a.find(l,(function(e){return e.value==m.partyId})),errorMsg:B.partyId,onChange:function(e){F(null===e||void 0===e?void 0:e.value,"partyId")}})}),Object(p.jsx)(be,{children:Object(p.jsx)(he,{label:"Notes",name:"notes",value:m.notes,errorMsg:B.notes,onChange:F})})]}),Object(p.jsxs)(R.a,{display:"flex",flexDirection:"column",height:"100%",style:{minHeight:0},children:[Object(p.jsx)(R.a,{paddingTop:"0.5rem",paddingBottom:"0.5rem",children:Object(p.jsxs)(Xe.a,{size:"small",value:re,exclusive:!0,onChange:function(e,t){null!=t&&ce(t)},children:[Object(p.jsx)($e.a,{value:0,children:"Gray fabric"}),Object(p.jsx)($e.a,{value:1,children:"Finish fabric"}),Object(p.jsx)($e.a,{value:2,children:"Packing"}),Object(p.jsx)($e.a,{value:3,children:"Sizing Sets"})]})}),Object(p.jsxs)(nt,{value:re,index:0,children:[Object(p.jsxs)(q.a,{container:!0,spacing:1,children:[Object(p.jsx)(q.a,{item:!0,sm:12,md:12,lg:10,xl:10,children:Object(p.jsxs)(Ye.a,{style:{height:"100%"},children:[Object(p.jsx)(Et,{children:"Warp"}),Object(p.jsx)(G.a,{}),Object(p.jsx)(R.a,{style:{padding:"0.5rem"},children:Object(p.jsxs)(je,{children:[Object(p.jsx)(be,{children:Object(p.jsx)(he,{type:"number",label:"EPI/Reed(Inch)",name:"warp_reed",value:k.warp_reed,errorMsg:B.warp_reed,onChange:D,fullWidth:!0})}),Object(p.jsx)(be,{children:Object(p.jsx)(he,{type:"number",label:"Width/Panna(Inch)",name:"warp_panna",value:k.warp_panna,errorMsg:B.warp_panna,onChange:D})}),Object(p.jsx)(be,{children:Object(p.jsx)(he,{type:"number",label:"Extra Reed Space(Inch)",name:"warp_reed_space",value:k.warp_reed_space,errorMsg:B.warp_reed_space,onChange:D})}),Object(p.jsx)(be,{children:Object(p.jsx)(he,{type:"number",label:"Cut Mark/Lassa (".concat((de.a.find(it,(function(e){return e.value==s.lassa_unit}))||{label:""}).label,")"),name:"warp_lassa",value:k.warp_lassa,errorMsg:B.warp_lassa,onChange:D})}),Object(p.jsx)(be,{children:Object(p.jsx)(he,{type:"number",label:"Cut Length/L to L(Meter)",name:"warp_ltol",value:k.warp_ltol,errorMsg:B.warp_ltol,onChange:D})}),Object(p.jsx)(be,{children:Object(p.jsx)(he,{type:"number",label:"Ironing/Sizing Wt. increase(%)",name:"warp_iron_wt",value:k.warp_iron_wt,errorMsg:B.warp_iron_wt,onChange:D})}),Object(p.jsx)(be,{children:Object(p.jsx)(he,{type:"number",label:"Cramp(%)",name:"warp_cramp",value:k.warp_cramp,errorMsg:B.warp_cramp,onChange:D,readOnly:!0})}),Object(p.jsx)(be,{children:Object(p.jsx)(he,{type:"number",label:"Total ends",name:"warp_total_ends",value:It(k.warp_total_ends),readOnly:!0})})]})}),Object(p.jsx)(Ee,{columns:U,data:k.warps||[],showFooter:!0,tdClassName:O.inputGridTd,noRowsMessage:"Click on Add warp"}),Object(p.jsx)(E.a,{variant:"outlined",color:"primary",onClick:function(){S({type:"add_grid_row",path:"warps",value:X(U),postReducer:"warp",depPath:"wpWarps",depPostReducer:"wpwarp",depValue:X(Y)})},children:"Add warp"}),Object(p.jsx)(G.a,{style:{marginTop:"0.5rem"}}),Object(p.jsx)(Et,{children:"Weft"}),Object(p.jsx)(G.a,{}),Object(p.jsx)(R.a,{style:{padding:"0.5rem"},children:Object(p.jsxs)(je,{children:[Object(p.jsx)(be,{children:Object(p.jsx)(he,{type:"number",label:"Meter",name:"weft_meter",value:k.weft_meter,errorMsg:B.weft_meter,readOnly:!0})}),Object(p.jsx)(be,{children:Object(p.jsx)(he,{type:"number",label:"Width/Panna(Inch)",name:"weft_panna",value:k.weft_panna,errorMsg:B.panna,onChange:V})}),Object(p.jsx)(be,{children:Object(p.jsx)(he,{type:"number",label:"Exta Reed Space(Inch)",name:"weft_reed_space",value:k.weft_reed_space,errorMsg:B.reed_space,onChange:V})}),Object(p.jsx)(be,{children:Object(p.jsx)(he,{type:"number",label:"PPI(Pick)",name:"weft_pick",value:k.weft_pick,errorMsg:B.weft_pick,onChange:V})}),Object(p.jsx)(be,{children:Object(p.jsx)(he,{type:"number",label:"No. of insertion",name:"weft_insertion",value:k.weft_insertion,errorMsg:B.weft_insertion,onChange:V,warn:1!=k.weft_insertion})}),Object(p.jsx)(be,{children:Object(p.jsx)(he,{type:"number",label:"Job Rate(paise)",name:"weft_job_rate",value:k.weft_job_rate,errorMsg:B.weft_job_rate,onChange:V})}),Object(p.jsx)(be,{children:Object(p.jsx)(he,{type:"number",label:"Weaving charges",name:"weaving_charges",value:k.weaving_charges,readOnly:!0})})]})}),Object(p.jsx)(Ee,{columns:J,data:k.wefts||[],showFooter:!0,tdClassName:O.inputGridTd,noRowsMessage:"Click on Add weft"}),Object(p.jsx)(E.a,{variant:"outlined",color:"primary",onClick:function(){S({type:"add_grid_row",path:"wefts",value:X(J),postReducer:"weft",depPath:"wpWefts",depPostReducer:"wpweft",depValue:X(Q)})},children:"Add weft"})]})}),Object(p.jsx)(q.a,{item:!0,sm:12,md:12,lg:2,xl:2,children:Object(p.jsxs)(Ye.a,{style:{height:"100%"},children:[Object(p.jsx)(Et,{children:"Summary(Kg)"}),Object(p.jsx)(G.a,{}),Object(p.jsxs)(R.a,{style:{padding:"0.5rem"},children:[Object(p.jsx)(he,{type:"number",label:"Warp weight",name:"warp_weight",value:k.warp_weight,readOnly:!0}),Object(p.jsx)(R.a,{style:{marginTop:"0.5rem"},children:Object(p.jsx)(he,{type:"number",label:"Weft weight",name:"weft_weight",value:k.weft_weight,readOnly:!0})}),Object(p.jsx)(R.a,{style:{marginTop:"0.5rem"},children:Object(p.jsx)(he,{type:"number",label:"Total weight (GLM)",name:"total_weight_glm",value:k.total_weight_glm,readOnly:!0,highlight:!0})}),Object(p.jsx)(R.a,{style:{marginTop:"0.5rem"},children:Object(p.jsx)(he,{type:"number",label:"Total weight (GSM)",name:"total_weight_gsm",value:k.total_weight_gsm,readOnly:!0,highlight:!0})}),Object(p.jsx)(R.a,{style:{marginTop:"0.5rem"},children:Object(p.jsx)(he,{type:"number",label:"Warp weight w/wastage",name:"warp_weight_wastage",value:k.warp_weight_wastage,readOnly:!0})}),Object(p.jsx)(R.a,{style:{marginTop:"0.5rem"},children:Object(p.jsx)(he,{type:"number",label:"Weft weight w/wastage",name:"weft_weight_wastage",value:k.weft_weight_wastage,readOnly:!0})}),Object(p.jsx)(R.a,{style:{marginTop:"0.5rem"},children:Object(p.jsx)(he,{type:"number",label:"Total weight w/wastage",name:"total_weight_glm_wastage",value:k.total_weight_glm_wastage,readOnly:!0,highlight:!0})}),Object(p.jsx)(R.a,{style:{marginTop:"0.5rem"},children:Object(p.jsx)(he,{type:"number",label:"Production Cost",name:"prod_cost",value:k.prod_cost,readOnly:!0,highlight:!0})})]})]})})]}),Object(p.jsxs)(Ye.a,{style:{marginTop:"0.5rem"},children:[Object(p.jsx)(Et,{children:"Cost breakup"}),Object(p.jsx)(G.a,{}),Object(p.jsx)(R.a,{style:{padding:"0.5rem"},children:Object(p.jsxs)(q.a,{container:!0,spacing:1,children:[Object(p.jsx)(q.a,{item:!0,md:4,sm:12,xs:12,children:Object(p.jsxs)(De,{children:[Object(p.jsx)(Ve,{children:Object(p.jsx)(Le,{colSpan:4,className:O.borderBottom,style:{textAlign:"center"},children:Object(p.jsx)(A.a,{color:"secondary",children:"Gray Fabric"})})}),Object(p.jsxs)(Ve,{children:[Object(p.jsx)(Le,{}),Object(p.jsx)(Le,{}),Object(p.jsx)(Le,{children:Object(p.jsxs)(R.a,{children:["Production cost",Object(p.jsx)(pe,{children:Object(p.jsx)(R.a,{p:1,children:Object(p.jsx)(De,{children:(null===(t=k.breakups)||void 0===t?void 0:t.prod_cost)&&Object.keys(k.breakups.prod_cost).map((function(e){return Object(p.jsxs)(Ve,{children:[Object(p.jsx)(Le,{children:e}),Object(p.jsx)(Le,{children:k.breakups.prod_cost[e]})]},e)}))})})})]})})]}),Object(p.jsxs)(Ve,{children:[Object(p.jsx)(Le,{className:O.borderBottom}),Object(p.jsx)(Le,{className:O.borderBottom}),Object(p.jsx)(Le,{className:O.borderBottom,children:Object(p.jsx)(he,{type:"number",name:"prod_cost",value:k.prod_cost,readOnly:!0})})]}),Object(p.jsxs)(Ve,{children:[Object(p.jsx)(Le,{children:"Gray market price"}),Object(p.jsx)(Le,{children:Object(p.jsx)(he,{type:"number",name:"gray_market_price",value:k.gray_market_price,onChange:K})}),Object(p.jsx)(Le,{children:Object(p.jsx)(he,{type:"number",name:"gray_market_price",value:k.gray_market_price,readOnly:!0})})]}),Object(p.jsxs)(Ve,{children:[Object(p.jsx)(Le,{children:"Brokerage(%)"}),Object(p.jsx)(Le,{children:Object(p.jsx)(he,{type:"number",name:"gray_brokerage",value:k.gray_brokerage,onChange:K})}),Object(p.jsx)(Le,{children:Object(p.jsx)(he,{type:"number",name:"gray_brokerage_calc",value:k.gray_brokerage_calc,readOnly:!0})})]}),Object(p.jsxs)(Ve,{children:[Object(p.jsx)(Le,{children:"Interest(%)"}),Object(p.jsx)(Le,{children:Object(p.jsx)(he,{type:"number",name:"gray_interest",value:k.gray_interest,onChange:K})}),Object(p.jsx)(Le,{children:Object(p.jsx)(he,{type:"number",name:"gray_interest_calc",value:k.gray_interest_calc,readOnly:!0})})]}),Object(p.jsxs)(Ve,{children:[Object(p.jsx)(Le,{children:"Cash discount(%)"}),Object(p.jsx)(Le,{children:Object(p.jsx)(he,{type:"number",name:"gray_cashdisc",value:k.gray_cashdisc,onChange:K})}),Object(p.jsx)(Le,{children:Object(p.jsx)(he,{type:"number",name:"gray_cashdisc_calc",value:k.gray_cashdisc_calc,readOnly:!0})})]}),Object(p.jsxs)(Ve,{children:[Object(p.jsx)(Le,{children:"Others(%)"}),Object(p.jsx)(Le,{children:Object(p.jsx)(he,{type:"number",name:"gray_others",value:k.gray_others,onChange:K})}),Object(p.jsx)(Le,{children:Object(p.jsx)(he,{type:"number",name:"gray_others_calc",value:k.gray_others_calc,readOnly:!0})})]}),Object(p.jsxs)(Ve,{children:[Object(p.jsx)(Le,{className:O.borderTop}),Object(p.jsx)(Le,{className:Object(ie.a)(O.borderTop,O.alignRight),children:"Total"}),Object(p.jsx)(Le,{className:O.borderTop,children:Object(p.jsx)(he,{type:"number",name:"gray_total",value:k.gray_total,readOnly:!0,highlight:!0})})]}),Object(p.jsxs)(Ve,{children:[Object(p.jsx)(Le,{}),Object(p.jsx)(Le,{className:O.alignRight,children:"Profit(%)"}),Object(p.jsx)(Le,{children:Object(p.jsx)(he,{type:"number",name:"gray_profit",value:k.gray_profit,readOnly:!0,profit:!0})})]}),Object(p.jsxs)(Ve,{children:[Object(p.jsx)(Le,{}),Object(p.jsx)(Le,{className:O.alignRight,children:"Reverse Job Rate(Paise)"}),Object(p.jsx)(Le,{children:Object(p.jsx)(he,{type:"number",name:"gray_revjobrate",value:k.gray_revjobrate,readOnly:!0,highlight:!0})})]})]})}),Object(p.jsx)(q.a,{item:!0,md:1,sm:12,xs:12}),Object(p.jsx)(q.a,{item:!0,md:7,sm:12,xs:12,children:Object(p.jsxs)(De,{children:[Object(p.jsx)(Ve,{children:Object(p.jsx)(Le,{colSpan:99,className:O.borderBottom,style:{textAlign:"center"},children:Object(p.jsx)(A.a,{color:"secondary",children:"Margin Table"})})}),Object(T.a)(new Array(te)).map((function(e,t){var a=k.margin_table||[];return Object(p.jsxs)(Ve,{children:[Object(p.jsxs)(Le,{className:O.mtPerct,children:[0+t+1,"%"]}),Object(p.jsx)(Le,{children:a[0+t]}),te+t<a.length&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(Le,{className:O.mtPerct,children:[te+t+1,"%"]}),Object(p.jsx)(Le,{children:a[te+t]})]}),2*te+t<a.length&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(Le,{className:O.mtPerct,children:[2*te+t+1,"%"]}),Object(p.jsx)(Le,{children:a[2*te+t]})]})]},t)}))]})})]})})]})]}),Object(p.jsx)(nt,{value:re,index:1,children:Object(p.jsx)(R.a,{style:{padding:"0.5rem"},children:Object(p.jsx)(q.a,{container:!0,spacing:1,children:Object(p.jsx)(q.a,{item:!0,md:7,sm:12,xs:12,children:Object(p.jsxs)(De,{children:[Object(p.jsx)(Ve,{children:Object(p.jsx)(Le,{colSpan:4,className:O.borderBottom,style:{textAlign:"center"},children:Object(p.jsx)(A.a,{color:"secondary",children:"Finish Fabric"})})}),Object(p.jsxs)(Ve,{children:[Object(p.jsx)(Le,{}),Object(p.jsx)(Le,{}),Object(p.jsx)(Le,{children:"Production cost"}),Object(p.jsx)(Le,{children:"Gray market price"})]}),Object(p.jsxs)(Ve,{children:[Object(p.jsx)(Le,{className:O.borderBottom}),Object(p.jsx)(Le,{className:O.borderBottom}),Object(p.jsx)(Le,{className:O.borderBottom,children:Object(p.jsx)(he,{type:"number",name:"prod_cost",value:k.prod_cost,readOnly:!0})}),Object(p.jsx)(Le,{className:O.borderBottom,children:Object(p.jsx)(he,{type:"number",name:"fin_gray_price",value:k.fin_gray_price,onChange:K})})]}),Object(p.jsxs)(Ve,{children:[Object(p.jsx)(Le,{children:"Process Charge(Rs.)"}),Object(p.jsx)(Le,{children:Object(p.jsx)(he,{type:"number",name:"fin_process_charge",value:k.fin_process_charge,onChange:K})}),Object(p.jsx)(Le,{children:Object(p.jsx)(he,{type:"number",name:"fin_process_charge",value:k.fin_process_charge,readOnly:!0})}),Object(p.jsx)(Le,{children:Object(p.jsx)(he,{type:"number",name:"fin_process_charge",value:k.fin_process_charge,readOnly:!0})})]}),Object(p.jsxs)(Ve,{children:[Object(p.jsx)(Le,{children:Object(p.jsx)(xe,{name:"fin_elongshrink_opt",value:k.fin_elongshrink_opt,options:[{label:"Elongation %",value:"elongation"},{label:"Shrinkage %",value:"shrinkage"}],onChange:K})}),Object(p.jsx)(Le,{children:Object(p.jsx)(he,{type:"number",name:"fin_elongshrink",value:k.fin_elongshrink,onChange:K,fullWidth:!0})}),Object(p.jsx)(Le,{children:Object(p.jsx)(he,{type:"number",name:"fin_prod_elongshrink",value:k.fin_prod_elongshrink,readOnly:!0})}),Object(p.jsx)(Le,{children:Object(p.jsx)(he,{type:"number",name:"fin_gray_elongshrink",value:k.fin_gray_elongshrink,readOnly:!0})})]}),Object(p.jsxs)(Ve,{children:[Object(p.jsx)(Le,{children:"Wastage(%)"}),Object(p.jsx)(Le,{children:Object(p.jsx)(he,{type:"number",name:"fin_wastage",value:k.fin_wastage,onChange:K,fullWidth:!0})}),Object(p.jsx)(Le,{children:Object(p.jsx)(he,{type:"number",name:"fin_prod_wastage",value:k.fin_prod_wastage,readOnly:!0})}),Object(p.jsx)(Le,{children:Object(p.jsx)(he,{type:"number",name:"fin_gray_wastage",value:k.fin_gray_wastage,readOnly:!0})})]}),Object(p.jsxs)(Ve,{children:[Object(p.jsx)(Le,{children:"Packing Charges(Rs)"}),Object(p.jsx)(Le,{children:Object(p.jsx)(he,{type:"number",name:"fin_packing",value:k.fin_packing,onChange:K,fullWidth:!0})}),Object(p.jsx)(Le,{children:Object(p.jsx)(he,{type:"number",name:"fin_packing",value:k.fin_packing,readOnly:!0})}),Object(p.jsx)(Le,{children:Object(p.jsx)(he,{type:"number",name:"fin_packing",value:k.fin_packing,readOnly:!0})})]}),Object(p.jsxs)(Ve,{children:[Object(p.jsx)(Le,{children:"Others(Rs)"}),Object(p.jsx)(Le,{children:Object(p.jsx)(he,{type:"number",name:"fin_others",value:k.fin_others,onChange:K,fullWidth:!0})}),Object(p.jsx)(Le,{children:Object(p.jsx)(he,{type:"number",name:"fin_others",value:k.fin_others,readOnly:!0})}),Object(p.jsx)(Le,{children:Object(p.jsx)(he,{type:"number",name:"fin_others",value:k.fin_others,readOnly:!0})})]}),Object(p.jsxs)(Ve,{children:[Object(p.jsx)(Le,{className:O.borderTop}),Object(p.jsx)(Le,{className:Object(ie.a)(O.borderTop,O.alignRight),children:"Total"}),Object(p.jsx)(Le,{className:O.borderTop,children:Object(p.jsx)(he,{type:"number",name:"fin_prod_total",value:k.fin_prod_total,readOnly:!0,highlight:!0})}),Object(p.jsx)(Le,{className:O.borderTop,children:Object(p.jsx)(he,{type:"number",name:"fin_gray_total",value:k.fin_gray_total,readOnly:!0,highlight:!0})})]}),Object(p.jsxs)(Ve,{children:[Object(p.jsx)(Le,{}),Object(p.jsx)(Le,{}),Object(p.jsx)(Le,{children:"Profit(%)"}),Object(p.jsx)(Le,{children:"Profit(%)"})]}),Object(p.jsxs)(Ve,{children:[Object(p.jsx)(Le,{children:"Finish Fabric Market Price"}),Object(p.jsx)(Le,{children:Object(p.jsx)(he,{type:"number",name:"fin_market_price",value:k.fin_market_price,onChange:K,fullWidth:!0})}),Object(p.jsx)(Le,{children:Object(p.jsx)(he,{type:"number",name:"fin_prod_profit",value:k.fin_prod_profit,readOnly:!0,profit:!0})}),Object(p.jsx)(Le,{children:Object(p.jsx)(he,{type:"number",name:"fin_gray_profit",value:k.fin_gray_profit,readOnly:!0,profit:!0})})]}),Object(p.jsxs)(Ve,{children:[Object(p.jsx)(Le,{children:"Reverse Gray Market Price"}),Object(p.jsx)(Le,{children:Object(p.jsx)(he,{type:"number",name:"fin_rev_gray_price",value:k.fin_rev_gray_price,readOnly:!0})}),Object(p.jsx)(Le,{}),Object(p.jsx)(Le,{})]})]})})})})}),Object(p.jsx)(nt,{value:re,index:2,children:Object(p.jsxs)(Ye.a,{style:{height:"100%"},children:[Object(p.jsx)(Et,{children:"Warp required"}),Object(p.jsx)(G.a,{}),Object(p.jsx)(Ee,{columns:Y,data:k.wpWarps||[],tdClassName:O.inputGridTd}),Object(p.jsx)(Et,{children:"Weft required"}),Object(p.jsx)(G.a,{}),Object(p.jsx)(R.a,{style:{padding:"0.5rem"},children:Object(p.jsxs)(je,{children:[Object(p.jsx)(be,{children:Object(p.jsx)(he,{type:"number",label:"Fabric Meter",name:"wp_fabric_meter",value:k.wp_fabric_meter,onChange:L})}),Object(p.jsx)(be,{}),Object(p.jsx)(be,{}),Object(p.jsx)(be,{}),Object(p.jsx)(be,{}),Object(p.jsx)(be,{})]})}),Object(p.jsx)(Ee,{columns:Q,data:k.wpWefts||[],tdClassName:O.inputGridTd}),Object(p.jsx)(Et,{children:"Add to set"}),Object(p.jsx)(G.a,{}),Object(p.jsx)(R.a,{style:{padding:"1rem 0.5rem"},children:Object(p.jsx)(Mt,{apiObj:h,qid:m.id,sizingOpts:j,data:{wpWarps:k.wpWarps,wpWefts:k.wpWefts},qualityName:m.name})})]})}),Object(p.jsx)(nt,{value:re,index:3,children:Object(p.jsx)(Pt,{apiObj:h,sizingOpts:j,qid:m.id})})]}),Object(p.jsx)(R.a,{display:"none",children:Object(p.jsx)(Vt,{fieldsData:k,printRef:ee,warpCols:U,weftCols:J})})]}),Object(p.jsxs)(Qe.a,{style:{justifyContent:"flex-start"},children:[Object(p.jsx)(E.a,{variant:"contained",onClick:function(){return z()},color:"primary",disabled:!Boolean(m.name),children:"Save"}),Object(p.jsx)(E.a,{variant:"contained",onClick:function(){return z(!0)},color:"primary",disabled:!Boolean(m.name)||!Boolean(m.id),children:"Copy and Save"}),Object(p.jsx)(E.a,{variant:"outlined",color:"primary",onClick:function(){return n(g.current)},style:{marginLeft:"0.5rem"},children:"Close"})]})]})})),qt=a(893),Kt=a(425),Ut=a.n(Kt),Jt=a(892);function Yt(e){var t=e.open,a=e.onClose,n=e.title,r=e.content,c=e.onConfirm;return Object(p.jsxs)(Ke.a,{open:t,onClose:a,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,children:[Object(p.jsx)(Ue.a,{id:"alert-dialog-title",children:n}),Object(p.jsx)(Je.a,{dividers:!0,children:Object(p.jsx)(Jt.a,{id:"alert-dialog-description",children:r})}),Object(p.jsxs)(Qe.a,{children:[Object(p.jsx)(E.a,{onClick:a,color:"secondary",variant:"outlined",children:"Cancel"}),Object(p.jsx)(E.a,{onClick:c,color:"primary",variant:"contained",autoFocus:!0,children:"Yes"})]})]})}var Qt=a(424),$t=a.n(Qt),Xt=a(423),Zt=a.n(Xt),ea=void 0,ta=Object(M.a)((function(e){return{root:{display:"flex",flexDirection:"column",height:"100%"},searchbar:{padding:e.spacing(1)},gridarea:{padding:e.spacing(0,1),flexGrow:1},expandTd:{padding:"8px"},expandTdTitle:{marginBottom:"8px",color:e.palette.secondary.main}}}));function aa(e){return e.response?de.a.isString(e.response.data.message)?e.response.data.message:e.response.statusText+". Contact administrator.":e.request?"Not able to send the request. Contact administrator.":"Some error occurred. Contact administrator."}function na(e){var t=e.apiObj,a=e.row,n=e.agentOpts,c=e.partyOpts,i=ta(),s=Object(r.useState)(null),o=Object(P.a)(s,2),l=o[0],d=o[1];if(Object(r.useEffect)((function(){(function(){var e=Object(ze.a)(Ae.a.mark((function e(){var n;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get(ke+"/"+a.original.id);case 2:n=e.sent,d(n.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),!l)return Object(p.jsx)("span",{children:"Loading..."});var u=[{Header:"Date",accessor:"date",width:"10%"},{Header:"Name",accessor:"name",width:"25%"},{Header:"EPI/Reed(Inch)",accessor:"dispReed",width:"10%"},{Header:"PPI(Pick)",accessor:"dispPick",width:"10%"},{Header:"Production Cost",accessor:"dispProdCost",width:"15%"},{Header:"Agent",accessor:"agentId",width:"20%",Cell:function(e){var t=e.value;return Object(p.jsx)("span",{children:(de.a.find(n,(function(e){return e.value==t}))||{}).label})}},{Header:"Party",accessor:"partyId",width:"20%",Cell:function(e){var t=e.value;return Object(p.jsx)("span",{children:(de.a.find(c,(function(e){return e.value==t}))||{}).label})}},{Header:"Notes",accessor:"notes",width:"35%",Cell:function(e){var t=e.value;return Object(p.jsx)("span",{children:t})}}];return Object(p.jsxs)("div",{colSpan:"100%",className:i.expandTd,children:[Object(p.jsx)("div",{className:i.expandTdTitle,children:"History"}),Object(p.jsx)(Ee,{columns:u,data:l,fixedLayout:!0,noRowsMessage:"No history"})]})}var ra=Object(S.b)((function(){return{}}),(function(e){return{setNotification:function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];e(k.apply(ea,a))},clearNotification:function(){e(k(null,null))}}}))((function(e){var t=ta(),a=Object(r.useState)(!1),n=Object(P.a)(a,2),c=n[0],i=n[1],s=Object(r.useState)(null),o=Object(P.a)(s,2),l=o[0],j=o[1],b=Object(r.useState)([]),O=Object(P.a)(b,2),h=O[0],g=O[1],f=Object(r.useState)([]),x=Object(P.a)(f,2),m=x[0],v=x[1],y=Object(r.useState)([]),C=Object(P.a)(y,2),k=C[0],S=C[1],N=Object(r.useState)([]),W=Object(P.a)(N,2),M=W[0],B=W[1],I=Object(r.useState)(!1),A=Object(P.a)(I,2),z=A[0],F=A[1],H=Object(r.useRef)(),D=Object(r.useMemo)((function(){return Me()}),[]),V=e.activation.is_trial&&e.activation.usage_days_left<=0;Object(r.useEffect)(Object(ze.a)(Ae.a.mark((function t(){var a;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D.get(Ne);case 3:return a=t.sent,g((a.data||[]).map((function(e){return{label:e.name,value:e.id}}))),t.next=7,D.get(Te);case 7:return a=t.sent,v((a.data||[]).map((function(e){return{label:e.name,value:e.id}}))),t.next=11,D.get(Pe);case 11:return a=t.sent,S((a.data||[]).map((function(e){return{label:e.name,value:e.id}}))),t.next=15,D.get(_e);case 15:a=t.sent,B(a.data),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(0),e.setNotification(w,aa(t.t0));case 22:case"end":return t.stop()}}),t,null,[[0,19]])}))),[]);var G=Object(r.useMemo)((function(){return[{Header:"",id:"btn-expand",width:"30px",Cell:function(e){e.value;var t=e.row;return Object(p.jsx)($.a,{onClick:function(){t.toggleRowExpanded(!t.isExpanded)},children:t.isExpanded?Object(p.jsx)(Zt.a,{}):Object(p.jsx)($t.a,{})})}},{Header:"",id:"btn-del",width:"30px",Cell:function(e){e.value;var t=e.row;return Object(p.jsx)($.a,{onClick:function(){j(t.original.id),F(!0)},children:Object(p.jsx)(Ut.a,{})})}},{Header:"Name",accessor:"name",width:"25%",Cell:function(e){var t=e.value,a=e.row;return Object(p.jsx)(L.a,{onClick:function(){V||(j(a.original.id),i(!0))},href:"#",children:t})}},{Header:"EPI/Reed(Inch)",accessor:"dispReed",width:"10%"},{Header:"PPI(Pick)",accessor:"dispPick",width:"10%"},{Header:"Production Cost",accessor:"dispProdCost",width:"15%"},{Header:"Agent",accessor:"agentId",width:"20%",Cell:function(e){var t=e.value;return Object(p.jsx)("span",{children:(de.a.find(h,(function(e){return e.value==t}))||{}).label})}},{Header:"Party",accessor:"partyId",width:"20%",Cell:function(e){var t=e.value;return Object(p.jsx)("span",{children:(de.a.find(m,(function(e){return e.value==t}))||{}).label})}},{Header:"Notes",accessor:"notes",width:"35%",Cell:function(e){var t=e.value;return Object(p.jsx)("span",{children:t})}}]}),[V,h,m]),q=Object(r.useState)({}),K=Object(P.a)(q,2),U=K[0],J=K[1],Y=Object(r.useCallback)((function(e,t){var a=e;e&&e.target&&(t=e.target.name,a=e.target.value),J((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(u.a)({},t,a))}))})),Q=[];return U.text&&""!=U.text.trim()&&Q.push({id:"name",value:U.text}),U.agentId&&Q.push({id:"agentId",value:U.agentId}),U.partyId&&Q.push({id:"partyId",value:U.partyId}),Object(p.jsxs)(R.a,{children:[Object(p.jsxs)(R.a,{className:t.root,ref:H,children:[Object(p.jsxs)(R.a,{className:t.searchbar,children:[Object(p.jsxs)(je,{children:[Object(p.jsx)(be,{children:Object(p.jsx)(he,{autoFocus:!0,label:"Search name",name:"text",value:U.text,onChange:Y})}),Object(p.jsx)(be,{children:Object(p.jsx)(fe,{label:"Agent",name:"agentId",options:h,isClearable:!0,value:de.a.find(h,(function(e){return e.value==U.agentId})),onChange:function(e){Y(null===e||void 0===e?void 0:e.value,"agentId")}})}),Object(p.jsx)(be,{children:Object(p.jsx)(fe,{label:"Party",name:"partyId",options:m,isClearable:!0,value:de.a.find(m,(function(e){return e.value==U.partyId})),onChange:function(e){Y(null===e||void 0===e?void 0:e.value,"partyId")}})}),Object(p.jsx)(be,{})]}),Object(p.jsx)(R.a,{style:{marginTop:"0.5rem"},children:Object(p.jsx)(E.a,{variant:"contained",color:"primary",onClick:function(){j(null),i(!0)},disableElevation:!0,disabled:V,startIcon:Object(p.jsx)(qt.a,{}),children:"Add new quality"})})]}),Object(p.jsx)(R.a,{className:t.gridarea,children:Object(p.jsx)(Ee,{columns:G,data:M,fixedLayout:!0,noRowsMessage:"Click on add new quality",filterObj:Q,onExpand:function(e){return Object(p.jsx)(na,{apiObj:D,row:e,columns:G,agentOpts:h,partyOpts:m})}})})]}),Object(p.jsx)(Gt,{open:c,onClose:function(e){(null===e||void 0===e?void 0:e.id)&&B((function(t){var a=de.a.findIndex(M,(function(t){return t.id==e.id}));return a>=0?[].concat(Object(T.a)(t.slice(0,a)),[e],Object(T.a)(t.slice(a+1))):[].concat(Object(T.a)(t),[e])})),i(!1)},selId:l,agentOpts:h,partyOpts:m,sizingOpts:k}),Object(p.jsx)(Yt,{open:z,onClose:function(){return F(!1)},title:"Delete ?",content:"Are you sure you want to delete this quality ?",onConfirm:function(){var t;t=l,D.delete(_e+"/"+t).then((function(){e.setNotification(_,"Quality delete successfully"),B((function(e){var a=de.a.findIndex(M,(function(e){return e.id==t}));return a>0?[].concat(Object(T.a)(e.slice(0,a)),Object(T.a)(e.slice(a+1))):e}))})).catch((function(t){e.setNotification(w,aa(t))})),F(!1)}})]})})),ca=void 0,ia=Object(M.a)((function(e){return{root:{display:"flex",flexDirection:"column",height:"100%"},searchbar:{display:"flex",padding:e.spacing(1,0)},gridarea:{flexGrow:1}}}));function sa(e){var t=e.apiObj,a=e.selData,n=e.onClose,c=Object(W.a)(e,["apiObj","selData","onClose"]),i={name:""},s=Object(r.useState)({}),o=Object(P.a)(s,2),l=o[0],j=o[1],b=Object(r.useState)(!1),O=Object(P.a)(b,2),h=O[0],g=O[1],f=Boolean(null===a||void 0===a?void 0:a.id);Object(r.useEffect)((function(){c.open&&(g(!1),j(f?a:i))}),[c.open]);var x=Object(r.useCallback)((function(e,t){var a=e;e&&e.target&&(t=e.target.name,a=e.target.value),j((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(u.a)({},t,a))}))}),[]),m=function(){var e=Object(ze.a)(Ae.a.mark((function e(){var a;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g(!0),e.prev=1,!l.id){e.next=8;break}return e.next=5,t.put(Ne+"/"+l.id,l);case 5:n(l),e.next=12;break;case 8:return e.next=10,t.post(Ne,l);case 10:a=e.sent,n(Object(d.a)({id:a.data},l));case 12:c.setNotification(_,"Agent details saved succesfully"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),c.setNotification(w,Object(me.getAxiosErr)(e.t0));case 18:g(!1);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(){return e.apply(this,arguments)}}();return Object(p.jsx)(Ot,Object(d.a)(Object(d.a)({onSave:m,isSaving:h,onClose:function(){return n()}},c),{},{children:Object(p.jsx)(he,{name:"name",type:"text",label:"Agent Name",value:l.name,onChange:x,autoFocus:!0})}))}var oa=Object(S.b)((function(e){return{settings:y(e)}}),(function(e){return{setNotification:function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];e(k.apply(ca,a))}}}))((function(e){var t=e.apiObj,a=e.licExpired,n=Object(W.a)(e,["apiObj","licExpired"]),c=ia(),i=Object(r.useState)([]),s=Object(P.a)(i,2),o=s[0],l=s[1],d=Object(r.useState)(""),u=Object(P.a)(d,2),j=u[0],b=u[1],O=Object(r.useState)(!1),h=Object(P.a)(O,2),g=h[0],f=h[1],x=Object(r.useState)(null),m=Object(P.a)(x,2),v=m[0],y=m[1];Object(r.useEffect)(Object(ze.a)(Ae.a.mark((function e(){var a;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.get(Ne);case 3:a=e.sent,l(a.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n.setNotification(w,Object(me.getAxiosErr)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]);var _=Object(r.useMemo)((function(){return[{Header:"Agent Name",accessor:"name",width:"100%",Cell:function(e){var t=e.value,n=e.row;return Object(p.jsx)(L.a,{onClick:function(){a||(y(n.original),f(!0))},href:"#",children:t})}}]}),[a]);return Object(p.jsxs)(R.a,{className:c.root,children:[Object(p.jsxs)(R.a,{className:c.searchbar,children:[Object(p.jsx)(Y.a,{value:j,onChange:function(e){b(e.target.value)},style:{minWidth:"20%"},placeholder:"Search agent"}),Object(p.jsx)(E.a,{variant:"contained",color:"primary",onClick:function(){y(null),f(!0)},style:{marginLeft:"0.5rem"},disabled:a,startIcon:Object(p.jsx)(qt.a,{}),children:"Add new agent"})]}),Object(p.jsx)(R.a,{className:c.gridarea,children:Object(p.jsx)(Ee,{columns:_,data:o,filterText:j,fixedLayout:!0,noRowsMessage:"Click on add new agent"})}),Object(p.jsx)(sa,{apiObj:t,title:(null===v||void 0===v?void 0:v.id)?"Update Agent":"Add Agent",open:g,onClose:function(e){f(!1),(null===e||void 0===e?void 0:e.id)&&l((function(t){var a=de.a.findIndex(t,(function(t){return t.id==e.id}));return a>=0?[].concat(Object(T.a)(t.slice(0,a)),[e],Object(T.a)(t.slice(a+1))):[].concat(Object(T.a)(t),[e])}))},selData:v,setNotification:n.setNotification})]})})),la=void 0,da=Object(M.a)((function(e){return{root:{display:"flex",flexDirection:"column",height:"100%"},searchbar:{display:"flex",padding:e.spacing(1,0)},gridarea:{flexGrow:1}}}));function ua(e){var t=e.apiObj,a=e.selData,n=e.onClose,c=Object(W.a)(e,["apiObj","selData","onClose"]),i={name:""},s=Object(r.useState)({}),o=Object(P.a)(s,2),l=o[0],j=o[1],b=Object(r.useState)(!1),O=Object(P.a)(b,2),h=O[0],g=O[1],f=Boolean(null===a||void 0===a?void 0:a.id);Object(r.useEffect)((function(){c.open&&(g(!1),j(f?a:i))}),[c.open]);var x=Object(r.useCallback)((function(e,t){var a=e;e&&e.target&&(t=e.target.name,a=e.target.value),j((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(u.a)({},t,a))}))}),[]),m=function(){var e=Object(ze.a)(Ae.a.mark((function e(){var a;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g(!0),e.prev=1,!l.id){e.next=8;break}return e.next=5,t.put(Te+"/"+l.id,l);case 5:n(l),e.next=12;break;case 8:return e.next=10,t.post(Te,l);case 10:a=e.sent,n(Object(d.a)({id:a.data},l));case 12:c.setNotification(_,"Party details saved succesfully"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),c.setNotification(w,Object(me.getAxiosErr)(e.t0));case 18:g(!1);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(){return e.apply(this,arguments)}}();return Object(p.jsx)(Ot,Object(d.a)(Object(d.a)({onSave:m,isSaving:h,onClose:function(){return n()}},c),{},{children:Object(p.jsx)(he,{name:"name",type:"text",label:"Party Name",value:l.name,onChange:x,autoFocus:!0})}))}var ja=Object(S.b)((function(e){return{settings:y(e)}}),(function(e){return{setNotification:function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];e(k.apply(la,a))}}}))((function(e){var t=e.apiObj,a=e.licExpired,n=Object(W.a)(e,["apiObj","licExpired"]),c=da(),i=Object(r.useState)([]),s=Object(P.a)(i,2),o=s[0],l=s[1],d=Object(r.useState)(""),u=Object(P.a)(d,2),j=u[0],b=u[1],O=Object(r.useState)(!1),h=Object(P.a)(O,2),g=h[0],f=h[1],x=Object(r.useState)(null),m=Object(P.a)(x,2),v=m[0],y=m[1];Object(r.useEffect)(Object(ze.a)(Ae.a.mark((function e(){var a;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.get(Te);case 3:a=e.sent,l(a.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n.setNotification(w,Object(me.getAxiosErr)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]);var _=Object(r.useMemo)((function(){return[{Header:"Party Name",accessor:"name",width:"100%",Cell:function(e){var t=e.value,n=e.row;return Object(p.jsx)(L.a,{onClick:function(){a||(y(n.original),f(!0))},href:"#",children:t})}}]}),[a]);return Object(p.jsxs)(R.a,{className:c.root,children:[Object(p.jsxs)(R.a,{className:c.searchbar,children:[Object(p.jsx)(Y.a,{value:j,onChange:function(e){b(e.target.value)},style:{minWidth:"20%"},placeholder:"Search party"}),Object(p.jsx)(E.a,{variant:"contained",color:"primary",onClick:function(){y(null),f(!0)},style:{marginLeft:"0.5rem"},disabled:a,startIcon:Object(p.jsx)(qt.a,{}),children:"Add new party"})]}),Object(p.jsx)(R.a,{className:c.gridarea,children:Object(p.jsx)(Ee,{columns:_,data:o,filterText:j,fixedLayout:!0,noRowsMessage:"Click on add new party"})}),Object(p.jsx)(ua,{apiObj:t,title:(null===v||void 0===v?void 0:v.id)?"Update Party":"Add Party",open:g,onClose:function(e){f(!1),(null===e||void 0===e?void 0:e.id)&&l((function(t){var a=de.a.findIndex(t,(function(t){return t.id==e.id}));return a>=0?[].concat(Object(T.a)(t.slice(0,a)),[e],Object(T.a)(t.slice(a+1))):[].concat(Object(T.a)(t),[e])}))},selData:v,setNotification:n.setNotification})]})})),ba=void 0,pa=Object(M.a)((function(e){return{root:{display:"flex",flexDirection:"column",height:"100%"},searchbar:{display:"flex",padding:e.spacing(1,0)},gridarea:{flexGrow:1}}}));function Oa(e){var t=e.apiObj,a=e.selData,n=e.onClose,c=Object(W.a)(e,["apiObj","selData","onClose"]),i={name:""},s=Object(r.useState)({}),o=Object(P.a)(s,2),l=o[0],j=o[1],b=Object(r.useState)(!1),O=Object(P.a)(b,2),h=O[0],g=O[1],f=Boolean(null===a||void 0===a?void 0:a.id);Object(r.useEffect)((function(){c.open&&(g(!1),j(f?a:i))}),[c.open]);var x=Object(r.useCallback)((function(e,t){var a=e;e&&e.target&&(t=e.target.name,a=e.target.value),j((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(u.a)({},t,a))}))}),[]),m=function(){var e=Object(ze.a)(Ae.a.mark((function e(){var a;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g(!0),e.prev=1,!l.id){e.next=8;break}return e.next=5,t.put(Pe+"/"+l.id,l);case 5:n(l),e.next=12;break;case 8:return e.next=10,t.post(Pe,l);case 10:a=e.sent,n(Object(d.a)({id:a.data},l));case 12:c.setNotification(_,"Sizing details saved succesfully"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),c.setNotification(w,Object(me.getAxiosErr)(e.t0));case 18:g(!1);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(){return e.apply(this,arguments)}}();return Object(p.jsx)(Ot,Object(d.a)(Object(d.a)({onSave:m,isSaving:h,onClose:function(){return n()}},c),{},{children:Object(p.jsx)(he,{name:"name",type:"text",label:"Sizing Name",value:l.name,onChange:x,autoFocus:!0})}))}var ha=Object(S.b)((function(e){return{settings:y(e)}}),(function(e){return{setNotification:function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];e(k.apply(ba,a))}}}))((function(e){var t=e.apiObj,a=e.licExpired,n=Object(W.a)(e,["apiObj","licExpired"]),c=pa(),i=Object(r.useState)([]),s=Object(P.a)(i,2),o=s[0],l=s[1],d=Object(r.useState)(""),u=Object(P.a)(d,2),j=u[0],b=u[1],O=Object(r.useState)(!1),h=Object(P.a)(O,2),g=h[0],f=h[1],x=Object(r.useState)(null),m=Object(P.a)(x,2),v=m[0],y=m[1];Object(r.useEffect)(Object(ze.a)(Ae.a.mark((function e(){var a;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.get(Pe);case 3:a=e.sent,l(a.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n.setNotification(w,Object(me.getAxiosErr)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]);var _=Object(r.useMemo)((function(){return[{Header:"Sizing Name",accessor:"name",width:"100%",Cell:function(e){var t=e.value,n=e.row;return Object(p.jsx)(L.a,{onClick:function(){a||(y(n.original),f(!0))},href:"#",children:t})}}]}),[a]);return Object(p.jsxs)(R.a,{className:c.root,children:[Object(p.jsxs)(R.a,{className:c.searchbar,children:[Object(p.jsx)(Y.a,{value:j,onChange:function(e){b(e.target.value)},style:{minWidth:"20%"},placeholder:"Search sizing"}),Object(p.jsx)(E.a,{variant:"contained",color:"primary",onClick:function(){y(null),f(!0)},style:{marginLeft:"0.5rem"},disabled:a,startIcon:Object(p.jsx)(qt.a,{}),children:"Add new sizing"})]}),Object(p.jsx)(R.a,{className:c.gridarea,children:Object(p.jsx)(Ee,{columns:_,data:o,filterText:j,fixedLayout:!0,noRowsMessage:"Click on add new sizing"})}),Object(p.jsx)(Oa,{apiObj:t,title:(null===v||void 0===v?void 0:v.id)?"Update Sizing":"Add Sizing",open:g,onClose:function(e){f(!1),(null===e||void 0===e?void 0:e.id)&&l((function(t){var a=de.a.findIndex(t,(function(t){return t.id==e.id}));return a>=0?[].concat(Object(T.a)(t.slice(0,a)),[e],Object(T.a)(t.slice(a+1))):[].concat(Object(T.a)(t),[e])}))},selData:v,setNotification:n.setNotification})]})}));function ga(e,t){var a=de.a.clone(e);switch(t.type){case"add_count":a.push({count:t.value,rates:{}})}return a}var fa=Object(M.a)((function(){return{inputGridTd:{padding:"0px"}}}));function xa(){var e,t=fa(),a=Object(r.useState)({}),n=Object(P.a)(a,2),c=n[0],i=n[1],s=Object(r.useState)([[6501,8500],[8501,9500]]),o=Object(P.a)(s,2),l=o[0],j=o[1],b=Object(r.useReducer)(ga,[{count:30,rates:(e={},Object(u.a)(e,JSON.stringify([8501,9500]),25),Object(u.a)(e,JSON.stringify([6501,8500]),22),e)},{count:40,rates:Object(u.a)({},JSON.stringify([8501,9500]),24)}]),O=Object(P.a)(b,2),h=O[0],g=O[1],f=Object(r.useMemo)((function(){return[{Header:"Count",accessor:"count",Cell:function(e){var t=e.value;return Object(p.jsx)(he,{fullWidth:!0,type:"number",value:t,readOnly:!0,grid:!0})}}].concat(Object(T.a)(l.map((function(e,t){return{Header:function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(R.a,{children:e[0]}),Object(p.jsx)(G.a,{}),Object(p.jsx)(R.a,{children:e[1]})]})},id:JSON.stringify(e)+t,accessor:function(t){return t.rates[JSON.stringify(e)]||0},Cell:function(e){var t=e.value;e.row,e.column;return Object(p.jsx)(he,{fullWidth:!0,type:"number",value:t,onChange:function(e){var t=e.target.value;g({type:"set_value",value:t})},grid:!0})}}}))))}),[null===l||void 0===l?void 0:l.length]),x=Object(r.useCallback)((function(e,t){var a=e;e&&e.target&&(t=e.target.name,a=e.target.value),i((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(u.a)({},t,a))}))}),[]);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(R.a,{p:"1"}),Object(p.jsx)(R.a,{width:"100%",overflow:"auto",children:Object(p.jsx)(Ee,{columns:f,data:h,filterObj:[],tdClassName:t.inputGridTd,fixedLayout:!0})}),Object(p.jsx)(q.a,{container:!0,children:Object(p.jsxs)(q.a,{item:!0,lg:4,md:6,sm:12,xs:12,children:[Object(p.jsxs)(je,{children:[Object(p.jsx)(be,{children:Object(p.jsx)(he,{label:"Count",name:"count",type:"number",value:c.count,onChange:x})}),Object(p.jsx)(be,{children:Object(p.jsx)(E.a,{variant:"contained",color:"primary",onClick:function(){g({type:"add_count",value:c.count}),i((function(e){return Object(d.a)(Object(d.a)({},e),{},{count:null})}))},children:"Add Count"})}),Object(p.jsx)(be,{})]}),Object(p.jsxs)(je,{children:[Object(p.jsx)(be,{children:Object(p.jsx)(he,{label:"From",name:"rangeFrom",type:"number",value:c.rangeFrom,onChange:x})}),Object(p.jsx)(be,{children:Object(p.jsx)(he,{label:"To",name:"rangeTo",type:"number",value:c.rangeTo,onChange:x})}),Object(p.jsx)(be,{children:Object(p.jsx)(E.a,{variant:"contained",color:"primary",type:"number",onClick:function(){j((function(e){return[].concat(Object(T.a)(e),[[c.rangeFrom,c.rangeTo]])}))},children:"Add Total ends"})})]})]})})]})}var ma=void 0,va=Object(M.a)((function(e){return{root:{display:"flex",flexDirection:"column",height:"100%"},searchbar:{padding:e.spacing(1),display:"flex"},gridarea:{flexGrow:1}}}));var ya=Object(S.b)((function(e){return{settings:y(e)}}),(function(e){return{setNotification:function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];e(k.apply(ma,a))}}}))((function(e){va();var t,a=c.a.useState(0),n=Object(P.a)(a,2),i=n[0],s=n[1],o=Object(r.useMemo)((function(){return Me()}),[]),l=e.activation.is_trial&&e.activation.usage_days_left<=0;return Object(p.jsxs)(R.a,{p:1,display:"flex",flexDirection:"column",height:"100%",children:[Object(p.jsxs)(Xe.a,(t={size:"small",exclusive:!0,value:i},Object(u.a)(t,"exclusive",!0),Object(u.a)(t,"onChange",(function(e,t){null!=t&&s(t)})),Object(u.a)(t,"children",[Object(p.jsx)($e.a,{value:0,children:"Agents"}),Object(p.jsx)($e.a,{value:1,children:"Parties"}),Object(p.jsx)($e.a,{value:2,children:"Sizings"})]),t)),Object(p.jsx)(nt,{value:i,index:0,children:Object(p.jsx)(oa,{apiObj:o,licExpired:l})}),Object(p.jsx)(nt,{value:i,index:1,children:Object(p.jsx)(ja,{apiObj:o,licExpired:l})}),Object(p.jsx)(nt,{value:i,index:2,children:Object(p.jsx)(ha,{apiObj:o,licExpired:l})}),Object(p.jsx)(nt,{value:i,index:999,children:Object(p.jsx)(xa,{apiObj:o,licExpired:l})})]})})),wa=void 0,_a=Object(M.a)((function(e){return{dashboardRoot:{display:"flex",height:"100%",flexDirection:"column"},subMenu:{top:"42px"},bottomMenuContent:{flexGrow:1,display:"flex",flexDirection:"column",position:"relative"},rightContent:{flexGrow:1,display:"flex",flexDirection:"column"}}})),Ca=[{label:"Fabric costing",path:"/fabriccosting",component:ra},{label:"Master",path:"/master",component:ya},{label:"Settings",path:"/settings",component:st},{label:"License",path:"/license",component:Be}];function ka(e){var t=e.navItems;return Object(p.jsx)(R.a,{children:t.map((function(e){return Object(p.jsx)(D,{path:e.path,children:e.label},e.path)}))})}function Sa(e){var t=e.item,a=_a();return Object(F.g)({path:t.path})?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(R.a,{children:Object(p.jsx)(B.a,{variant:"dense"})}),Object(p.jsx)(I.a,{color:"default",elevation:1,component:"div",className:a.subMenu,children:Object(p.jsx)(B.a,{variant:"dense",children:Object(p.jsx)(ka,{navItems:t.submenu})})})]}):Object(p.jsx)(p.Fragment,{})}var Na=Object(S.b)((function(e){return{notify:e.notify}}),(function(e){return{setNotification:function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];e(k.apply(wa,a))},clearNotification:function(){e(k(null,null))},setSettings:function(t){e(v(t))}}}))((function(e){e.location;var t=Object(W.a)(e,["location"]),a=_a(),n=Object(r.useMemo)((function(){return Me()})),c=Object(r.useState)({is_trial:!0,usage_days_left:0,system_id:null}),i=Object(P.a)(c,2),s=i[0],o=i[1],l=Object(r.useMemo)((function(){var e=[];return Ca.filter((function(e){return Boolean(e.submenu)})).forEach((function(t){e.push.apply(e,Object(T.a)(t.submenu))})),e})),u=function(e,t){o((function(t){return Object(d.a)(Object(d.a)({},t),{},{is_trial:!Boolean(e)})}))};return Object(r.useEffect)((function(){n.get(we).then((function(e){var a=e.data;t.setSettings(JSON.parse(a))})).catch((function(e){console.log(Object(me.getAxiosErr)(e))})),n.post(Se+"/init").then((function(e){var t=e.data;console.log(t),o((function(e){var a=30-Object(me.epochDiffDays)(Object(me.getEpoch)(),t.install_date);return a=a<0?0:a,Object(d.a)(Object(d.a)({},e),{},{system_id:t.system_id,is_trial:!Boolean(t.activation_date),usage_days_left:a})}))})).catch((function(e){console.log(Object(me.getAxiosErr)(e))}))}),[]),Object(p.jsxs)(R.a,{className:a.dashboardRoot,children:[Object(p.jsx)(R.a,{children:Object(p.jsx)(B.a,{variant:"dense"})}),Object(p.jsx)(I.a,{color:"primary",elevation:1,component:"div",children:Object(p.jsxs)(B.a,{variant:"dense",disableGutters:!0,children:[Object(p.jsx)(R.a,{display:"flex",style:{padding:"0rem 0.5rem"},alignItems:"center",children:Object(p.jsx)(A.a,{variant:"h6",children:"Costing"})}),Object(p.jsx)(ka,{navItems:Ca})]})}),Ca.filter((function(e){return Boolean(e.submenu)})).map((function(e){return Object(p.jsx)(Sa,{item:e})})),Object(p.jsx)(R.a,{className:a.bottomMenuContent,children:Object(p.jsxs)(F.d,{children:[[].concat(Ca,Object(T.a)(l)).map((function(e){return Object(p.jsx)(F.b,{exact:!0,path:e.path,render:function(t){return Object(p.jsx)(e.component,Object(d.a)(Object(d.a)({},t),{},{onActivate:u,activation:s}))},children:e.redirect&&Object(p.jsx)(F.a,{to:e.redirect})},e.path)})),Object(p.jsx)(F.b,{children:Object(p.jsx)(F.a,{to:"/FabricCosting"})})]})}),Object(p.jsx)(z.a,{open:Boolean(t.notify.message),autoHideDuration:2500,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:function(e,a){"clickaway"!==a&&t.clearNotification()},children:Object(p.jsx)(V.a,{severity:t.notify.type,onClose:t.clearNotification,children:t.notify.message})})]})})),Ta=Object(x.c)(Object(x.b)({settings:m,notify:C}),{settings:{},notify:{type:null,message:null}});function Pa(){return Object(p.jsx)(f,{children:Object(p.jsxs)(o.b,{injectFirst:!0,children:[Object(p.jsx)(l.a,{}),Object(p.jsx)(S.a,{store:Ta,children:Object(p.jsx)(N.a,{children:Object(p.jsx)(Na,{})})})]})})}var Wa=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,911)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))};ht.Font.register({family:"m1",src:gt,fontStyle:"normal",fontWeight:"normal"}),ht.Font.register({family:"m1",src:ft,fontStyle:"normal",fontWeight:"bold"}),s.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(Pa,{})}),document.getElementById("root")),Wa()}},[[841,1,2]]]);
//# sourceMappingURL=main.3e3ef303.chunk.js.map